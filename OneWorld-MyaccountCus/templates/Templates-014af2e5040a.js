SC.templates = {"macros":["<% registerMacro('addressFrom', function (address, options) { %>\n<% \n\tvar site_settings = SC.ENVIRONMENT.siteSettings\n\t,\tmanage = options.manage ? options.manage + '-' : ''\n\t,\tcountries = options.countries\n\t,\tquantity_countries = _.size(countries)\n\t,\tselected_country = address.get('country') || site_settings.defaultshipcountry\n\t,\tapplication = this.view.options.application || this.view.options.wizard.application;\n\n\tif (quantity_countries === 1)\n\t{\n\t\tselected_country = _.keys(countries)[0];\n\t}\n%>\n<fieldset>\n\t<div data-type=\"alert-placeholder\"><\/div>\n\t\n\t<div class=\"control-group\" data-input=\"fullname\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>fullname\">\n\t\t\t<%= _('Full Name').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>fullname\" name=\"fullname\" value=\"<%- address.get('fullname')%>\">\n\t\t<\/div>\n\t<\/div>\n\t<% \/* \n\tTODO: the next field should be shown\/hidden depending on a feature in Setup Website > Shopping\n\tregistration has 2 fields: displaycompanyfield and showcompanyfield, not sure which to use \n\t*\/ %>\n\t<% if (site_settings.registration.displaycompanyfield === 'T') { %>\n\t<div class=\"control-group\" data-input=\"company\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>company\">\n\t\t\t<%= _('Company').translate() %>\n\t\t\t<% if (site_settings.registration.companyfieldmandatory === 'T') { %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t\t<% } %>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"input-xlarge\"\n\t\t\t\tid=\"<%= manage %>company\"\n\t\t\t\tname=\"company\"\n\t\t\t\tvalue=\"<%- address.get('company') %>\"\n\t\t\t\t<% if (site_settings.registration.companyfieldmandatory !== 'T') { %>\n\t\t\t\t\tplaceholder=\"<%= _('(optional)').translate() %>\"\n\t\t\t\t<% } %>\n\t\t\t>\n\t\t<\/div>\n\t<\/div>\n\t<% } %>\n\t\n\t<div class=\"control-group\" data-input=\"addr1\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>addr1\">\n\t\t\t<%= _('Address').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>addr1\" name=\"addr1\" value=\"<%- address.get('addr1') %>\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 1234 Main Street').translate() %>\n\t\t<\/span>\n\t<\/div>\n\n\t<div class=\"control-group control-group-big\" data-input=\"addr2\">\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>addr2\" name=\"addr2\" value=\"<%- address.get('addr2') %>\" placeholder=\"<%= _('(optional)').translate() %>\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: Apt. 3 or Suite #1516').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\" data-input=\"city\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>city\">\n\t\t\t<%= _('City').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"<%= manage %>city\" name=\"city\" value=\"<%- address.get('city') %>\">\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group<%= quantity_countries <= 1 ? ' hide' : '' %>\" data-input=\"country\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>country\">\n\t\t\t<%= _('Country').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<%= SC.macros.countriesDropdown(countries, selected_country, manage) %>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\" data-input=\"state\">\n\t\t<%= SC.macros.statesDropdown({\n\t\t\tcountries: options.countries\n\t\t,\tselectedCountry: selected_country\n\t\t,\tselectedState: address.get('state')\n\t\t,\tmanage: manage\n\t\t}) %>\n\t<\/div>\n\n\t<div class=\"control-group\"  data-input=\"zip\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>zip\">\n\t\t\t<%= _('Zip Code').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-medium\" id=\"<%= manage %>zip\" name=\"zip\" value=\"<%- address.get('zip') %>\" data-type=\"zip\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 94117').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\"  data-input=\"phone\">\n\t\t<label class=\"control-label\" for=\"<%= manage %>phone\">\n\t\t\t<%= _('Phone Number').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"tel\" class=\"input-xlarge\" id=\"<%= manage %>phone\" name=\"phone\" value=\"<%- address.get('phone') %>\" data-type=\"phone\">\n\t\t<\/div>\n\t\t<span class=\"help-block\">\n\t\t\t<%= _('Example: 555-123-1234').translate() %>\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"control-group\" data-input=\"isresidential\">\n\t\t<div class=\"controls\">\n\t\t\t<label class=\"checkbox\">\n\t\t\t\t<input type=\"checkbox\" id=\"<%= manage %>isresidential\" value=\"T\" data-unchecked-value=\"F\" name=\"isresidential\" <%= address.get('isresidential') === 'T' ? 'checked' : '' %>>\n\t\t\t\t<%= _('This is a Residential Address').translate() %>\n\t\t\t\t<a href=\"#\" rel=\"tooltip\" data-toggle=\"tooltip\" title=\"<%= _('Indicating that this is a residential address will help us determine the best delivery method for your items.').translate() %>\">\n\t\t\t\t\t<i class=\"icon-question-sign\"><\/i>\n\t\t\t\t<\/a>\n\t\t\t<\/label>\n\t\t<\/div>\n\t<\/div>\n\t\n\t<% if (!options.hideDefaults) { %>\n\t\t<div class=\"control-group\" data-input=\"defaultbilling\">\n\t\t\t<div class=\"controls\">\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input type=\"checkbox\" id=\"<%= manage %>defaultbilling\" value=\"T\" data-unchecked-value=\"F\" name=\"defaultbilling\" <%= address.get('defaultbilling') === 'T' ? 'checked' : '' %>>\n\t\t\t\t\t<%= application.getConfig('currentTouchpoint') === 'checkout' ? _('Save as my primary billing address').translate() : _('Make this my default billing address').translate() %>\n\t\t\t\t<\/label>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\n\t<% if (!options.hideDefaults) { %>\n\t\t<div class=\"control-group\" data-input=\"defaultshipping\">\n\t\t\t<div class=\"controls\">\n\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t<input type=\"checkbox\" id=\"<%= manage %>defaultshipping\" value=\"T\" data-unchecked-value=\"F\" name=\"defaultshipping\" <%= address.get('defaultshipping') === 'T' ? 'checked' : '' %>>\n\t\t\t\t\t<%= application.getConfig('currentTouchpoint') === 'checkout' ? _('Save as my primary shipping address').translate() : _('Make this my default shipping address').translate() %>\n\t\t\t\t<\/label>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n<\/fieldset>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('address', function (address, options) {\n\toptions = options || {};\n\n\tvar label = address.get('label')\n\t,\tcompany = (SC.ENVIRONMENT.siteSettings.registration.displaycompanyfield === 'T') ? address.get('company') : null\n\t,\tfullname = address.get('fullname')\n\t,\tcountries = SC.ENVIRONMENT.siteSettings.countries\n\t,\tcountry_object = countries[address.get('country')]\n\t,\tcountry = (country_object)? country_object.name : address.get('country')\n\t,\tstate_object = (country_object && country_object.states)? _.findWhere(countries[address.get('country')].states, {code: address.get('state')}): null\n\t,\tstate = (state_object)? state_object.name: address.get('state');\n%>\n\n<div class=\"address\" >\n\t<div class=\"main-container\" data-id=\"<%= address.get('internalid') %>\" <%= options.manage ? 'data-manage=' + options.manage : ''%>>\n\n\t\t\t<address >\n\n\t\t\t\t<% if (options.showMultiSelect) { %>\n\t\t\t\t\t<div class=\"multiselect-address-selector\" >\n\t\t\t\t\t\t<input type=\"checkbox\" <%= address.get('check') ? 'checked': '' %> data-id=\"<%- address.get('internalid') %>\" data-action=\"multi-select-address\" \/>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<div class=\"<%= options.showMultiSelect ? 'multiselect-address-container': '' %>\">\n\t\t\t\t\t<span class=\"address-line address-title summary-header\">\n\t\t\t\t\t\t<%= label || company || fullname %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<% if (label && company) { %>\n\t\t\t\t\t\t<span class=\"address-line address-company\">\n\t\t\t\t\t\t\t<%= company %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<span class=\"address-line address-name\">\n\t\t\t\t\t\t\t<%= fullname %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } else if (label ? !company : company ) { %>\n\t\t\t\t\t\t<span class=\"address-line address-name\">\n\t\t\t\t\t\t\t<%= fullname %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span class=\"address-line address-addr1\">\n\t\t\t\t\t\t<%= address.get('addr1') %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<% if (address.get('addr2')) { %>\n\t\t\t\t\t\t<span class=\"address-line address-addr2\">\n\t\t\t\t\t\t\t<%= address.get('addr2') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span class=\"address-line\">\n\t\t\t\t\t\t<span class=\"address-city\">\n\t\t\t\t\t\t\t<%= address.get('city') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<% if (address.get('state')) { %>\n\t\t\t\t\t\t\t<span class=\"address-state\">\n\t\t\t\t\t\t\t\t<%= state %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<span class=\"address-zip\">\n\t\t\t\t\t\t\t<%= address.get('zip') %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<span class=\"address-line address-country\">\n\t\t\t\t\t\t<%= country %>\n\t\t\t\t\t<\/span>\n\t\t\t\t\t<span class=\"address-line address-phone\">\n\t\t\t\t\t\t<%= address.get('phone') %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/address>\n\n\t\t\t<% if (!options.hideDefaults) { %>\n\t\t\t\t<% if (address.get('defaultshipping') === 'T') { %>\n\t\t\t\t<p class=\"default-shipping\">\n\t\t\t\t\t<i class=\"icon-star\"><\/i>\n\t\t\t\t\t<%= _('Default Shipping Address').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (address.get('defaultbilling') === 'T') { %>\n\t\t\t\t<p class=\"default-billing\">\n\t\t\t\t\t<i class=\"icon-star\"><\/i>\n\t\t\t\t\t<%= _('Default Billing Address').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\n\t\t\t<% if (options.showSelect) { %>\n\t\t\t\t<button class=\"btn btn-primary btn-block\" data-action=\"select\" data-id=\"<%- address.get('internalid') %>\">\n\t\t\t\t\t<%= options.selectMessage || _('Select this address').translate() %>\n\t\t\t\t<\/button>\n\t\t\t<% } %>\n\n\t\t\t<% if (!options.hideActions) { %>\n\t\t\t<p class=\"actions\">\n\t\t\t\t<a class=\"btn btn-link edit-address\" href=\"\/addressbook\/<%- address.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t\t<%= _('Edit Address').translate() %>\n\t\t\t\t<\/a>\n\n\t\t\t\t<a class=\"btn btn-link remove-address\" data-action=\"remove\" data-id=\"<%- address.get('internalid') %>\">\n\t\t\t\t\t<%= _('Remove').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/p>\n\t\t\t<% } %>\n\n\t\t\t<% if (options.showError && address.get('isvalid') !== 'T') { %>\n\t\t\t\t<div data-type=\"address-error-container\">\n\t\t\t\t\t<div class=\"address-error-message\"><%= _('Invalid address, please provide the following:').translate() %><\/div>\n\t\t\t\t\t<%\n\t\t\t\t\t\tvar invalid_attributes = address.getInvalidAttributes()\n\t\t\t\t\t%>\n\t\t\t\t\t<% _.each(invalid_attributes, function (attribute) { %>\n\t\t\t\t\t\t<div class=\"address-error-message\"> <%= '- ' + attribute %> <\/div>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('creditcard', function (creditcard, options) { %>\n<%\n\tvar payment_name = creditcard.get('paymentmethod').name\n\t,\texpiration_month = creditcard.get('expmonth')\n\t,\ticons = options.icons;\n%>\n<article class=\"creditcard\" data-id=\"<%= creditcard.get('internalid') %>\">\n\t<% if (options.showSecurityCodeForm) { %>\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span6\">\n\t<% } %>\n\t\t\t<h4 class=\"summary-header\">\n\t\t\t<% if (payment_name in icons) { %>\n\t\t\t\t<img class=\"credit-card-icon\" src=\"<%- icons[payment_name] %>\" alt=\"<%- payment_name %>\">\n\t\t\t<% } else { %>\n\t\t\t\t<%= payment_name %>\n\t\t\t<% } %> &ndash;\n\t\t\t<span class=\"ccnumber\"><%= _('Ending in $(0)').translate(creditcard.get('ccnumber').replace(\/\\*\/g, '')) %><\/span>\n\t\t\t<\/h4>\n\t\t\t<p>\n\t\t\t\t<span class=\"ccname\"><%= creditcard.get('ccname') %><\/span> <br>\n\t\t\t\t<span class=\"expdate\"><%= _('Expires').translate() + ' ' + (expiration_month < 10 ? '0' : '') + expiration_month + '\/' + creditcard.get('expyear') %><\/span>\n\t\t\t<\/p>\n\t\t\t<% if (options.showDefaults) { %>\n\t\t\t<p class=\"default-credit-card\">\n\t\t\t\t<% if (creditcard.get('ccdefault') === 'T') { %>\n\t\t\t\t\t<i class=\"icon-star\"><\/i>\n\t\t\t\t\t<%= _('Default Credit Card').translate() %>\n\t\t\t\t<% } %>\n\t\t\t<\/p>\n\t\t\t<% } %>\n\t<% if (options.showSecurityCodeForm) { %>\n\t\t<\/div>\n\t\t<div class=\"span6\">\n\t\t\t<%= SC.macros.creditcardSecurityNumberForm({\n\t\t\t\terror: options.securityNumberError\n            ,   value: creditcard.get('ccsecuritycode')\n\t\t\t}) %>\n\t\t<\/div>\n\t<\/div>\n\t<% } %>\n\n\t<% if (options.showSelect) { %>\n\t\t<button class=\"btn btn-primary btn-block\" data-action=\"select\" data-id=\"<%- creditcard.get('internalid')%>\">\n\t\t\t<%= options.selectMessage %>\n\t\t<\/button>\n\t<% } %>\n\n\t<% if (options.showActions) { %>\n\t\t<p class=\"actions\">\n\t\t\t<a class=\"btn btn-link\" href=\"\/creditcards\/<%= creditcard.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t<%= _('Edit Card').translate() %>\n\t\t\t<\/a>\n\t\t\t<button class=\"btn btn-link\" data-action=\"remove\" data-id=\"<%- creditcard.get('internalid') %>\">\n\t\t\t\t<%= _('Remove').translate() %>\n\t\t\t<\/button>\n\t\t<\/p>\n\t<% } %>\n<\/article>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('creditcardSecurityNumberForm', function (options) { %>\n<% options = options || {}; %>\n<div class=\"credit-card-security-number\">\n\t<div class=\"control-group <%= options.error ? 'error' : '' %>\">\n\t\t<label class=\"control-label\" for=\"ccsecuritycode\">\n\t\t\t<%= _('Security Number').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"input-small\"\n\t\t\t\tid=\"ccsecuritycode\"\n\t\t\t\tname=\"ccsecuritycode\"\n\t\t\t\tvalue=\"<%- options.value %>\"\n\t\t\t\tmaxlength=\"4\"\n\t\t\t>\n\t\t\t<% if (options.error) { %>\n\t\t\t\t<p class=\"help-block\">\n\t\t\t\t\t<%= options.error.errorMessage %>\n\t\t\t\t<\/p>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('creditcardForm', function (creditcard, options) { %>\n<% var application = options.application; %>\n<fieldset>\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<div class=\"control-group\">\n\t\t<div class=\"controls\">\n\t\t\t<%\n\t\t\t\tvar icons = application.getConfig('creditCardIcons')\n\t\t\t\t,\tselected_payment_method = creditcard.get('paymentmethod')\n\t\t\t\t,\tcreditcards = _.where(application.getConfig('siteSettings.paymentmethods'), {creditcard: 'T', ispaypal: 'F'});\n\t\t\t%>\n\t\t\t<input type=\"hidden\" id=\"paymentmethod\" name=\"paymentmethod\" value=\"<%- selected_payment_method && selected_payment_method.internalid %>\"\/>\n\t\t\t<% _.each(creditcards, function (paymentmethod) { %>\n\t\t\t\t<img\n\t\t\t\t\tclass=\"credit-card-icon <%- creditcard.isNew() || selected_payment_method && paymentmethod.internalid === selected_payment_method.internalid ? '' : 'hidden' %>\"\n\t\t\t\t\tsrc=\"<%- icons[paymentmethod.name] %>\"\n\t\t\t\t\tdata-value=\"<%- paymentmethod.internalid %>\"\n\t\t\t\t\talt=\"<%- paymentmethod.name %>\"\n\t\t\t\t\tdata-image=\"creditcard-icon\"\n\t\t\t\t\/>\n\t\t\t<% }) %>\n\t\t\t<\/select>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\">\n\t\t<label class=\"control-label\" for=\"ccnumber\">\n\t\t\t<%= _('Credit Card Number').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"ccnumber\" name=\"ccnumber\" value=\"<%- creditcard.get('ccnumber') %>\" <%= !creditcard.isNew() ? 'disabled':'' %> >\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"control-group\">\n\t\t<label class=\"control-label\" for=\"expmonth\">\n\t\t\t<%= _('Expiration Date').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\t\t<div class=\"controls\">\n\t\t\t<select class=\"input-mini\" id=\"expmonth\" name=\"expmonth\">\t\t\t\t\t\n\t\t\t\t<% var currentMonth = creditcard.get('expmonth') ? creditcard.get('expmonth') : options.currentMonth  %>\n\t\t\t\t<% _.each(options.months, function (month, index) { %>\n\t\t\t\t\t<option value=\"<%- month %>\" <%= month == currentMonth ? 'selected' : '' %>>\n\t\t\t\t\t\t<%= month %>\n\t\t\t\t\t<\/option>\n\t\t\t\t<% }) %>\n\t\t\t<\/select>\n\t\t\t<select class=\"input-small\" id=\"expyear\" name=\"expyear\">\n\t\t\t\t<% _.each(options.years, function (year, index) { %>\n\t\t\t\t\t<option value=\"<%- year %>\" <%= year == creditcard.get('expyear') ? 'selected' : '' %> <%= options.expyear == year ? 'disabled' : '' %>>\n\t\t\t\t\t\t<%= year %>\n\t\t\t\t\t<\/option>\n\t\t\t\t<% }) %>\n\t\t\t<\/select>\n\t\t<\/div>\n\t<\/div>\n\t\n\t<% if (options.showSecurityCodeForm) { %>\n\t\t<%= SC.macros.creditcardSecurityNumberForm() %>\n\t<% } %>\n\n\t<div class=\"control-group\">\n\t\t<label class=\"control-label\" for=\"ccname\">\n\t\t\t<%= _('Name on Card').translate() %>\n\t\t\t<small>\n\t\t\t\t<%= _('(required)').translate() %>\n\t\t\t<\/small>\n\t\t<\/label>\n\n\t\t<div class=\"controls\">\n\t\t\t<input type=\"text\" class=\"input-xlarge\" id=\"ccname\" name=\"ccname\" maxlength=\"26\" value=\"<%- creditcard.get('ccname') %>\">\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (application.getUser().get('isGuest') !== 'T' && options.showDefaults) { %>\n\t<div class=\"control-group\">\n\t\t<div class=\"controls\">\n\t\t\t<label class=\"checkbox\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tid=\"ccdefault\"\n\t\t\t\t\tvalue=\"T\"\n\t\t\t\t\tdata-unchecked-value=\"F\"\n\t\t\t\t\tname=\"ccdefault\"\n\t\t\t\t\t<%= creditcard.get('ccdefault') === 'T' ? 'checked' : '' %>\n\t\t\t\t>\n\t\t\t\t<%= _('Make this my default credit card').translate() %>\n\t\t\t<\/label>\n\t\t<\/div>\n\t<\/div>\n\t<% } %>\n\t\n<\/fieldset>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('modal', function (page_header) { %>\n<div id=\"modal\" class=\"modal fade\">\n\t<div class=\"modal-dialog\">\n\t\t<div class=\"modal-content\">\n\t\t\t<div id=\"modal-header\" class=\"modal-header\">\n\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\n\t\t\t\t\t&times;\n\t\t\t\t<\/button>\n\t\t\t\t<h3 class=\"modal-title\">\n\t\t\t\t\t<%= page_header || '&nbsp;' %>\n\t\t\t\t<\/h3>\n\t\t\t<\/div>\n\t\t\t<div id=\"modal-body\" class=\"modal-body\"><\/div>\n\t\t<\/div><!-- \/.modal-content -->\n\t<\/div><!-- \/.modal-dialog -->\n<\/div><!-- \/.modal -->\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('message', function (message, type, closable) { %>\n<div class=\"alert <%= type ? 'alert-' + type : '' %>\">\n\t<% if (closable) { %>\n\t\t<button class=\"close\" data-dismiss=\"alert\">&times;<\/button>\n\t<% } %>\n\t<% if (_.isObject(message)) { %>\n\t\t<ul>\n\t\t<% _.each(message, function(item, index) { %>\n\t\t\t<li><%= item %><\/li>\n\t\t<% }) %>\n\t\t<ul>\n\t<% } else { %>\n\t\t<%= message %>\n\t<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('backToTop', function () { %>\n<div id=\"back-to-top\" class=\"text-center back-to-top\">\n\t<a href=\"#\" data-action=\"back-to-top\">\n\t\t<i class=\"icon-arrow-up\"><\/i>\n\t\t<%= _('Top').translate() %>\n\t<\/a>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('formatPaymentMethod', function (payment, creditCardIcons, normalNameInCard) {\n\t%><span class=\"payment-method-formatted payment-method-formatted-<%=payment.get('type')%>\"><%\n\tswitch (payment.get('type')){\n\t\tcase 'creditcard':\n\t\t\tvar creditcard = payment.get('creditcard');\n\t\t\tif (creditcard && creditcard.ccnumber) {\n\t\t\t\tvar ccpname = creditcard.paymentmethod ? creditcard.paymentmethod.name : ''; %>\n\t\t\t\t<b class=\"credit-card-icon\">\n\t\t\t\t\t<% if(creditCardIcons && ccpname in creditCardIcons){ %>\n\t\t\t\t\t\t<img class=\"credit-card-icon\" src=\"<%= creditCardIcons[ccpname] %>\" alt=\"<%= ccpname %>\">\n\t\t\t\t\t<% }else{ %>\n\t\t\t\t\t\t<%= ccpname %>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<span>&nbsp;-&nbsp;<\/span>\n\t\t\t\t\t<%= _('Ending in $(0)').translate(creditcard.ccnumber.replace(\/\\*\/g, '')) %>\n\t\t\t\t<\/b>\n\t\t\t\t<br>\n\t\t\t\t<b class=\"credit-card-name<%= normalNameInCard ? ' normal-weight' : '' %>\">\n\t\t\t\t\t<%= creditcard.ccname %>\n\t\t\t\t<\/b>\n\t\t\t\t<br>\n\t\t\t\t<span class=\"credit-card-expiredate\">\n\t\t\t\t\t<%= _('Expires ').translate() + creditcard.ccexpiredate %>\n\t\t\t\t<\/span>\n\t\t\t<% } else { %>\n\t\t\t\t<%= _('N\/A').translate() %>\n\t\t\t<%}\n\t\t\tbreak;\n\t\tcase 'giftcertificate':\n\t\t\tvar code_length = payment.get('giftcertificate').code.length; %>\n\t\t\t<%= _('Ending in: $(0)').translate(payment.get('giftcertificate').code.substring(code_length - 4, code_length)) %>\n\t\t\t<% break;\n\t\tcase 'invoice': %>\n\t\t\t<b class=\"payment-method-formatted-invoice-terms\">\n\t\t\t\t<%= _('Invoice: Terms $(0)').translate(payment.get('paymentterms').name) %>\n\t\t\t<\/b>\n\t\t\t<% if(payment.get('purchasenumber')) { %>\n\t\t\t\t<br\/>\n\t\t\t\t<span class=\"payment-method-formatted-invoice-purchasenumber\">\n\t\t\t\t\t<%= _('Purchase Number: $(0)').translate(payment.get('purchasenumber')) %>\n\t\t\t\t<\/span>\n\t\t\t<% }\n\t\t\tbreak;\n\t\tcase 'paypal': %>\n\t\t\t<b>\n\t\t\t\t<%= _('Payment via Paypal').translate() %>\n\t\t\t<\/b>\n\t\t\t<%\n\t\t\tbreak;\n\t\tdefault: %>\n\t\t<%= payment.get('type') %><%\n\t}\n\t%><\/span><%\n\tif (payment.get('ccstreet'))\n\t{ %>\n\t\t<br \/>\n\t\t<%= _('Card Street: <span class=\"CardStreet\">$(0)<\/span>').translate(payment.get('ccstreet')) %>\n\t<% }\n\tif (payment.get('cczipcode'))\n\t{ %>\n\t\t<br \/>\n\t\t<%= _('Card Zip Code: <span class=\"CardZipCode\">$(0)<\/span>').translate(payment.get('cczipcode')) %>\n\t<% }\n}) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('starRating', function (options) { %>\n<%\n\tvar fill_value = options.fillRounded ? Math.round(options.value * 2) \/ 2 : options.value\n\t,\tfilled_by = fill_value * 100 \/ options.max\n\t,\ti;\n%>\n<div class=\"rating <%= options.className %>\">\n\t<% if (options.label) { %>\n\t\t<span class=\"rating-label\">\n\t\t\t<%= options.label %>\n\t\t<\/span>\n\t<% } %>\n\t<div class=\"rating-area\" data-toggle='rater' data-name=\"<%= options.name %>\" data-max=\"<%= options.max %>\" data-value=\"<%= options.value %>\">\n\t\t<meta itemprop=\"bestRating\" content=\"<%= options.max %>\">\n\t\t<div class=\"rating-area-fill\" data-toggle='ratting-component-fill' style=\"width: <%= filled_by %>%\">\n\t\t<\/div>\n\t\t<% if (options.writeMode) { %>\n\t\t\t<% for (i = 1; i <= options.max; i++) { %>\n\t\t\t\t<button type=\"button\" data-action=\"rate\" name=\"<%= options.name %>\" value=\"<%= i %>\"><\/button>\n\t\t\t<% } %>\n\t\t<% } %>\n\t\t<div class=\"clearfix\"><\/div>\n\t<\/div>\n\t<% if (options.showValue) { %>\n\t\t<span class=\"rating-value\" itemprop=\"ratingValue\">\n\t\t\t<%= options.value %>\n\t\t<\/span>\n\t<% } else { %>\n\t\t<meta itemprop=\"ratingValue\" content=\"<%= options.value %>\">\n\t<% } %>\n\t<div class=\"clearfix\"><\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('pagination', function (configuration) { %>\n<%\n\t\/\/ Pagination Macro\n\t\/\/ ================\n\t\/\/ Displays a pagination component based on the configuration object.\n\t\/\/ The configuration object understands the following keys: \n\t\/\/ * currentPage: (Required) The page you are currently showing.\n\t\/\/ * totalPages: (Required) The total amount of pages you can show (This is not items, you need to do the math of items\/items_per_page outside this macro).\n\t\/\/ * pager: (Required) a function that recives a page number as parameter and returns the url that the mentioned page number should point to.\n\t\/\/ * showPageList: a boolean to show or hide the pages list portion of this component, defauts to true.\n\t\/\/ * pagesToShow: The amount of pages you want to be displayed in the pages list, defaults to 4.\n\t\/\/ * showPageIndicator: a boolean to show or hide a note on which page you have selected and how many pages are there, defaults to false\n\t\/\/ * extraClass: a string that will be added to the class attribute to the component\n\n\n\n\tvar current_page = parseInt(configuration.currentPage, 10)\n\t,\ttotal_pages = parseInt(configuration.totalPages, 10)\n\t,\tpager = configuration.pager\n\t,\tpages_to_show = parseInt(configuration.pagesToShow, 10) || 4\n\t,\trange_start = 1\n\t,\trange_end = total_pages + 1\n\t,\tpadding_left = (pages_to_show % 2 === 0) ? (pages_to_show \/ 2) - 1 : parseInt(pages_to_show \/ 2, 10) \/\/ ;)\n\t,\tshow_page_list = (_.isBoolean(configuration.showPageList)) ? configuration.showPageList : true\n\t,\tshow_page_indicator = configuration.showPageIndicator || false; \n\n\tif (show_page_list && pages_to_show < total_pages)\n\t{\n\t\t\/\/ if we are getting closer to the end we need to compute from the end to the begingn \n\t\tif (pages_to_show - padding_left > total_pages - current_page)\n\t\t{\n\t\t\trange_start = total_pages + 1 - pages_to_show;\n\t\t}\n\t\telse\n\t\t{\n\n\t\t\trange_start = current_page - padding_left < 1 ? 1 : current_page - padding_left;\n\t\t\trange_end = range_start + pages_to_show > total_pages ? total_pages : range_start + pages_to_show;\n\t\t}\n\t}\n\n\t\n\tvar pages = _.range(range_start, range_end);\n%>\n\n<% if (total_pages >= current_page && current_page > 0 && pages.length > 1) { %>\n<div class=\"pagination <%= configuration.extraClass || '' %>\">\n\n\t<% if (show_page_indicator) { %>\n\t\t<ul class=\"pagination-page-indicator\">\n\t\t\t<li>\n\t\t\t\t<span class=\"\">\n\t\t\t\t\t<%= _('$(0) of $(1)').translate(current_page, total_pages) %>\n\t\t\t\t<\/span>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t\t\n\t<% } %>\n\n\t<ul class=\"pagination-links <% if (!show_page_list) { %>pagination-links-compact<% } %>\">\n\t<% if (current_page !== 1) { %>\n\t\t<li>\n\t\t\t<a rel=\"prev\" href=\"<%- _(pager(current_page-1)).fixUrl() %>\">\n\t\t\t\t&laquo;\n\t\t\t\t<span class=\"hidden\"><%= _('Previous').translate() %><\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"disabled\">\n\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t&laquo;\n\t\t\t\t<span class=\"hidden\"><%= _('Previous').translate() %><\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } %>\n\t\n\t<% if (show_page_list) { %>\n\t\t<% if (range_start > 1) { %>\n\t\t\t<li class=\"disabled\">\n\t\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t\t<span>...<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\t\n\t\t<% } %>\n\n\t\t<% _.each(pages, function (page) { %>\n\t\t\t<% if (current_page !== page) { %>\n\t\t\t\t<li><a href=\"<%- pager(page) %>\"><%= page %><\/a><\/li>\n\t\t\t<% } else { %>\n\t\t\t\t<li class=\"active\"><a href=\"<%- _(pager(page)).fixUrl() %>\"><%= page %><\/a><\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\n\t\t<% if (range_end < total_pages) { %>\n\t\t\t<li class=\"disabled\">\n\t\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t\t<span>...<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\t\n\t\t<% } %>\n\t<% } %>\n\n\t<% if (current_page !== total_pages){ %>\n\t\t<li>\n\t\t\t<a rel=\"next\" href=\"<%- _(pager(current_page+1)).fixUrl() %>\">\n\t\t\t\t<span class=\"hidden\"><%= _('Next').translate() %><\/span>\n\t\t\t\t&raquo;\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"disabled\">\n\t\t\t<a href=\"<%- _(pager(current_page)).fixUrl() %>\">\n\t\t\t\t<span class=\"hidden\"><%= _('Next').translate() %><\/span>\n\t\t\t\t&raquo;\n\t\t\t<\/a>\n\t\t<\/li>\n\t<% } %>\n\t<\/ul>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('breadcrumb', function(pages) { %>\n<% pages = _.isUndefined(pages) || _.isArray(pages) ? pages : [pages]; %>\n<div id=\"banner-breadcrumb-top\" class=\"content-banner banner-breadcrumb-top\"><\/div>\n<ul class=\"breadcrumb hidden-phone\" itemprop=\"breadcrumb\">\n<% _.each(pages, function(link, index) { %>\n\t<% if (link) { %>\n\t\t<% if (index < pages.length - 1) { %>\n\t\t\t<li>\n\t\t\t\t<a <%= _.objectToAtrributes(link) %>><%= link.text %><\/a>\n\t\t\t\t<span class=\"divider\">\/<\/span>\n\t\t\t<\/li>\n\t\t<% } else { %>\n\t\t\t<li class=\"active\">\n\t\t\t\t<%= link.text %>\n\t\t\t<\/li>\n\t\t<% } %>\n\t<% } %>\n<% }) %>\n<\/ul>\n<div id=\"banner-breadcrumb-bottom\" class=\"content-banner banner-breadcrumb-bottom\"><\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('currencySelector', function (currencies, selected_code) { %>\n<% if (currencies && currencies.length > 1) { %>\n<div class=\"input-prepend\">\n\t<span class=\"add-on\">\n\t\t<%= SC.getSessionInfo('currency').symbol %>\n\t<\/span>\n\t<select data-toggle=\"currency-selector\" class=\"input-medium\">\n\t<% _.each(currencies, function (currency) { %>\n\t\t<option value=\"<%- currency.code %>\" <%= selected_code === currency.code ? 'selected' : '' %>>\n\t\t\t<%= currency.title || currency.name %>\n\t\t<\/option>\n\t<% }) %>\n\t<\/select>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('displayHeaderInformation', function (elements) { %>\n\n\t<% elements_per_row = elements.length > 4 ? 4 : elements.length %>\n\t<% var span = 12 \/ elements_per_row %>\n\t<div class=\"header-information\">\n\t\t<div class=\"row-fluid\">\n\t\t<% _.each(elements, function (element, index){ %>\n\t\t\t<% if ((index % elements_per_row) == 0 && index > 0){ %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t<% } %>\n\t\t\t<div class=\"header-information-element span<%= span  + ' ' + (element.addClass || '') %>\">\n\t\t\t\t<%= element.value %>\n\t\t\t<\/div>\n\t\t<% }) %>\n\t\t<\/div>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('showItemPrice', function (price, is_in_stock) { %>\n<% if (price.min && price.max) { %>\n<span itemprop=\"offers\" itemscope itemtype=\"http:\/\/schema.org\/AggregateOffer\">\n\t<meta itemprop=\"priceCurrency\" content=\"<%= SC.getSessionInfo('currency').code %>\">\n\t<!-- Price Range -->\n\t<span class=\"lead-price\">\n\t\t<%= _('$(0) to $(1)').translate(\n\t\t\t'<span itemprop=\"lowPrice\">' + price.min.price_formatted + '<\/span>'\n\t\t,\t'<span itemprop=\"highPrice\">' + price.max.price_formatted + '<\/span>'\n\t\t) %>\n\t<\/span>\n\t<% if (price.max.price < price.compare_price) { %>\n\t\t<small class=\"muted crossed\">\n\t\t\t<%= price.compare_price_formatted %>\n\t\t<\/small>\n\t<% } %>\n\t<link itemprop=\"availability\" href=\"<%= is_in_stock ? 'http:\/\/schema.org\/InStock' : 'http:\/\/schema.org\/OutOfStock' %>\">\n<\/span>\n<% } else { %>\n<span itemprop=\"offers\" itemscope itemtype=\"http:\/\/schema.org\/Offer\">\n\t<meta itemprop=\"priceCurrency\" content=\"<%= SC.getSessionInfo('currency').code %>\">\n\t<!-- Single -->\n\t<span class=\"lead-price\" itemprop=\"price\" data-rate=\"<%= price.price %>\">\n\t\t<%= price.price_formatted %>\n\t<\/span>\n\t<% if (price.price < price.compare_price) { %>\n\t\t<small class=\"muted crossed\">\n\t\t\t<%= price.compare_price_formatted %>\n\t\t<\/small>\n\t<% } %>\n\t<link itemprop=\"availability\" href=\"<%= is_in_stock ? 'http:\/\/schema.org\/InStock' : 'http:\/\/schema.org\/OutOfStock' %>\">\n<% } %>\n<\/span>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('displayInRows', function(items, macro, items_per_row) { %>\n\t<% items_per_row = parseInt(items_per_row, 10) || 3 %>\n\t<% var span = 12 \/ items_per_row %>\n\t<div class=\"row-fluid\">\n\t<% _.each(items, function (item, index){ %>\n\t\t<% if ((index % items_per_row) == 0 && index > 0){ %>\n\t\t\t<\/div>\n\t\t\t<div class=\"row-fluid\">\n\t\t<% } %>\n\t\t<div class=\"span<%= span %>\">\n\t\t\t<% if (_.isFunction(macro)){ %>\n\t\t\t\t<%= macro(item) %>\n\t\t\t<% }else{ %>\n\t\t\t\t<%= item %>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<% }) %>\n\t<\/div>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('countriesDropdown', function (countries, selected_country, manage) { %>\n<select class=\"input-xlarge\" id=\"<%= manage ? manage : ''%>country\" name=\"country\" data-type=\"country\">\n\t<option value=\"\">\n\t\t<%= _('-- Select --').translate() %>\n\t<\/option>\n\t<% _.each(_.values(countries), function (country, index) { %>\n\t\t<option value=\"<%- country.code %>\" <%= country.code === selected_country ? 'selected' : '' %>>\n\t\t\t<%= country.name %>\n\t\t<\/option>\n\t<% }) %>\n<\/select>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('languageSelector', function (languages, selected_locale) { %>\n<% if (languages && languages.length > 1) { %>\n<div class=\"input-prepend\">\n\t<span class=\"add-on\">\n\t\t<i class=\"icon-globe\"><\/i>\n\t<\/span>\n\t<select data-toggle=\"lenguage-selector\" class=\"input-medium\">\n\t<% _.each(languages, function(language) { %>\n\t\t<option value=\"<%- language.locale %>\" <%= language.locale === selected_locale ? 'selected' : '' %>>\n\t\t\t<%= language.title || language.name %>\n\t\t<\/option>\n\t<%})%>\n\t<\/select>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('tree', function(model, self, level, root) { %>\n\n<% var expandable = model.children && model.children.length > 0; %>\n<li data-id='<%=model.id%>' data-label='<%=model.id%>' <%= root ? 'data-type=\"tree\" data-toggle=\"tree\"' : ''%> data-permissions=\"<%= model.permission %>\" data-permissions-operator=\"<%= model.permissionOperator %>\">\n\n\t<% if(expandable) { %>\n\t<div class=\"expandable\">\n\t\t<a <%= model.url ? 'href=\/' + model.url : '' %>><%= model.name %><\/a>\n\t\t<i class=\"pull-right icon-chevron-right\"><\/i>\n\t<\/div>\n\t<% level++;\t%>\n\t<ul class=\"nav nav-tabs nav-stacked tree-level-<%=level%>\" data-type=\"sub-menu\">\n\t<% var ordered_children = _(model.children).sortBy(function(item){return item.index + item.name; }); \n\t\t_.each(ordered_children, function (tree_item, index){ %>\n\t\t<%=self(tree_item, self, level) %>\n\t<%})%>\n\t<\/ul>\n\t<% } else { %>\n\t<a <%= model.url ? 'href=\/' + model.url : '' %>><%= model.name %><\/a>\n\t<% } %>\n<\/li>\n\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('hostSelector', function (hosts, current_host) { %>\n<% if (hosts && hosts.length > 1) { %>\n<div class=\"input-prepend\">\n\t<span class=\"add-on\">\n\t\t<i class=\"icon-globe\"><\/i>\n\t<\/span>\n\t<select data-toggle=\"host-selector\" class=\"input-medium\">\n\t<% _.each(hosts, function(host) { %>\n\t\t<% if (host.languages && host.languages.length) { %>\n\t\t\t<optgroup label=\"<%- host.title %>\">\n\t\t\t<% _.each(host.languages, function(language) { %>\n\t\t\t\t<option value=\"<%- language.host %>\" <%= language.host === current_host ? 'selected' : '' %>>\n\t\t\t\t\t<%= language.title || language.name %>\n\t\t\t\t<\/option>\n\t\t\t<%})%>\n\t\t\t<\/optgroup>\n\t\t<% } %>\n\t<% }) %>\n\t<\/select>\n<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('relatedItem', function (item, application) { %>\n<div class=\"item-cell item-cell-grid\">\n\t<a class=\"thumbnail\" href=\"<%= item.get('_url') %>\">\n\t\t<% var thumbnail = item.get('_thumbnail'); %>\n\t\t<img src=\"<%= application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%= thumbnail.altimagetext %>\">\n\t<\/a>\n\t<h5>\n\t\t<a href=\"<%= item.get('_url') %>\">\n\t\t\t<%= item.get('_name') %>\n\t\t<\/a>\n\t<\/h5>\n\t<a class=\"btn btn-small btn-primary btn-expanded\" href=\"<%= item.get('_url') %>\">\n\t\t<%= _('See more').translate() %>\n\t<\/a>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('statesDropdown', function (options) { %>\n<%\n\tvar country = options.selectedCountry && options.countries[options.selectedCountry]\n\t,\tstates = country && country.states;\n%>\n<% if (country && states) { %>\n\t<label class=\"control-label\" for=\"<%= options.manage ? options.manage : ''%>state\">\n\t\t<%= _('State').translate() %>\n\t\t<small><%= _('(required)').translate() %><\/small>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<select class=\"input-xlarge\" id=\"<%= options.manage ? options.manage : ''%>state\" name=\"state\" data-type=\"state\">\n\t\t\t<option value=\"\">\n\t\t\t\t<%= _('-- Select --').translate() %>\n\t\t\t<\/option>\n\t\t\t<% _.each(states, function (state) { %>\n\t\t\t<option value=\"<%- state.code %>\" <%= state.code === options.selectedState ? 'selected' : '' %>>\n\t\t\t\t<%= state.name %>\n\t\t\t<\/option>\n\t\t\t<% }) %>\n\t\t<\/select>\n\t<\/div>\n<% } else { %>\n\t<label class=\"control-label\" for=\"<%= options.manage ? options.manage : ''%>state\">\n\t\t<%= _('State\/Province\/Region').translate() %>\n\t<\/label>\n\t<div class=\"controls\">\n\t\t<input\n\t\t\ttype=\"text\"\n\t\t\tid=\"<%= options.manage ? options.manage : ''%>state\"\n\t\t\tname=\"state\"\n\t\t\tclass=\"input-xlarge\"\n\t\t\tvalue=\"<%- options.selectedState %>\"\n\t\t\tdata-type=\"state\"\n\t\t\tplaceholder=\"<%- _('(optional)').translate() %>\"\n\t\t>\n\t<\/div>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('homePayment', function(view) { %>\n\t<article class=\"well home-payment\">\n\t\t<div class=\"well-header\">\n\t\t\t<h4><%= _('Payment').translate() %><\/h4>\n\t\t<\/div>\n\t\t\n\t\t<% if (!view.defaultCreditCard) { %>\t\t\n\t\t<div class=\"well-body\">\n\t\t\t<p><%= _('We have no default credit card on file for this account.').translate() %><\/p>\t\t\t\n\t\t<\/div>\n\t\t<div class=\"well-footer\">\n\t\t\t<a href=\"\/creditcards\/new\" data-toggle=\"show-in-modal\"><%= _('Add a Credit Card').translate() %><\/a>\n\t\t<\/div>\n\n\t\t<% } else { %>\n\t\t<div class=\"well-body\">\n\t\t\t<%= SC.macros.creditcard(view.defaultCreditCard, {icons: view.application.getConfig('creditCardIcons')}) %>\n\t\t<\/div>\n\t\t<div class=\"well-footer\">\n\t\t\t<a href=\"\/creditcards\/<%= view.defaultCreditCard.get('internalid') %>\" data-toggle=\"show-in-modal\"><%= _('Edit').translate() %><\/a>\n\t\t<\/div>\n\t\t<% } %>\n\t<\/article>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('homeProfile', function(view) { %>\n\t<article class=\"well home-profile\">\n\t\t<div class=\"well-header\"><h4><%= _('Profile').translate() %><\/h4><\/div>\n\t\t<div class=\"well-body\">\n\t\t\t<p><%= view.model.get('firstname') || '' %> <%= view.model.get('middlename') || '' %> <%= view.model.get('lastname') || '' %><\/p>\n\t\t\t<p><%= view.model.get('companyname') || '' %><\/p>\n\t\t\t<p><%= view.model.get('email') %><\/p>\n\t\t\t<p><%= _.formatPhone(view.model.get('phone') || '', view.application.getConfig('siteSettings.phoneformat')) %><\/p>\n\t\t<\/div>\n\t\t<div class=\"well-footer\">\n\t\t\t<a class=\"box-btn editProfileInformation\" href=\"\/profileinformation\"><%= _('Edit').translate() %><\/a>\n\t\t<\/div>\n\t<\/article>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<%\nregisterMacro('homeBanner', function (config_banners)\n{\n\tvar banners = _.isArray( config_banners ) ? config_banners : [ config_banners ]\n\t,\trandom_banner = banners[ Math.floor( Math.random() * banners.length ) ];\n\n\tif ( random_banner ) {\n\t\tif ( random_banner.linkUrl ) {\n%>\n\t<a href=\"<%= random_banner.linkUrl %>\" target=\"<%= random_banner.linkTarget %>\"><img src=\"<%= random_banner.imageSource %>\"><\/a>\n<%\t\t} else { %>\n\t<img src=\"<%= random_banner.imageSource %>\">\n<%\t\t} %>\n\t<hr>\n<%\n\t}\n})\n%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('recentOrdersWidget', function ( ordersToShow ) { %>\n<div class=\"recentOrdersWidget\" data-permissions=\"transactions.tranFind.1,transactions.tranSalesOrd.1\">\n\t<div>\n\t\t<a href=\"\/ordershistory\" class=\"pull-right\"><%= _('View All Order History').translate() %> &gt;<\/a>\n\t\t<h4><%= _('Recent Orders').translate() %><\/h4>\n\t<\/div>\n\t<hr>\n\t<% if ( ordersToShow.length ) { %>\n\t\t<table class=\"table\">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th><%= _('Order Date').translate() %><\/th>\n\t\t\t\t\t<th><%= _('Order Number').translate() %><\/th>\n\t\t\t\t\t<th><%= _('Order Total').translate() %><\/th>\n\t\t\t\t\t<th><%= _('Status').translate() %><\/th>\n\t\t\t\t\t<th><\/th>\n\t\t\t\t<\/tr>\n\t\t\t<\/thead>\n\t\t\t<tbody>\n\t\t\t<% _.each(ordersToShow, function (order, index) { %>\n\t\t\t\t<tr>\n\t\t\t\t\t<td><%= order.get('date') %><\/td>\n\t\t\t\t\t<td><%= order.get('order_number') %><\/td>\n\t\t\t\t\t<td><%= order.get('summary').total_formatted %><\/td>\n\t\t\t\t\t<td><%= order.get('status') %><\/td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<a href=\"\/ordershistory\/view\/<%= order.get('internalid') %>\"><%= _('View Order Details').translate() %><\/a>\n\t\t\t\t\t<\/td>\n\t\t\t\t<\/tr>\n\t\t\t<% }) %>\n\t\t\t<\/tbody>\n\t\t<\/table>\n\t<% } else { %>\n\t\t<p><%= _('We have no orders on file for this account.').translate() %><\/p>\n\t<% } %>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('homeShipping', function(view) { %>\n\t<article class=\"well home-shipping\">\n\t\t<div class=\"well-header\">\n\t\t\t<h4><%= _('Shipping').translate() %><\/h4>\n\t\t<\/div>\n\t\t<% if (!view.defaultShippingAddress) { %>\n\t\t<div class=\"well-body\">\n\t\t\t<p><%= _('We have no default address on file for this account.').translate() %><\/p>\t\t\t\n\t\t<\/div>\n\t\t<div class=\"well-footer\">\n\t\t\t<a href=\"\/addressbook\/new\" data-toggle=\"show-in-modal\"><%= _('Create New Address').translate() %><\/a>\n\t\t<\/div>\n\t\t<% } else { %>\n\t\t<div class=\"well-body\">\n\t\t\t<%= SC.macros.address(view.defaultShippingAddress, {\n\t\t\t\t\thideDefaults: true\n\t\t\t\t,\thideActions: true\n\t\t\t}) %>\n\t\t<\/div>\n\t\t<div class=\"well-footer\">\n\t\t\t<a href=\"\/addressbook\/<%= view.defaultShippingAddress.get('internalid') %>\" data-toggle=\"show-in-modal\"><%= _('Edit').translate() %><\/a>\n\t\t<\/div>\n\t\t<% } %>\n\t<\/article>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('headerProfile', function (application) { %>\n<% var Profile = application.getUser(); %>\n<% if (Profile.get('isLoggedIn') === 'T' && Profile.get('isGuest') === 'F') { %>\n\t<li class=\"welcome\"><a><%- _('Welcome $(0)').translate(Profile.get('firstname') || Profile.get('companyname')) %><\/a><\/li>\n\t<li id=\"my-account-container\" class=\"dropdown my-account-container\">\n\t\t<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" data-touchpoint=\"customercenter\" data-navigation=\"ignore-click\">\n\t\t\t<span class=\"my-account-title\"><%= _('Your Account').translate() %><\/span>\n\t\t\t<b class=\"caret\"><\/b>\n\t\t<\/a>\n\t\t<ul class=\"dropdown-menu\">\n\t\t\t<li class=\"my-account-item-cell hidden-phone\">\n\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#overview\">\n\t\t\t\t\t<%= _('Overview').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\n\t\t\t<!-- Orders -->\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\" data-permissions=\"transactions.tranFind.1,transactions.tranSalesOrd.1\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Orders').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#ordershistory\">\n\t\t\t\t\t\t\t<%= _('Order History').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#returns\" data-permissions=\"transactions.tranFind.1,transactions.tranRtnAuth.1\">\n\t\t\t\t\t\t\t<%= _('Returns').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#receiptshistory\">\n\t\t\t\t\t\t\t<%= _('Receipts').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#reorderItems\">\n\t\t\t\t\t\t\t<%= _('Reorder Items').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li data-permissions=\"transactions.tranFind.1,transactions.tranEstimate.1\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#quotes\">\n\t\t\t\t\t\t\t<%= _('Quotes').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\n\t\t\t<!-- Product Lists - For single list mode data-hashtag will be added dynamically -->\n\t\t\t<% if (application.ProductListModule && application.ProductListModule.isProductListEnabled()) { %>\n\t\t\t\t<% if (application.ProductListModule.isSingleList()) { %>\n\t\t\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" class=\"header-profile-single-productlist\">\n\t\t\t\t\t\t\t<%= _('Loading list...').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#productlists\">\n\t\t\t\t\t\t\t<%= _('Product Lists').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\n\t\t\t<!-- Billing -->\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Billing').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#balance\"><%= _('Account Balance').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#invoices\" data-permissions=\"transactions.tranCustInvc.1\"><%= _('Invoices').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#transactionhistory\" data-permissions=\"transactions.tranCustInvc.1, transactions.tranCustCred.1, transactions.tranCustPymt.1, transactions.tranCustDep.1, transactions.tranDepAppl.1\" data-permissions-operator=\"OR\"><%= _('Transaction History').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#printstatement\" data-permissions=\"transactions.tranStatement.2\"><%= _('Print a Statement').translate() %><\/a><\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\n\t\t\t<!-- Settings -->\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Settings').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#profileinformation\">\n\t\t\t\t\t\t\t<%= _('Profile Information').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#emailpreferences\">\n\t\t\t\t\t\t\t<%= _('Email Preferences').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#addressbook\">\n\t\t\t\t\t\t\t<%= _('Address Book').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#creditcards\">\n\t\t\t\t\t\t\t<%= _('Credit Cards').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#updateyourpassword\">\n\t\t\t\t\t\t\t<%= _('Update Your Password').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\t\t\t\n\t\t\t<% if (application.CaseModule && application.CaseModule.isEnabled()) { %>\n\t\t\t<li class=\"my-account-item-cell dropdown-submenu\" data-permissions=\"lists.listCase.1\">\n\t\t\t\t<a tabindex=\"-1\" href=\"#\"><%= _('Cases').translate() %><\/a>\n\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#cases\" ><%= _('All My Cases').translate() %><\/a><\/li>\n\t\t\t\t\t<li><a tabindex=\"-1\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#newcase\"><%= _('Submit New Case').translate() %><\/a><\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\t\t\t<% }\u00a0%>\n\n\t\t\t<li class=\"divider\"><\/li>\n\t\t\t<li class=\"my-account-item-cell\">\n\t\t\t\t<a href=\"#\" data-touchpoint=\"logout\">\n\t\t\t\t\t<%= _('Sign Out').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t<\/li>\n<% } else { %>\n\t<li><a href=\"#\" data-touchpoint=\"login\" data-hashtag=\"login-register\"><%= _('Login').translate() %><\/a><\/li>\n\t<li class=\"divider-vertical\"><\/li>\n\t<li><a href=\"#\" data-touchpoint=\"register\" data-hashtag=\"login-register\"><%= _('Register').translate() %><\/a><\/li>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('siteSearch', function (name, view) { %>\n<% var maxLength = view.application.getConfig('searchPrefs.maxLength') || 0; %>\n<form class=\"form-search site-search\" method=\"GET\" action=\"\/search\">\n\t<div class=\"input-append\">\n\t\t<input class=\"input-medium search-query\" placeholder=\"<%- _('Search').translate() %>\" type=\"search\" name=\"<%- name %>\" autocomplete=\"off\"\n\t\t\t<%= maxLength > 0 ? 'maxlength=\"'+maxLength+'\"' : '' %>\t>\n\t\t<button type=\"submit\" class=\"btn\">\n\t\t\t<i class=\"icon-search\"><\/i>\n\t\t<\/button>\n\t<\/div>\n<\/form>\n<%})%>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('simplifiedHeader', function (view) { %>\n<!-- Bar just for style -->\n<nav class=\"navbar navbar-inverse navbar-static-top site-header-top-nav\">\n\t<div class=\"navbar-inner\">\n\t\t<div class=\"container\"><\/div>\n\t<\/div>\n<\/nav>\n<!-- \/Bar just for style -->\n<div class=\"container\">\n\t<div class=\"row-fluid site-branding\">\n\t\t<div class=\"span3 site-logo\">\n\t\t\t<%= SC.macros.siteLogo(view.application, true) %>\n\t\t<\/div>\n\t\t<div class=\"span6 header-banner\">\n\t\t\t<div id=\"banner-header-top\" class=\"content-banner banner-header-top\"><\/div>\n\t\t\t&nbsp;\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('typeahead', function (item, query, application) { %>\n<div class=\"typeahead-item clearfix\">\n\t<div class=\"typeahead-item-head\">\n\t\t<% var thumbnail = item.get('_thumbnail'); %>\n\t\t<img class=\"typeahead-image\" src=\"<%- application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t<div class=\"typeahead-title\"><%= _.highlightKeyword(item.get('_name'), query) %><\/div>\n\t<\/div>\n<\/div>\n<%})%> \n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('miniCart', function (cart, application) { %>\n<%\n\tvar lines = cart.get('lines')\n\t,\thas_cart_router = application.modulesMountToAppResult.Cart instanceof application.modules.Cart.Router\n\t,\tcurrent_touchpoint = application.Configuration.currentTouchpoint\n\t,\ttotal_items = _.reduce(lines.pluck('quantity'), function (memo, quantity) {\n\t\t\treturn memo + (parseFloat(quantity) || 1);\n\t\t}, 0)\n\t,\tis_loading = application.cartInstance.isLoading;\n%>\n<a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\">\n\t<%= SC.macros.miniCartSummary(total_items, is_loading) %>\n\t<b class=\"caret\"><\/b>\n<\/a>\n<div class=\"dropdown-menu\">\n<% if (lines.length) { %>\n\t<ul class=\"cart-summary-items mini-cart-items\">\n\t\t<% var thumbnail = '', item = null; %>\n\t\t<% lines.each(function (line) { %>\n\t\t\t<%\n\t\t\t\titem = line.get('item');\n\t\t\t\tthumbnail = item.get('_thumbnail');\n\t\t\t%>\n\t\t\t<li class=\"cart-summary-item-cell mini-cart-item-cell\" data-item=\"<%= item.get('internalid') %>\">\n\t\t\t\t<a href=\"#\" class=\"row-fluid\" data-touchpoint=\"home\" data-hashtag=\"#<%= _(item.get('_url') + item.getQueryStringWithQuantity(1)).fixUrl() %>\">\n\t\t\t\t\t<div class=\"span3 thumbnail mini-cart-item-thumbnail\">\n\t\t\t\t\t\t<img src=\"<%- application.resizeImage(thumbnail.url, 'tinythumb') %>\" alt=\"<%- thumbnail.altimagetext %>\">\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span9 mini-cart-item-details\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<strong><%= item.get('_name') %><\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<!-- Renders the selected options for the item -->\n\t\t\t\t\t\t<%= item.renderAllOptionSelected() %>\n\t\t\t\t\t\t<div class=\"quantity\">\n\t\t\t\t\t\t\t<%= _('Quantity: $(0)').translate( line.get('quantity') ) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"price\">\n\t\t\t\t\t\t\t<%= _('Price: $(0)').translate( line.get('total_formatted') ) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t<% }) %>\n\t<\/ul>\n\t<ul class=\"summary\">\n\t\t<li class=\"mini-cart-summary-container\">\n\t\t\t<p class=\"mini-cart-summary\">\n\t\t\t\t<span class=\"pull-right mini-cart-subtotal\">\n\t\t\t\t\t<%= _('Subtotal: <b>$(0)<\/b>').translate( cart.get('summary').subtotal_formatted ) %>\n\t\t\t\t<\/span>\n\t\t\t\t<span class=\"item-count\">\n\t\t\t\t<% if ( total_items !== 1 ) { %>\n\t\t\t\t\t<%= _('$(0) items').translate( total_items ) %>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<%= _('1 item').translate() %>\n\t\t\t\t<% } %>\n\t\t\t\t<\/span>\n\t\t\t<\/p>\n\t\t\t<div class=\"mini-cart-actions\">\n\t\t\t\t<a href=\"\/cart\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\" class=\"btn btn-view-cart\">\n\t\t\t\t\t<%= _('View Cart').translate() %>\n\t\t\t\t<\/a>\n\t\t\t\t<a href=\"#\" href=\"#\" data-touchpoint=\"checkout\" data-hashtag=\"#\" class=\"btn btn-primary btn-checkout\">\n\t\t\t\t\t<%= _('Checkout').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t\t<div id=\"mini-cart-bottom-banner\" class=\"mini-cart-bottom-banner\"><\/div>\n\t\t<\/li>\n\t<\/ul>\n<% } else { %>\n\t<ul class=\"items mini-cart-empty\">\n\t\t<li>\n\t\t\t<a href=\"#\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\">\n\t\t\t\t<% if(is_loading) { %>\n\t\t\t\t<%= _('Your cart is loading').translate() %>\n\t\t\t\t<% } else {%>\n\t\t\t\t<%= _('Your cart is empty').translate() %>\n\t\t\t\t<% } %>\n\t\t\t<\/a>\n\t\t<\/li>\n\t<\/ul>\n<% } %>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('headerTopNav', function (view) { %>\n<%\n\tvar application = view.application\n\t,\tenvironment = SC.ENVIRONMENT\n\t,\tshow_currency_selector = !application.getConfig('notShowCurrencySelector')\n\t,\tmacros = SC.macros\n\n\t,\thosts = environment.availableHosts\n\t,\thas_multiple_hosts = hosts.length > 1\n\n\t,\tlanguages = environment.availableLanguages\n\t,\thas_multiple_languages = languages.length > 1\n\n\t,\thas_hosts_or_languages = has_multiple_hosts || has_multiple_languages\n\n\t,\tcurrencies = environment.availableCurrencies\n\t,\thas_multiple_currencies = currencies.length > 1;\n%>\n<nav class=\"navbar navbar-inverse navbar-static-top site-header-top-nav\">\n\t<div class=\"navbar-inner\">\n\t\t<div class=\"container\">\n\t\t\t<% if (has_hosts_or_languages || has_multiple_currencies) { %>\n\t\t\t\t<ul class=\"nav customer-site-settings\">\n\t\t\t\t<% if (has_hosts_or_languages) { %>\n\t\t\t\t\t<li id=\"language-selector-container\" class=\"language-selector-container\">\n\t\t\t\t\t\t<form action=\"\" class=\"navbar-form\">\n\t\t\t\t\t\t\t<% if (has_multiple_hosts) { %>\n\t\t\t\t\t\t\t\t<%= macros.hostSelector(hosts, environment.currentHostString) %>\n\t\t\t\t\t\t\t<% } else if (has_multiple_languages) { %>\n\t\t\t\t\t\t\t\t<%= macros.languageSelector(languages, environment.currentLanguage.locale) %>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/form>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (has_hosts_or_languages && has_multiple_currencies && show_currency_selector) { %>\n\t\t\t\t\t<li class=\"divider-vertical\"><\/li>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (has_multiple_currencies) { %>\n\t\t\t\t\t<li id=\"currency-selector-container\" class=\"currency-selector-container\">\n\t\t\t\t\t\t<form action=\"\" class=\"navbar-form\">\n\t\t\t\t\t\t\t<% if (show_currency_selector) { %>\n\t\t\t\t\t\t\t\t<%= macros.currencySelector(currencies, environment.currentCurrency.code) %>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/form>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% } %>\n\t\t\t\t<\/ul>\n\t\t\t<% } %>\n\t\t\t<!-- TODO: should the following be inside a macro? -->\n\t\t\t<ul class=\"nav pull-right\">\n\t\t\t\t<%= macros[application.getConfig('profileMacro')](application) %>\n\t\t\t\t<li id=\"mini-cart-container\" class=\"dropdown mini-cart-container\">\n\t\t\t\t\t<%= macros.miniCart(application.getCart(), application) %>\n\t\t\t\t<\/li>\n\t\t\t<\/ul>\n\t\t<\/div>\n\t<\/div>\n<\/nav>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('header', function (view) { %>\n<%\n\tvar application = view.application\n\t,\tcart = application.getCart()\n\t,\tmacros = SC.macros\n\t,\tprofile = macros[application.getConfig('profileMacro')](application)\n\t,\thas_cart_router = application.modulesMountToAppResult.Cart instanceof application.modules.Cart.Router\n\t,\tcurrent_touchpoint = application.Configuration.currentTouchpoint\n\t,\tis_loading = cart.application.cartInstance.isLoading;\n%>\n\t<%= macros.headerTopNav(view) %>\n\t<div class=\"container\">\n\t\t<div data-type=\"message-placeholder\"><\/div>\n\t\t<div class=\"row-fluid site-branding\">\n\t\t\t<div class=\"span3\">\n\t\t\t\t<%= macros.siteLogo(application) %>\n\t\t\t\t<!-- MOBILE -->\n\t\t\t\t<div class=\"navbar navbar-inverse mobile-nav\">\n\t\t\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t\t\t<div class=\"container\">\n\t\t\t\t\t\t\t<ul class=\"nav pull-right\">\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"<%= has_cart_router ? current_touchpoint : 'viewcart' %>\" data-hashtag=\"#cart\" class=\"mini-cart-summary\">\n\t\t\t\t\t\t\t\t\t\t<%= macros.miniCartSummary(cart.getTotalItemCount(), is_loading) %>\n\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"btn btn-navbar\" data-toggle=\"collapse\" data-target=\".main-nav\">\n\t\t\t\t\t\t\t\t<span class=\"icon-bar\"><\/span>\n\t\t\t\t\t\t\t\t<span class=\"icon-bar\"><\/span>\n\t\t\t\t\t\t\t\t<span class=\"icon-bar\"><\/span>\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<nav class=\"navbar collapse visible-phone main-nav site-header-main-nav\">\n\t\t\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t\t\t<ul class=\"nav\">\n\t\t\t\t\t\t<% _.each(application.getConfig('navigationTabs', []), function (item) { %>\n\t\t\t\t\t\t\t<%= macros.navigationTabs(item, true) %>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t<ul class=\"nav mobile-profile\">\n\t\t\t\t\t\t\t<%= profile %>\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/nav>\n\t\t\t\t<!-- \/MOBILE -->\n\t\t\t<\/div>\n\t\t\t<div class=\"span6 header-banner\">\n\t\t\t\t<div id=\"banner-header-top\" class=\"content-banner banner-header-top\"><\/div>\n\t\t\t\t&nbsp;\n\t\t\t<\/div>\n\t\t\t<div id=\"site-search-container\" class=\"span3 site-search-container\">\n\t\t\t\t<%= macros.siteSearch('keywords', view) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<nav class=\"navbar hidden-phone main-nav site-header-main-nav\">\n\t\t\t<div class=\"navbar-inner\">\n\t\t\t\t<ul class=\"nav\">\n\t\t\t\t<% _.each(application.getConfig('navigationTabs', []), function (item) { %>\n\t\t\t\t\t<%= macros.navigationTabs(item, true) %>\n\t\t\t\t<% }) %>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t<\/nav>\n\t\t<div id=\"banner-header-bottom\"  class=\"content-banner banner-header-bottom\"><\/div>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('miniCartSummary', function (total_items, loading) { %>\n<i class=\"icon-shopping-cart icon-white\"><\/i>\n<span class=\"item-count<%= loading ? ' loading' : '' %>\">\n<% if (loading) { %>\n\t<%= _('Loading cart...').translate() %>\n<% } else { %>\n\t<% if (total_items !== 1) { %>\n\t\t<%= _('<b>$(0)<\/b> items').translate(total_items) %>\n\t<% } else { %>\n\t\t<%= _('<b>1<\/b> item').translate() %>\n\t<% } %>\n<% } %>\n<\/span>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('siteLogo', function (application, remove_home_link) { %>\n<%\n\tvar logoUrl = application.getConfig('logoUrl')\n\t,\tsiteName = application.getConfig('siteSettings.displayname');\n%>\n<div id=\"site-logo\" class=\"site-logo content-banner\">\n<% if (remove_home_link){ %>\n\t<a>\n<% } else { %>\n\t<a href=\"\/\" data-touchpoint=\"home\" data-hashtag=\"\">\n<% } %>\t\n\t<% if (logoUrl) { %>\n\t\t<img src=\"<%- logoUrl %>\" alt=\"<%- siteName %>\">\n\t<% } else { %>\n\t\t<span>\n\t\t\t<%= siteName %>\n\t\t<\/span>\n\t<% } %>\n\t<\/a>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('navigationTabs', function (item, is_top) {\n\tif (!item.data)\n\t{\n\t\titem.data = {};\n\t}\n\t\/\/ we want all navbar links to preserve current url option 'display'\n\titem.data['keep-options'] = 'display';\n\t%>\n<% if (item.categories && item.categories.length) {\n\t%>\n\t<% if (is_top) { %>\n\t\t<li class=\"dropdown\">\n\t\t\t<a <%= _.objectToAtrributes(item) %>>\n\t\t\t\t<%= item.text %>\n\t\t\t\t<b class=\"caret\"><\/b>\n\t\t\t<\/a>\n\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t<% _.each(item.categories, function (sub) { %>\n\t\t\t\t\t<%= SC.macros.navigationTabs(sub) %>\n\t\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t<\/li>\n\t<% } else { %>\n\t\t<li class=\"dropdown-submenu\">\n\t\t\t<a <%= _.objectToAtrributes(item) %>>\n\t\t\t\t<%= item.text %>\n\t\t\t<\/a>\n\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t<% _.each(item.categories, function (sub) { %>\n\t\t\t\t\t<%= SC.macros.navigationTabs(sub) %>\n\t\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t<\/li>\n\t<% } %>\n<% } else { %>\n<li>\n\t<a <%= _.objectToAtrributes(item) %>>\n\t\t<%= item.text %>\n\t<\/a>\n<\/li>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('headerSimpleProfile', function (Profile) { %>\n<% if (Profile.get('isLoggedIn') === 'T' &&  Profile.get('isGuest') === 'F') { %>\n\t<li class=\"welcome\"><a><%= _('Welcome $(0)').translate(Profile.get('firstname') || Profile.get('companyname'))  %><\/a><\/li>\n\t<li class=\"my-account-title\">\n\t\t<a href=\"#\" data-touchpoint=\"customercenter\">\n\t\t\t<%= _('Your Account').translate() %>\n\t\t<\/a>\n\t<\/li>\n\t<li class=\"divider-vertical\"><\/li>\n\t<li class=\"logout\">\n\t\t<a href=\"#\" data-touchpoint=\"logout\">\n\t\t\t<%= _('Sign Out').translate() %>\n\t\t<\/a>\n\t<\/li>\t\n<% } else { %>\n\t<li><a href=\"#\" data-touchpoint=\"login\"><%= _('Login').translate() %><\/a><\/li>\n\t<li class=\"divider-vertical\"><\/li>\n\t<li><a href=\"#\" data-touchpoint=\"register\"><%= _('Register').translate() %><\/a><\/li>\n<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('footer', function (view) {\n\tvar environment = SC.ENVIRONMENT\n\n\t,\tshow_currency_selector = !view.application.getConfig('notShowCurrencySelector')\n\t,\thosts = environment.availableHosts\n\t,\tlanguages = environment.availableLanguages\n\t,\tcurrencies = environment.availableCurrencies\n\n\t,\tnav_links = view.application.getConfig('footerNavigation', [])\n\t,\tmacros = SC.macros;\n%>\n\n<div class=\"container\">\n\t<div class=\"customer-site-settings\">\n\t\t<form class=\"form-inline\">\n\t\t\t<% if (hosts.length) { %>\n\t\t\t\t<%= macros.hostSelector(hosts, environment.currentHostString) %>\n\t\t\t<% } else if (languages.length) { %>\n\t\t\t\t<%= macros.languageSelector(languages, environment.currentLanguage.locale) %>\n\t\t\t<% } %>\n\t\t\t<% if (currencies.length && show_currency_selector) { %>\n\t\t\t\t<%= macros.currencySelector(currencies, environment.currentCurrency.code) %>\n\t\t\t<% } %>\n\t\t<\/form>\n\t<\/div>\n\t\n\t<% if (nav_links.length) { %>\n\t\t<%= macros.footerNavigation(nav_links) %>\n\t<% } %>\n\n\t<%= macros.backToTop() %>\n\t<div id=\"banner-footer\" class=\"content-banner banner-footer\"><\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('footerNavigation', function (nav_links) { %>\n<ul class=\"site-footer-main-nav\">\n<% _.each(nav_links, function (item) { %>\n\t<li>\n\t\t<a <%= _.objectToAtrributes(item) %>>\n\t\t<%= item.text %>\n\t\t<\/a>\n\t<\/li>\n<% }) %>\n<\/ul>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('simplifiedFooter', function (view) { %>\n\t<%= SC.macros.backToTop() %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% \/\/TODO: use the formatted values from the backend instead of formatCurrency (eg.: total_formatted)\nregisterMacro('itemDetails', function (line) { %>\n<%\n\tline.format_options = _.map(line.options, function ( option )\n\t{\n\t\treturn option.id +'='+ option.value;\n\t}).join(',');\n\n\tvar link_attributes = false\n\t,\turl = line.item.get('_isPurchasable') ? line.item.get('_url') : null;\n\n\tif (url && SC.ENVIRONMENT.siteType === 'ADVANCED')\n\t{\n\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\thref: url\n\t\t,\tdata: {\n\t\t\t\ttouchpoint: 'home'\n\t\t\t,\thashtag: '#'+url\n\t\t\t}\n\t\t});\n\t}\n\telse if (url)\n\t{\n\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\thref: url\n\t\t});\n\t}\n%>\n\t<tr class=\"product-details\" data-item=\"<%= line.item.get('internalid') || ''%>\" >\n\t\t<td class=\"product-image td-product-image\">\n \t\t<% var item_image = line.application.resizeImage(line.item.get('_thumbnail').url, 'thumbnail') %>\n \t\t<% if ( line.type !== 'Discount' ) { %>\n\t \t\t<% if ( link_attributes ) { %>\n\t \t\t\t<a <%= link_attributes %>>\n\t \t\t\t\t<img src=\"<%= item_image %>\" alt=\"<%= line.item.get('_thumbnail').altimagetext %>\">\n\t \t\t\t<\/a>\n\t \t\t<% } else { %>\n\t\t\t\t<img src=\"<%= item_image %>\" alt=\"<%= line.item.get('_thumbnail').altimagetext %>\">\n\t \t\t<% } %>\n\t\t<% } %>\n \t\t<\/td>\n\t\t<td class=\"product-name\">\n\t\t\t<% if (link_attributes) { %>\n\t\t\t\t<a <%= link_attributes %>>\n\t\t\t\t\t<b><%= line.item.get('_name') %><\/b>\n\t\t\t\t<\/a>\n\t\t\t<% } else { %>\n\t\t\t\t<b><%= line.item.get('_name') %><\/b>\n\t\t\t<% } %>\n\t\t\t<% if (line.type === 'Discount') { %>\n\t\t\t\t<p> <%= _('Discount').translate() %><\/p>\n\t\t\t<% } else { %>\n\t\t\t\t<p><%= _('SKU : #$(0)').translate(line.item.get('_sku')) %><\/p>\n\t\t\t<% } %>\n\t\t\t<% if ( line.options && line.options.length ) { %>\n\t\t\t\t<p><%= SC.macros.showItemOptions(line.options) %><\/p>\n\t\t\t<% } %>\n\t\t\t<% if ( line.trandate ) { %>\n\t\t\t\t<p><%= _('Last purchased on $(0)').translate(line.trandate)%><\/p>\n\t\t\t<% } %>\n\t\t\t<% if( ! line.reorder && ! line.reorder_checkbox && line.type !== 'Discount' && !line.disableReOrder ) {  %>\n\t\t\t\t<p class=\"alert alert-warning\"><%= _('This item is no longer available').translate() %><\/p>\n\t\t\t<% } %>\n\n\t\t<\/td>\n\t\t<% if ( !line.reorder_checkbox) { %><td class=\"product-quantity\">\n\t\t<% if ( line.type !== 'Discount') { %>\n\t\t\t<%= line.quantity || '0' %><\/td><% } %>\n\t\t<% } %>\n\n\t\t<td class=\"product-price\">\n\t\t\t <%= line.price ? line.price : '' %>\n\t\t<\/td>\n\t\t<td class=\"right-aligned product-amount\">\n\t\t\t<% \/\/TODO: here use total as default instead of amount\n\t\t\tif (line.discount) {%>\n\t\t\t\t<small class=\"muted crossed\">\n\t\t\t\t\t<%= line.amount ? _.formatCurrency( line.amount ) : '&nbsp;' %>\n\t\t\t\t<\/small>\n\t\t\t\t<%= line.amount ? _.formatCurrency( line.total ) : '&nbsp;' %>\n\n\t\t\t<% } else { %>\n\t\t\t\t<%= line.amount ? _.formatCurrency( line.amount ) : '&nbsp;' %>\n\t\t\t<% } %>\n\t\t<\/td>\n\t\t<% if ( line.reorder_checkbox ) { %>\n\t\t\t<td class=\"right-aligned product-reorder\">\n\t\t\t\t<form action=\"\" class=\"product-reorder-form\">\n\t\t\t\t\t<div class=\"pull-right\">\n\t\t\t\t\t\t<input type=\"hidden\" name=\"item_id\" data-item-id=\"<%= line.item.get('_id') %>\" data-parent-id=\"<%= line.item.get('parent_internalid') %>\" data-item-options=\"<%= line.format_options %>\">\n\t\t\t\t\t\t<input type=\"number\" name=\"item_quantity\" id=\"\" data-toggle=\"quantity\" data-line-id=\"<%- line.id %>\" class=\"input-mini pull-right\" value=\"<%= line.item.get('quantity') || 1 %>\" min=\"1\" max=\"999\">\n\t\t\t\t\t\t<br><br>\n\t\t\t\t\t\t<div class=\"add-to-cart-button-container\">\n\t\t\t\t\t\t\t<button class=\"btn btn-primary pull-right\"><%= _('Add to Cart').translate() %><\/button>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/form>\n\t\t\t<\/td>\n\t\t\t<!-- could not find a way to draw a line in the mobile, adding this helper -->\n\t\t\t<td class=\"product-reorder-mobile-helper\">&nbsp;<\/td>\n\t\t<% } %>\n\t<\/tr>\n\t<% if ( line.reorder && !line.disableReOrder ) { %>\n\t<tr class=\"re-order-item\">\n\t\t<td colspan=\"5\">\n\t\t<% if(line.item.get(\"itemtype\") != 'GiftCert') { %>\n\t\t\t<button class=\"btn-link\" data-re-order-item-link=\"<%= line.id %>\" data-item-id=\"<%= line.item.get('_id') %>\" data-item-quantity=\"<%= line.quantity %>\" data-parent-id=\"<%=line.item.get('parent_internalid') %>\" data-item-options=\"<%= line.format_options %>\">\n\t\t\t\t<%= line.quantity > 1 ? _('Reorder these Items').translate() : _('Reorder this Item').translate() %>\n\t\t\t<\/button>\n\t\t<% } else { %>\n\t\t\t<a data-giftcard-item-link=\"<%= line.item.get('_url') %>\" data-giftcard-item-name=\"<%= line.item.get('_sku') %>\" data-parent-id=\"<%=line.item.get('parent_internalid') %>\" data-item-options=\"<%= line.format_options %>\" href=\"#\">\n\t\t\t<\/a>\n\t\t<% } %>\n\t\t<\/td>\n\t<\/tr>\n\t<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('transactionsNavigation', function ( page ) { %>\n<form action=\"#\" class=\"form-inline\">\n\t<label for=\"transaction_navigation\"><%= _('View').translate() %><\/label>\n\t<select name=\"transaction_navigation\" id=\"transaction_navigation\" class=\"input-medium\">\n\t\t<option value=\"#ordershistory\" <%= page === 'ordershistory' ? 'selected' : '' %>><%= _('All Orders').translate() %><\/option>\n\t\t<option value=\"#receiptshistory\" <%= page === 'reciptshistory' ? 'selected' : '' %>><%= _('All Receipts').translate() %><\/option>\n\t<\/select>\n<\/form>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<%\nregisterMacro('showItemOptions', function ( options )\n{\n\t_.each(options, function (option)\n\t{\n%>\n\t<div>\n\t\t<span><%= _(option.name).translate() %>: <\/span>\n\t\t<b><%= option.displayvalue || option.value %><\/b>\n\t<\/div>\n<%\n\t})\n})\n%>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('showingCurrent', function( configuration ) { %>\n\t<%\n\t\tvar total_items = configuration.total_items\n\t\t,\titems_per_page = configuration.items_per_page\n\t\t,\ttotal_pages = configuration.total_pages\n\t\t,\tcurrent_page = configuration.current_page\n\t\t,\torder_id = configuration.order_id\n\t\t,\torder_number = configuration.order_number\n\t\t, \torder_text = '';\n\n\t\tif (order_id)\n\t\t{\n\t\t\torder_text = ' ' + _('for <a href=\"\/ordershistory\/view\/$(0)\">  Order Number: #$(1)<\/a>').translate(order_id,order_number) ;\n\t\t}\n\t%>\n\t<% if (current_page == 1) { %>\n\t\t<% if (total_items <= items_per_page) { %>\n\t\t\t<div class=\"showing-current <%= configuration.extraClass || '' %>\">\t\t\n\t\t\t\t<p><%= _('Showing 1 - $(0) of $(1)').translate(total_items, total_items) + order_text %><\/p>\t\t\n\t\t\t<\/div>\n\t\t\n\t\t<% } else { %>\n\t\t\n\t\t\t<div class=\"showing-current <%= configuration.extraClass || '' %>\">\t\t\n\t\t\t\t<p><%= _('Showing 1 - $(0) of $(1)').translate(items_per_page, total_items) + order_text %><\/p>\t\t\n\t\t\t<\/div>\n\t\t<% } %>\n\t<% } else { %>\n\t\t\n\t\t<%\n\t\t\tvar first_item = ((current_page - 1) * items_per_page) + 1;\t\t\t\n\t\t%>\n\t\t<% if (total_pages == current_page) { %>\n\t\t\t<%\n\t\t\t\tvar items_in_page = total_items - (items_per_page * (current_page - 1))\n\t\t\t\t,\tlast_item = first_item + items_in_page - 1;\n\t\t\t%>\n\t\t\t<div class=\"showing-current <%= configuration.extraClass || '' %>\">\t\t\n\t\t\t\t<p><%= _('Showing $(0) - $(1) of $(2)').translate(first_item, last_item, total_items) + order_text %><\/p>\n\t\t\t<\/div>\n\t\t<% } else { %>\n\t\n\t\t\t<%\n\t\t\t\tvar last_item = first_item + items_per_page - 1;\n\t\t\t%>\n\t\t\t<div class=\"showing-current <%= configuration.extraClass || '' %>\">\t\t\n\t\t\t\t<p><%= _('Showing $(0) - $(1) of $(2)').translate(first_item, last_item, total_items) + order_text %><\/p>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('trackingNumbers', function (view, trackingnumbers) { %>\n<ul class=\"tracking-numbers\">\n<% _.each(trackingnumbers, function (trackingnumber) { %>\n\t<li class=\"tracking-number\">\n\t\t<a target=\"_blank\" href=\"<%= view.getTrackingServiceUrl(trackingnumber) %>\">\n\t\t\t<%= trackingnumber %>\n\t\t<\/a>\n\t<\/li>\n<% }) %>\n<\/ul>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemActionsReasonsSelector', function (options) { %>\n\t<%\n\t\tvar is_active = options.isActive\n\t\t,\treasons = options.reasons\n\t\t,\tselected_reason = options.selectedReason\n\t\t,\ttext_reason = options.textReason;\n\t%>\n\t<% if (is_active) { %>\n\t\t<label class=\"text-light contol-label\" for=\"reason\">\n\t\t\t<%= _('Reason for return').translate() %> <small><%= _('(required)').translate() %><\/small>\n\t\t<\/label>\n\t\t<% if (reasons.length) { %>\n\t\t\t<select name=\"reason\" id=\"reason\" class=\"\" data-toggle=\"false\">\n\t\t\t\t<option value=\"\"><%= _('Select a reason').translate() %><\/option>\n\t\t\t\t<% _.each(reasons, function (reason) { %>\n\t\t\t\t\t<option value=\"<%- reason %>\" <%= reason === selected_reason ? 'selected' : '' %>><%- reason %><\/option>\n\t\t\t\t<% }) %>\n\t\t\t\t<option value=\"other\" <%= selected_reason === 'other' ? 'selected' : '' %>><%= _('Other').translate() %><\/option>\n\t\t\t<\/select>\n\n\t\t\t<% if (selected_reason === 'other') { %>\n\t\t\t\t<input type=\"text\" name=\"reason-text\" id=\"\" value=\"<%= text_reason %>\" data-toggle=\"false\">\n\t\t\t<% } %>\n\t\t\t<br>\n\t\t\t<a href=\"#\" class=\"\" data-action=\"apply-reason\" data-toggle=\"false\"><%= _('Apply to all').translate() %><\/a>\n\t\t<% } else { %>\n\t\t\t<input type=\"text\" name=\"reason-text\" id=\"\" value=\"<%= text_reason %>\" data-toggle=\"false\">\n\t\t<% } %>\n\t<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemActionsEditQuantity', function (options) { %>\n\t<%\n\t\tvar is_active = options.isActive\n\t\t,\treturn_quantity = options.returnQuantity\n\t\t,\tquantity = options.lineQuantity;\n\t%>\n\n\t<% if (is_active) { %>\n\t\t<p class=\"text-light\"><%= _('Qty to return:').translate() %><\/p>\n\t\t<input class=\"\" type=\"number\" name=\"quantity\" data-toggle=\"false\" id=\"\" value=\"<%= return_quantity || quantity %>\" min=\"1\" max=\"<%= quantity %>\" style=\"margin-bottom: 4px; width: 40px;\">\n\t\t<span><%= _('of $(0)').translate(quantity) %><\/span>\n\t\t<p><small class=\"text-light\"><%= _('Edit quantity to return').translate() %><\/small><\/p>\n\t<% } else { %>\n\t\t<p><span class=\"text-light\"><%= _('Qty to return:').translate() %><\/span> <b><%= _('$(0) of $(0)').translate(quantity) %><\/b><\/p>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemActionsAddToCartReOrder', function () {\n %>\n\t<div class=\"add-to-cart-button-container\">\n\t\t<button class=\"btn btn-primary pull-right add-to-cart-btn\"><%= _('Add to Cart').translate() %><\/button>\n\t<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemActionsReturnQuantity', function (options) { %>\n<%\n\tvar item_id = options.itemId\n\t,\tline_id = options.lineId\n\t,\titem_quantity = options.itemQuantity || 1\n\t,\tparent_internalid = options.parentInternalId\n\t,\tformat_options = _.map(options.formatOptions, function ( option )\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn option.id +'='+ option.value;\n\t\t\t\t\t\t\t}).join(',');\n%>\n\t<input type=\"hidden\" name=\"item_id\" data-item-id=\"<%= item_id %>\" data-parent-id=\"<%= parent_internalid %>\" data-item-options=\"<%= format_options %>\">\n\t<label class=\"text-light\"><%= _('Qty:').translate() %><\/label>\n\t<input type=\"number\" name=\"item_quantity\" id=\"\" data-toggle=\"quantity\" data-line-id=\"<%- line_id %>\" class=\"input-mini\" value=\"<%= item_quantity %>\" min=\"1\" max=\"999\">\n\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartOptionDefault', function (option, value, model) { %>\n<div class=\"cart-option\" data-cart-option-id=\"<%= option.cartOptionId %>\" data-item-option-id=\"<%= option.itemOptionId %>\">\n\t<span class=\"option-label\">\n\t\t<%= option.label || option.name.replace(':', '') %><\/span>: <span class=\"option-value\"><%= value.label %>\n\t<\/span>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('shoppingCartOptionColor', function (option, value, model) { %>\n<div>\n\t<%= option.label || option.name.replace(':', '') %>: \n\t<% var color = option.colors && (option.colors[value.label] || option.colors.defaultColor); %>\n\t<span \n\t\t<% if (!_.isObject(color)) { %>\n\t\t\tstyle=\"background: <%= color %>\"\n\t\t<% } %>\n\t\tclass=\"cart-color-tile\">\n\t\t\t<% if (_.isObject(color) && color.type === 'image') { %>\n\t\t\t\t<img \n\t\t\t\t\tsrc=\"<%- color.src %>\" \n\t\t\t\t\talt=\"<%- value.label %>\"\n\t\t\t\t\twidth=\"<%- color.width || '' %>\" \n\t\t\t\t\theight=\"<%- color.height || '' %>\">\n\t\t\t<% } %>\t\n\t<\/span> <%= value.label %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('invoiceListLine', function (invoice, options) { %>\n<%\n\tvar is_checked = invoice.get('checked')\n\t,\tinvoice_id = invoice.get('internalid')\n\t,\tinvoice_number = invoice.get('tranid')\n\t,\tis_overdue = invoice.get('isOverdue')\n\t,\tis_open = invoice.get('status').internalid === 'open'\n\t,\tselectable = options.selectable\n\t,\tis_link = !selectable && options.navigateDetails\n\t,\tnavigation_options = options.referer ? '\/' + options.referer : ''\n\t,\tamount_paid = invoice.get('summary').total - invoice.get('amountremaining');\n\n\toptions = options || {};\n%>\n\n<% if (is_link) { %>\n\t<a href=\"invoices\/<%= invoice_id %><%= navigation_options %>\" data-touchpoint=\"customercenter\" data-hashtag=\"#invoices\/<%= invoice_id %><%= navigation_options %>\"  class=\"list-row <%= is_checked ? 'active' : '' %>\" data-type=\"invoice\" data-id=\"<%= invoice_id %>\">\n<% } else { %>\n\t<div class=\"list-row <%= is_checked ? 'active' : '' %> <%= selectable ? 'selectable' : '' %>\" data-type=\"invoice\" data-id=\"<%= invoice_id %>\">\n<% } %>\n\t<div class=\"row-fluid\">\n\t\t<% if (selectable) { %>\n\t\t\t<div class=\"span1\">\n\t\t\t\t<input type=\"checkbox\" value=\"<%= invoice_id %>\" data-action=\"select\" <%= is_checked ? 'checked' : '' %>>\n\t\t\t<\/div>\n\t\t<% } %>\n\t\t<div class=\"<%= selectable ? 'span2' : 'span3' %>\">\n\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t<% if (is_link) { %>\n\t\t\t\t\t<span class=\"list-row-text-bigger id-record invoice-number\"><%= _('Invoice #$(0)').translate(invoice_number) %><\/span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<a href=\"#\/invoices\/<%= invoice_id %><%= navigation_options %>\">\n\t\t\t\t\t\t<span class=\"list-row-text-bigger id-record input-margin invoice-number\"><%= _('Invoice #$(0)').translate(invoice_number) %><\/span>\n\t\t\t\t\t<\/a>\n\t\t\t\t<% } %>\n\t\t\t<\/span>\n\t\t<\/div>\n\t\t<div class=\"span2 <%= is_link ? '' : 'offset-xs-1' %>\">\n\t\t\t<span class=\"list-row-text invoice-date\">\n\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Date:').translate() %> <\/span>\n\t\t\t\t<%= _('$(0)').translate(invoice.get('trandate') || '&nbsp;') %>\n\t\t\t<\/span>\n\t\t<\/div>\n\t\t<div class=\"span2 <%= is_link ? '' : 'offset-xs-1' %>\">\n\t\t\t<span class=\"list-row-text <%= is_open ? 'invoice-due-date' : 'invoice-close-date' %>\">\n\t\t\t\t<% if (is_open) { %>\n\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Due date:').translate() %> <\/span>\n\t\t\t\t\t<%= is_overdue ? '<span class=\"date-overdue\">' + _('$(0)').translate(invoice.get('duedate')) + '<\/span> <i class=\"icon-flag\"><\/i>' : _('$(0)').translate(invoice.get('duedate') || '&nbsp;') %>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Close date:').translate() %> <\/span>\n\t\t\t\t\t<%= _('$(0)').translate(invoice.get('closedate') || '&nbsp;') %>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if (is_open && amount_paid) { %>\n\t\t\t\t\t<br>\n\t\t\t\t\t<span class=\"list-line-legend\"><%= _('Partially paid').translate()%><\/span>\n\t\t\t\t<% } %>\n\t\t\t<\/span>\n\t\t<\/div>\n\t\t<div class=\"span3 <%= is_link ? '' : 'offset-xs-1' %>\">\n\t\t\t<span class=\"list-row-text invoice-amount\">\n\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t<span class=\"amount\"><%= _('$(0)').translate(invoice.get('summary').total_formatted) %><\/span>\n\t\t\t<\/span>\n\t\t<\/div>\n\t\t<div class=\"span2 responsive-align <%= is_link ? '' : 'offset-xs-1' %>\">\n\t\t\t<span class=\"list-row-text invoice-currency\">\n\t\t\t\t<span class=\"visible-phone list-row-text-info invoice-currency\"><%= _('Currency:').translate() %> <\/span>\n\t\t\t\t<span class=\"currency\"><%= _('$(0)').translate(invoice.get('currency').name) %><\/span>\n\t\t\t<\/span>\n\t\t<\/div>\t\t\n\t\t<% if (options.navigateDetails) { %>\n\t\t\t<div class=\"visible-phone span1 pull-right text-right\">\n\t\t\t\t<% if (is_link) { %>\n\t\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<a href=\"invoices\/<%= invoice_id %><%= navigation_options %>\" class=\"icon-chevron-right InvoiceArrow<%= invoice_id %>\"><\/a>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n<% if (is_link) { %>\n\t<\/a>\n<% } else { %>\n\t<\/div>\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('paymentWizardInvoice', function (invoice) { %>\n<%\n\tvar invoice_id = invoice.get('internalid')\n\t,\tis_paid = invoice.get('due') === 0\n\t,\tduedate = invoice.get('duedate')\n\t,\tis_overdue = invoice.get('isOverdue')\n\t,\tinvoice_number = invoice.get('tranid') || invoice.get('refnum')\n\t,\tis_journal_invoice = !(invoice_number)\n\t,\ttranslated_duedate = _('$(0)').translate(duedate || '');\n%>\n\n<div class=\"list-row selectable <%= invoice.get('apply') ? 'active' : '' %> <%= is_paid ? 'disabled' : '' %>\" data-type=\"invoice\" data-id=\"<%= invoice_id %>\">\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span1\">\n\t\t\t<input type=\"checkbox\" value=\"<%= invoice_id %>\" data-action=\"select\" <%= invoice.get('apply') ? 'checked' : '' %> <%= is_paid ? 'disabled' : '' %>>\n\t\t<\/div>\n\t\t<div class=\"span3\">\n\t\t\t\t<% \/\/If the invoice is an ordinary one\n\t\t\t\tif (!is_journal_invoice) { %>\n\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t<a class=\"list-row-text-bigger input-margin invoice-number\" href=\"invoices\/<%= invoice_id %>\" data-toggle=\"show-in-modal\"><%= _('Invoice #$(0)').translate(invoice_number) %><\/a>\n\t\t\t\t\t<\/span>\n\t\t\t\t<% \/\/or is a journal invoice (the ones created when the user has an initial  Opening Balance > 0)\n\t\t\t\t} else { %>\n\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t<label class=\"info-label invoice-number\"><%= _('Journal').translate() %><\/label>\n\t\t\t\t\t<\/span>\n\t\t\t\t<% } %>\n\t\t<\/div>\n\t\t<div class=\"span5 offset-xs-1\">\n\t\t\t<span class=\"list-row-text\">\n\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Due date: ').translate() %> <\/span>\n\t\t\t\t<%= is_overdue ? '<span class=\"date-overdue invoice-due-date\">' + translated_duedate + '<\/span> <i class=\"icon-flag\"><\/i>' : translated_duedate || '&nbsp;' %>\n\t\t\t\t<% if (invoice.get('discountapplies') && invoice.isPayFull()) { %>\n\t\t\t\t\t<br>\n\t\t\t\t\t<small class=\"text-success\">\n\t\t\t\t\t\t<%= _('Applied Discount: $(0) - until $(1)').translate(invoice.get('discount_formatted'), invoice.get('discdate')) %>\n\t\t\t\t\t<\/small>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (is_paid) { %>\n\t\t\t\t\t<br>\n\t\t\t\t\t<small class=\"text-success\">\n\t\t\t\t\t\t<%= _('Processing Payments').translate() %>\n\t\t\t\t\t<\/small>\n\t\t\t\t<% } %>\n\t\t\t<\/span>\n\t\t<\/div>\n\t\t<div class=\"span3 offset-xs-1 responsive-align\">\n\t\t\t<span class=\"list-row-text\">\n\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t<span class=\"amount invoice-remaining-amount\"><%= _('$(0)').translate(invoice.get('amount_formatted')) %><\/span>\n\t\t\t\t<br\/>\n\t\t\t\t<a class=\"list-link visible-phone\" data-toggle=\"show-in-modal\" href=\"invoices\/<%= invoice_id %>\"><%= _('View Details').translate() %><\/a>\n\t\t\t\t<a data-action=\"edit\" class=\"list-link <%= invoice.get('apply') ? '' : 'hidden' %>\" href=\"#\"><%= invoice.isPayFull() ? _('Edit Payment').translate() : _('Partial Payment').translate() %><\/a>\n\t\t\t<\/span>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('paymentWizardBreadcrumb', function (step_groups) { %>\n<% var inactive = false; %>\n\n<div>\n\t<ul class=\"breadcrumb text-right\">\n\t<% _.each(_.initial(_.values(step_groups)), function (group, index) { %>\n\t\t<% if (group.state === 'present') { %>\n\t\t\t<% inactive = true; %>\n\t\t\t<li class=\"active\">\n\t\t\t\t<% if (index > 0) { %>\n\t\t\t\t\t<span class=\"divider\">|<\/span>\n\t\t\t\t<% } %>\n\t\t\t\t<%= _('Step $(0)').translate(index + 1) %>\n\t\t\t<\/li>\n\t\t<% } else { %>\n\t\t\t<li>\n\t\t\t\t<% if (index > 0) { %>\n\t\t\t\t\t<span class=\"divider\">|<\/span>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (!inactive) { %>\n\t\t\t\t\t<a href=\"<%= group.url %>\"><%= _('Step $(0)').translate(index + 1) %><\/a>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<%= _('Step $(0)').translate(index + 1) %>\n\t\t\t\t<% } %>\n\t\t\t<\/li>\n\t\t<% } %>\n\t<% }) %>\n\t<\/ul>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('paymentWizardCreditTransaction', function (options) { %>\n<%\n\tvar type = options.type\n\t,\ttransaction = options.transaction\n\t,\tapplied = transaction.get('apply')\n\t,\tdisabled = !applied && !options.total\n\t,\tselectable = !options.readOnly\n\t,\ttotal_formatted = transaction.get('total_formatted')\n\t,\tremaining_formatted = transaction.get('remaining_formatted');\n%>\n<div class=\"list-row <%= disabled ? 'disabled' : selectable ? 'selectable' : '' %>\" data-type=\"transaction\" data-id=\"<%= transaction.get('internalid') %>\">\n\t<div class=\"row-fluid\" data-action=\"select\" data-id=\"<%= transaction.get('internalid') %>\">\n\t\t<% if (selectable) { %>\n\t\t\t<div class=\"span1\">\n\t\t\t\t<input type=\"checkbox\" <%= applied ? 'checked' : disabled ? 'disabled' : '' %> value=\"<%= transaction.get('internalid') %>\" data-action=\"select\">\n\t\t\t<\/div>\n\t\t<% } %>\n\t\t<div class=\"span3 <%= !selectable ? 'offset1' : '' %>\">\n\t\t\t<span class=\"list-row-text <%= type %>-number\">\n\t\t\t\t<span class=\"list-row-text-bigger input-margin <%= type %>-number\">\n\t\t\t\t\t<%= transaction.get('type') || '' %> #<%= transaction.get('refnum')%>\n\t\t\t\t<\/span>\n\t\t\t<\/span>\n\t\t<\/div>\n\t\t<div class=\"span5 offset-xs-1\">\n\t\t\t<span class=\"list-row-text\">\n\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Remaining Amount: ').translate() %><\/span>\n\t\t\t\t<span class=\"<%= type %>-remaining-amount\"><%= _('$(0)').translate(remaining_formatted) %> <\/span>\n\t\t\t\t<% if (remaining_formatted !== total_formatted) { %>\n\t\t\t\t\t<br>\n\t\t\t\t\t<small class=\"<%= type %>-originial-amount text-success\">\n\t\t\t\t\t\t<%= _('Original Amount: $(0)').translate(total_formatted) %> \n\t\t\t\t\t<\/small>\n\t\t\t\t<% } %>\n\t\t\t<\/span>\n\t\t<\/div>\n\t\t<div class=\"span3 offset-xs-1 responsive-align\">\n\t\t\t<span class=\"list-row-text\">\n\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount: ').translate() %><\/span>\n\t\t\t\t<span class=\"<%= type %>-amount\"><%= transaction.get('amount_formatted') %> <\/span>\n\t\t\t\t<% if (applied) { %>\n\t\t\t\t\t<br>\n\t\t\t\t\t<a class=\"list-link\" data-action=\"edit\" href=\"#\"><%= _('Edit').translate() %><\/a>\n\t\t\t\t<% } %>\n\t\t\t<\/span>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('wizadStepNavigation', function (step_groups) { %>\n<ul class=\"wizard-step-groups\">\n<% var index_counter = 0\n\t,\terrors_to_display = []; %>\n<% _.each(step_groups, function (step_group) { %>\n\t<%\n\t\tvar list_item_class = 'wizard-step-link';\n\t\tif (step_group.state === 'present')\n\t\t{\n\t\t\tlist_item_class += ' active';\n\t\t}\n\t\telse if (step_group.state === 'future')\n\t\t{\n\t\t\tlist_item_class += ' disabled';\n\t\t}\n\n\t\tvar step_group_errors = step_group.getErrors();\n\t\tif (step_group_errors && step_group_errors.length)\n\t\t{\n\t\t\tlist_item_class += ' error';\n\t\t}\n\n\t\terrors_to_display = _.uniq(_.union(errors_to_display, step_group_errors), function (item) { return item.errorCode; });\n\t%>\n\n\t<% if (index_counter) { %>\n\t\t<li class=\"divider divider-<%= index_counter %>\">\/<\/li>\n\t<% } %>\n\n\t<li class=\"<%- list_item_class %> wizard-step-<%= index_counter %>\">\n\t\t<a href=\"<%- step_group.state === 'future' ? Backbone.history.fragment : step_group.url + '?force=true' %>\">\n\t\t\t<span class=\"step-index step-index-<%= index_counter %>\">\n\t\t\t\t<%= ++index_counter %>\n\t\t\t<\/span>\n\t\t\t<%= step_group.name %>\n\t\t<\/a>\n\t<\/li>\n<% }) %>\n<\/ul>\n<% if (errors_to_display.length) { %>\n\t <% _.each(errors_to_display, function (error) { %>\n\t \t\t<div class=\"alert alert-error orderwizard-header-error\"><%= error.errorMessage %><\/div>\n\t<% }) %>\n<% } %>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('productListDisplayCondensed', function(item, view) { %>\n\t<% \t\t\t\t\t\t\t\n\t\tvar product = item.get('item')\n\t\t,\tquantity = item.get('quantity')\n\t\t,\tpriority = item.get('priority')\n\t\t,\titem_details = item.get('itemDetails')\n\t\t,\tprice = item_details.getPrice()\n\t\t,\tstock_info = item_details.getStockInfo();\n\t%>\n<article data-id=<%= item.get('internalid') %> data-item-id=<%= item_details.get('internalid') %> >\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span10 info-box\">\n\t\t\t<div class=\"item-details\" data-type=\"item-details\">\n\t\t\t\t<h5 class=\"row-fluid item-details-name\">\n\t\t\t\t\t<div class=\"name\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"#<%= _(item.get('itemDetails').get('_url')).fixUrl() %>\"> <%= item.getProductName() || item.get('name') %><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/h5>\n\t\t\t\t<div class=\"row-fluid item-details-date\">\n\t\t\t\t\t<div class=\"item-details-date-added\">\n\t\t\t\t\t\t<span><%=_('Added on').translate() %>: <%= item.get('created') %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row-fluid item-details-pricing\">\n\t\t\t\t\t<div class=\"item-details-price\">\t\t\n\t\t\t\t\t\t<strong><%= price.price_formatted %><\/strong>\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"item-details-stock\">\n\t\t\t\t\t\t<%= SC.macros.itemDetailsStock(item_details.getStockInfo()) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row-fluid item-details-options\">\n\t\t\t\t\t<div class=\"item-details-options-others\" data-type=\"all-options\" data-exclude-options=\"\">\t\t\t\t\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"item-details-quantity\">\n\t\t\t\t\t\t<span><%=_('Desired Quantity').translate() %>: <%= quantity %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"item-details-priority\">\n\t\t\t\t\t\t<span><%=_('Priority').translate() %>: <%= priority.name %><\/span>\n\t\t\t\t\t<\/div>\t\n\t\t\t\t<\/div>\n\t\t\t<\/div>\t\t\n\t\t<\/div>\n\t\t<div class=\"span2 item-commands action-box\">\n\t\t\t<div class=\"text-right\"><button data-action=\"add-to-cart\" class=\"btn btn-primary btn-expanded add-to-cart <%= !product.ispurchasable ? 'disabled' : ''%>\" <%= !product.ispurchasable ? 'disabled' : ''%>><%= _('Add to cart').translate() %><\/button><\/div>\n\t\t\t<div class=\"item-commands-crud\">\n\t\t\t\t<div class=\"text-right\"><button class=\"btn btn-link\" data-action=\"edit-item\" data-toggle=\"show-in-modal\"><%= _('Edit').translate() %><\/button><\/div>\n\t\t\t\t<div class=\"text-right\"><button class=\"btn btn-link\" data-action=\"delete-item\"><%= _('Delete').translate() %><\/button><\/div>\n\t\t\t\t<div class=\"pull-right move\" data-type=\"productlist-control-move\"><\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\t\t\n<\/article>\t\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('productListDisplayFull', function(item, view, options) { \n\tvar product = item.get('item')\n\t,\tquantity = item.get('quantity')\n\t,\tpriority = item.get('priority')\n\t,\tdescription = item.get('description')\n\t,\titem_details = item.get('itemDetails')\n\t,\tthumbnail = item_details.get('_thumbnail')\n\t,\tprice = item_details.getPrice()\n\t,\trating = item_details.get('_rating')\n\t,\tstock_info = item_details.getStockInfo();\n%>\n<article data-id=<%= item.get('internalid') %> data-item-id=<%= item_details.get('internalid') %> >\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span10 info-box\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span4 item-image\" data-type=\"product-list-item\">\n\t\t\t\t\t<img src=\"<%= view.application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%=thumbnail.altimagetext %>\">\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span8 item-details\" data-type=\"item-details\">\n\t\t\t\t\t<h5 class=\"item-details-name\">\n\t\t\t\t\t\t<a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"#<%= _(item.get('itemDetails').get('_url')).fixUrl() %>\"> <%=  item.getProductName() || item.get('name') %><\/a>\n\t\t\t\t\t<\/h5>\n\n\t\t\t\t\t<% if(!options || !options.hide_added_on) { %>\n\t\t\t\t\t<div class=\"item-details-date-added\">\n\t\t\t\t\t\t<span><%=_('Added on').translate() %>: <%= item.get('created') %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\n\t\t\t\t\t<% if(!options || !options.hide_rating) { %>\n\t\t\t\t\t<div class=\"item-rating\" itemprop=\"aggregateRating\" itemscope itemtype=\"http:\/\/schema.org\/AggregateRating\">\n\t\t\t\t\t\t<%= SC.macros.starRating({\n\t\t\t\t\t\t\tmax: view.options.application.getConfig('productReviews.maxRate')\n\t\t\t\t\t\t\t,\tvalue: rating\n\t\t\t\t\t\t\t,\tclassName: 'star pull-left'\n\t\t\t\t\t\t\t,\tfillRounded: true\n\t\t\t\t\t\t}) %>\n\t\t\t\t\t\t<span class=\"review-total\">\n\t\t\t\t\t\t\t<%= _('($(0))').translate(\n\t\t\t\t\t\t\t'<span itemprop=\"reviewCount\">' + item_details.get('_ratingsCount') + '<\/span>'\n\t\t\t\t\t\t\t) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<div class=\"row-fluid item-details-pricing\">\n\t\t\t\t\t\t<div class=\"item-details-price\">\t\t\n\t\t\t\t\t\t\t<strong><%= price.price_formatted %><\/strong>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"item-details-stock\">\n\t\t\t\t\t\t\t<%= SC.macros.itemDetailsStock(stock_info) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"item-details-options\">\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"options-container\" data-type=\"all-options\" data-exclude-options=\"\">\t\t\t\t\t\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"item-details-quantity\">\n\t\t\t\t\t\t\t<span class=\"item-details-label\"><%=_('Desired Quantity').translate() %><\/span>: <span class=\"item-details-value\"><%= quantity %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<div class=\"item-details-priority\">\n\t\t\t\t\t\t\t<span class=\"item-details-label\"><%=_('Priority').translate() %><\/span>: <span class=\"item-details-value\"><%= priority.name %><\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\n\t\t\t\t\t<div class=\"item-details-notes\" data-type=\"item-details-notes\">\n\t\t\t\t\t\t<% if(description) { %>\n\t\t\t\t\t\t\t<p><%= _('Notes: ').translate() + description %><\/p>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"span2 item-commands action-box\" data-type=\"item-commands\">\n\t\t\t<% if(!options || !options.hide_actions) { %>\n\t\t\t<div class=\"text-right\"><button data-action=\"add-to-cart\" class=\"btn btn-primary btn-expanded add-to-cart <%= !product.ispurchasable ? 'disabled' : ''%>\" <%= !product.ispurchasable ? 'disabled' : ''%>><%= _('Add to cart').translate() %><\/button><\/div>\n\t\t\t<div class=\"item-commands-crud\">\n\t\t\t\t<div class=\"text-right\"><button class=\"btn btn-link\" data-action=\"edit-item\" data-toggle=\"show-in-modal\"><%= _('Edit').translate() %><\/button><\/div>\n\t\t\t\t<div class=\"text-right\"><button class=\"btn btn-link\" data-action=\"delete-item\"><%= _('Delete').translate() %><\/button><\/div>\n\t\t\t\t<div class=\"pull-right move\" data-type=\"productlist-control-move\"><\/div>\n\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n<\/article>\t\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('productListDisplayLater', function(item, view, options) { \n\tvar product = item.get('item')\n\t,\tquantity = item.get('quantity')\n\t,\tdescription = item.get('description')\n\t,\titem_details = item.get('itemDetails')\n\t,\tthumbnail = item_details.get('_thumbnail')\n\t,\tstock_info = item_details.getStockInfo()\n\t,\tinternalid = item.get('internalid');\n%>\n<article data-id=<%= item.get('internalid') %> data-item-id=<%= item_details.get('internalid') %> >\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span2 thumbnail cart-item-thumbnail\" data-type=\"product-list-item\" >\n\t\t\t<img src=\"<%= view.application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%=thumbnail.altimagetext %>\">\n\t\t<\/div>\n\t\t\n\t\t<div class=\"span9 details\" data-type=\"item-details\">\n\t\t\t<div class=\"name\">\n\t\t\t\t<a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"#<%= _(item.get('itemDetails').get('_url')).fixUrl() %>\"> <%=  item.getProductName() || item.get('name') %><\/a>\n\t\t\t<\/div>\n\n\t\t\t<div class=\"lead lead-small price\">\n\t\t\t\t<%= SC.macros.showItemPrice(item_details.getPrice(), stock_info.isInStock) %>\n\t\t\t<\/div>\t\n\n\t\t\t<div class=\"item-details-stock\">\n\t\t\t\t<%= SC.macros.itemDetailsStock(stock_info) %>\n\t\t\t<\/div>\n\n\t\t\t<div class=\"item-details-options\">\n\t\t\t\t<div class=\"options-container\" data-type=\"all-options\" data-exclude-options=\"\">\t\t\t\t\t\n\t\t\t\t<\/div>\t\t\t\t\n\t\t\t\t<form action=\"#\" data-action=\"update-quantity-item-list\">\n\t\t\t\t\t<% if (product.itemtype !== 'GiftCert') { %>\n\t\t\t\t\t\t<input type=\"number\" name=\"item_quantity\" id=\"item_quantity-<%= internalid %>\" class=\"input-mini quantity-<%= internalid %>\" value=\"<%- quantity %>\" min=\"1\">\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<input type=\"hidden\" name=\"item_quantity\" id=\"item_quantity-<%= quantity %>\" value=\"1\">\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/form>\n\t\t\t<\/div>\n\n\t\t\t<div class=\"cart-item-actions\" data-type=\"item-commands\">\n\t\t\t\t<% if(!options || !options.hide_actions) { %>\n\t\t\t\t<button data-action=\"add-to-cart\" class=\"btn btn-primary btn-expanded add-to-cart <%= !product.ispurchasable ? 'disabled' : ''%>\" <%= !product.ispurchasable ? 'disabled' : ''%>><%= _('Add to cart').translate() %><\/button>\n\t\t\t\t<button class=\"btn btn-expanded remove\" data-action=\"delete-item\"><%= _('Remove').translate() %><\/button>\t\t\t\t\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/article>\t\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('productListListDetails', function(list) {\t%>\n\t<%\t\n\t\tvar items = list.get('items')\n\t\t, \tout_of_stock_items = items.filter(function(product_list_item) { return !product_list_item.get('item').ispurchasable; }); \n\t%>\n<article class=\"row-fluid\" data-product-list-id=\"<%= list.get('internalid') %>\">\n\t<span class=\"span8 info-box\">\n\t\t<h4 class=\"product-list-name\">\n\t\t\t<a href=\"\/productlist\/<%= list.get('internalid') ? list.get('internalid') : 'tmpl_' + list.get('templateid') %>\">\n\t\t\t\t<%= list.get('type').name === 'predefined' ? _(list.get('name')).translate() : list.get('name') %>\n\t\t\t<\/a>\n\t\t<\/h4>\n\t\t<p class=\"date-modified\"><%= _('Last updated:').translate() %>&nbsp; <%= list.get('lastmodified') %><\/p>\n\t\t<p>\n\t\t\t<% if(items.length && items.length > 0) { %>\n\n\t\t\t<span class=\"item-count\"><%= items.length %><\/span>&nbsp;<%= items.length === 1 ? _('item').translate() : _('items').translate() %>\n\t\t\t<% if(items.length) {\n\t\t\t\tvar last_product_item = _.sortBy(items.models, function(it){ return new Date(it.get('created')); }).reverse()[0]\n\t\t\t\t,\titem;\n\t\t\t\tif(last_product_item)\n\t\t\t\t{\n\t\t\t\t\titem = last_product_item.get('item');\n\t\t\t\t}\n\n\t\t\t\tif(item)\n\t\t\t\t{\n\t\t\t%>\n\n\t\t\t(<%= _('last added').translate()%>  <a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"#<%= _(last_product_item.get('itemDetails').get('_url')).fixUrl() %>\"><%= item.displayname %><\/a>)\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\t\t\t<% } else { %>\n\t\t\t\t<span> <%= _('No items yet').translate() %><\/span>\n\t\t\t<% } %>\n\n\t\t<\/p>\n\t\t<% \n\t\t\tvar list_description = list.get('description');\n\t\t\tif(list_description && list_description.length > 0) {\n\t\t%>\n\t\t<p class=\"list-description\"><%= _('Notes').translate() %>:&nbsp;<%= list.get('description')%><\/p>\n\t\t<% if (out_of_stock_items.length > 0) { %>\n\t\t\t<p class=\"list-stock\">\n\t\t\t\t<span class=\"label label-important products-not-purchasable-message\">\n\t\t\t\t\t<%= _('Some products from this list are not available for purchase').translate() %>\n\t\t\t\t<\/span>\t\t\t\t\n\t\t\t<\/p>\n\t\t<% } %>\n\t\t<% } %>\n\t<\/span>\n\n\t<span class=\"span4 pull-right text-right action-box\">\n\t\t<button data-action=\"add-to-cart\" class=\"btn btn-primary btn-expanded add-item-to-cart <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%>\" <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%>><%= _('Add list to cart').translate() %><\/button>\n\t\t<div class=\"list-commands-crud\">\n\t\t\t<% if (list.get('type').name !== 'predefined') { %>\n\t\t\t<button class=\"btn btn-link\" data-action=\"delete-list\"><%= _('Delete list').translate() %><\/button><span class=\"separator\"><\/span>\n\t\t\t<button class=\"btn btn-link\" data-action=\"edit-list\"><%= _('Edit list').translate() %><\/button><span class=\"separator\"><\/span>\n\t\t\t<% } %>\n\t\t\t<% if (list.get('scope').name !== 'private') { %>\n\t\t\t<button class=\"btn \tbtn-link\" data-action=\"share-list\"><%= _('Email\/Share list').translate() %><\/button><span class=\"separator\"><\/span>\n\t\t\t<% } %>\t\n\t\t<\/div>\n\t<\/span>\n<\/article>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionTile', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<ul id=\"<%= htmlid %>\" class=\"tiles size-tiles <%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t\t%>\n\t\t\t\t<li class=\"<%= (is_active ? 'active' : '') + ' ' + (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<a \n\t\t\t\t\t<% if (is_active) { %>\n\t\t\t\t\t\thref=\"<%= _.removeUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url) %>\" \n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url, item.internalid) %>\" \n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tclass=\"tile\" \n\t\t\t\t\t\tdata-value=\"<%= item.internalid %>\" \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t\t\t<%= item.label %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/ul>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionDropdown', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<label class=\"option-label strong\" for=\"<%= htmlid %>\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/label>\n\t<select name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium\" data-toggle=\"select-option\">\n\t<% _.each(option.values, function (item) { %>\n\t\t<% if (item.internalid) { %>\n\t\t\t<% \n\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t%>\n\t\t\t<option\n\t\t\t\tclass=\"<%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\"\n\t\t\t\tvalue=\"<%= item.internalid %>\"\n\t\t\t\t<%= is_active ? 'selected' : '' %>\n\t\t\t\tdata-active=\"<%= is_active %>\"\n\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t<\/option>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/select>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsStock', function (stock_info) { %>\n\t<% if (!stock_info.isInStock && stock_info.showOutOfStockMessage) { %>\n\t\t<span class=\"label label-important stock-status out-of-stock\">\n\t\t\t<%= stock_info.outOfStockMessage %>\n\t\t<\/span>\n\t<% } else if (stock_info.showInStockMessage) { %>\n\t\t<span class=\"label label-success stock-status in-stock\">\n\t\t\t<%= stock_info.inStockMessage %>\n\t\t<\/span>\n\t<% } %>\n\t<% if (stock_info.showStockDescription && stock_info.stockDescription) { %>\n\t\t<span class=\"stock-description <%= stock_info.stockDescriptionClass %>\">\n\t\t\t<%= stock_info.stockDescription %>\n\t\t<\/span>\n\t<% } %>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemLinkName', function (options) { %>\n<%\n\tvar\titem = options.item\n\t,\turl = item.get('_isPurchasable') ? item.get('_url') : null\n\t,\tshow_item_name_as_link = options.showLinkeable;\n\n\tif (url && SC.ENVIRONMENT.siteType === 'ADVANCED' && show_item_name_as_link)\n\t{\n\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\thref: url\n\t\t,\tdata: {\n\t\t\t\ttouchpoint: 'home'\n\t\t\t,\thashtag: '#' + url\n\t\t\t}\n\t\t});\n\t}\n\telse if (url && show_item_name_as_link)\n\t{\n\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\thref: url\n\t\t});\n\t}\n\n\tif (link_attributes)\n\t{\n\t\tname = '<a ' + link_attributes + ' data-type=\"navigate-product\" >' + item.get('_name') + '<\/a>';\n\t}\n\telse\n\t{\n\t\tname = '<span data-type=\"navigate-product\" >' + item.get('_name') + '<\/span>';\n\t} %>\n\n\t<%= name %>\n\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionRadio', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<div id=\"<%= htmlid %>\" class=\"<%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable;\n\t\t\t\t%>\n\t\t\t\t<label class=\"radio <%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<input \n\t\t\t\t\t\ttype=\"radio\" \n\t\t\t\t\t\tname=\"<%= htmlid %>\" \n\t\t\t\t\t\tvalue=\"<%= item.internalid %>\" \n\t\t\t\t\t\t<%= is_active ? 'checked' : '' %> \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t<%= item.label %>\n\t\t\t\t<\/label>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/div>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsEditable', function (options) { %>\n<%\n\tvar line = options.line\n\t,\tapplication = options.application\n\t,\tis_selectable = options.isSelectable\n\t,\titem = line.get('item')\n\t,\titem_options = line.get('options') || line.get('options_object')\n\t,\tis_active = line.get('checked')\n\t,\tquantity = line.get('quantity')\n\t,\tinternalid = line.get('internalid')\n\t,\tthumbnail =  item.get('_thumbnail')\n\t,\tline_extra_class = options.extraLineClass || ''\n\t,\titem_price = line.get('rate_formatted') || item.get('_price_formatted')\n\t,\tdeatils_macro = _.isFunction(options.detailsMacro) ? options.detailsMacro : function(){}\n\t,\textra_item_details_macro = _.isFunction(options.extraItemDetailsMacro) ? options.extraItemDetailsMacro : function (){}\n\t,\tactions_macro = _.isFunction(options.actionsMacro) ? options.actionsMacro : function(){}\n\t,\titem_link = SC.macros.itemLinkName({item: item, showLinkeable: options.showItemLinkeable || true});\n%>\n<div class=\"product-details <%= line_extra_class %> payment-table-row <%= is_selectable ? 'selectable' : '' %> <%= is_active ? 'active' : '' %>\" data-type=\"return-line\" data-item=\"<%= item.get('_id')%>\" data-id=\"<%- internalid %>\" style=\"cursor: pointer;\">\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span2\">\n\t\t\t<% if (is_selectable) { %>\n\t\t\t\t<input type=\"checkbox\" name=\"\" value=\"<%= internalid %>\" <%= is_active ? 'checked' : '' %> style=\"margin-right: 20px;\">\n\t\t\t<% } %>\n\t\t\t<img class=\"product-image\" src=\"<%= application.resizeImage(thumbnail.url, 'tinythumb') %>\" alt=\"<%= thumbnail.altimagetext %>\" data-toggle=\"false\">\n\t\t<\/div>\n\t\t<div class=\"span3\">\n\t\t\t<%= item_link %>\n\t\t\t<p class=\"product-price text-highlight\"><%= item_price %><\/p>\n\t\t\t<p class=\"text-light\"><%= _('SKU: #$(0)').translate(item.get('_sku')) %><\/p>\n\t\t\t<% if (item_options && item_options.length) { %>\n\t\t\t\t<div class=\"text-light\"><%= SC.macros.showItemOptions(item_options) %><\/div>\n\t\t\t<% } %>\n\t\t\t<%= extra_item_details_macro(options) %>\n\t\t<\/div>\n\t\t<div class=\"span3 product-quantity\">\n\t\t\t<%= deatils_macro(options) %>\n\t\t<\/div>\n\t\t<div class=\"span4 control-group\">\n\t\t\t<%= actions_macro(options) %>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionText', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<label class=\"option-label strong\" for=\"<%= htmlid %>\">\n\t\t<%= option.label %>\n\t<\/label>\n\t<% if (option.type === 'textarea') { %>\n\t\t<textarea name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium <%= htmlid %>\" data-toggle=\"text-option\" data-available=\"true\"><%= selected_value && selected_value.internalid || '' %><\/textarea>\n\t<% } else { %>\n\t\t<input type=\"<%= option.type === 'email' ? 'email' : 'text' %>\" name=\"<%= htmlid %>\" id=\"<%= htmlid %>\" class=\"input-medium <%= htmlid %>\" value=\"<%- selected_value && selected_value.internalid || '' %>\" data-toggle=\"text-option\" data-available=\"true\">\n\t<% } %>\n<\/div>\n<% }) %>\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n","<% registerMacro('itemDetailsOptionColor', function (option, selected_value, item_model) { %>\n<% var htmlid = 'option-'+ option.cartOptionId; %>\n<div id=\"<%= htmlid %>-container\" class=\"<%= htmlid %>-container\" data-type=\"option\" data-cart-option-id=\"<%= option.cartOptionId %>\">\n\t<p class=\"option-label strong\">\n\t\t<%= option.label %><% if (selected_value) { %>: <span><%= selected_value.label %><\/span><% } %>\n\t<\/p>\n\t<ul id=\"<%= htmlid %>\" class=\"tiles color-tiles <%= htmlid %>\">\n\t\t<% _.each(option.values, function (item) { %>\n\t\t\t<% if (item.internalid) { %>\n\t\t\t\t<% \n\t\t\t\t\tvar is_active = selected_value && item.internalid == selected_value.internalid\n\t\t\t\t\t,\tis_available = item.isAvailable\n\t\t\t\t\t,\tcolor = option.colors && (option.colors[item.label] || option.colors.defaultColor);\n\t\t\t\t%>\n\t\t\t\t<li class=\"<%= (is_active ? 'active' : '') +' '+ (is_available ? '' : 'muted') %>\">\n\t\t\t\t\t<a \n\t\t\t\t\t<% if (is_active) { %>\n\t\t\t\t\t\thref=\"<%= _.removeUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url) %>\" \n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\thref=\"<%= _.setUrlParameter(item_model.get('_url') + item_model.getQueryString(), option.url, item.internalid) %>\" \n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tclass=\"tile\" \n\t\t\t\t\t\ttitle=\"<%= item.label %>\"\n\t\t\t\t\t<% if (!_.isObject(color)) { %>\n\t\t\t\t\t\tstyle=\"background: <%= color %>\"\n\t\t\t\t\t<% } %>\n\t\t\t\t\t\tdata-value=\"<%= item.internalid %>\" \n\t\t\t\t\t\tdata-toggle=\"set-option\" \n\t\t\t\t\t\tdata-active=\"<%= is_active %>\" \n\t\t\t\t\t\tdata-available=\"<%= is_available %>\">\n\t\t\t\t\t\t<% if (_.isObject(color) && color.type === 'image') { %>\n\t\t\t\t\t\t\t<img \n\t\t\t\t\t\t\t\tsrc=\"<%= color.src %>\" \n\t\t\t\t\t\t\t\talt=\"<%= item.label %>\"\n\t\t\t\t\t\t\t\twidth=\"<%= color.width || '' %>\" \n\t\t\t\t\t\t\t\theight=\"<%= color.height || '' %>\">\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t<% } %>\n\t\t<% }) %>\n\t<\/ul>\n<\/div>\n<% }) %>\n\n {eval}exported.null = null.wrap(function(){var retval, args = $A(arguments), orig_function = args.shift();try{ retval = orig_function.apply(this, args);}catch(e){ var msg = e; if(e.message){msg = e.message;} alert(\"err in macro null: \"+msg);}return retval;});{\/eval}\n"],"payment_wizard_credit_transaction_module_tmpl":"<div class=\"payment-table <%= view.transaction_type === 'credit' ? 'credits-table' : 'deposits-table' %>\">\n\t<h5 class=\"payment-table-header\">\n\t\t<%= view.transaction_type === 'credit' ? _('Credits').translate() : _('Deposits').translate() %>\n\t<\/h5>\n\t\n\t<div class=\"list-sub-header hidden-phone\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span3 offset1\">\n\t\t\t\t<span><%= _('Number').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span5\">\n\t\t\t\t<span><%= _('Remaining amount').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span3 text-right\">\n\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<% view.collection.each(function (transaction){ %>\n\t\t<%= paymentWizardCreditTransaction({\n\t\t\ttransaction: transaction\n\t\t,\ttype: view.transaction_type\n\t\t,\ttotal: view.wizard.model.calculeTotal(true)\n\t\t}) %>\n\t<% }); %>\n\t\n\t<div class=\"payment-table-footer-alt\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span8 offset4\">\n\t\t\t\t<p class=\"strong\">\n\t\t\t\t\t<%= view.transaction_type === 'credit' ? _('Credits Subtotal').translate() : _('Deposits Subtotal').translate() %>\n\t\t\t\t\t<span class=\"pull-right\"><%= view.wizard.model.get(view.transaction_type === 'credit' ? 'credits_total_formatted' : 'deposits_total_formatted') %><\/span>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/div>","creditcard_tmpl":"<% view.model = view.model || new Backbone.Model(); %>\n<% if (!view.inModal) { %>\n\t<h3>\n\t\t<%= view.model.isNew() ? _('Add a new Credit Card').translate() : _('Edit Credit Card').translate() %>\n\t<\/h3>\n\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\t\n\t<hr class=\"divider-small\">\n\t<% if (!view.collection.length) { %>\n\t\t<p><b><%= _('We have no Credit Card on file for this account.').translate() %><\/b><\/p>\n\t\t<p><%= _('For faster checkouts, please enter your payment information below').translate() %><\/p>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n<% } %>\n\n<form action=\"creditcard.ss\" method=\"POST\">\n\t<% if (view.inModal) { %>\n\t\t<div class=\"modal-body\">\n\t<% } %>\n\n\t<%= creditcardForm(view.model, view.options) %>\n\n\t<% if (view.inModal) { %>\n\t\t<\/div>\n\t<% } %>\n\n\t<div class=\"<%- view.inModal ? 'modal-footer left-aligned' : 'form-actions' %>\">\n\t\t<button type=\"submit\" class=\"btn btn-primary\">\n\t\t\t<%= view.model.isNew() ? _('Add Card').translate() : _('Update Card').translate() %>\n\t\t<\/button>\n\n\t\t<% if (view.inModal || view.collection.length) { %>\n\t\t\t<button class=\"btn\" data-dismiss=\"modal\">\n\t\t\t\t<%= _('Cancel').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\n\t\t<% if (!view.inModal) { %>\n\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\">\n\t\t\t\t<%= _('Reset').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\t<\/div>\n<\/form>","return_authorization_form_tmpl":"<%\n\tvar application = view.application\n\t,\tcreated_from = view.createdFrom\n\t,\tcreated_from_url = view.getLinkedRecordUrl()\n\t,\tinvalid_lines = created_from.get('invalidLines')\n\t,\tactive_lines_length = view.getActiveLines().length;\n%>\n<h3 class=\"\"><%= view.page_header %><\/h3>\n<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n<hr class=\"divider-small\">\n<div data-type=\"alert-placeholder\"><\/div>\n<section class=\"\">\n\t<form class=\"\">\n\t\t<fieldset>\n\t\t\t<legend style=\"border-bottom: none;\"><%= _('Select items to return').translate() %><\/legend>\n\t\t\t<input type=\"hidden\" name=\"id\" value=\"<%= created_from.get('internalid') %>\">\n\n\t\t\t<% if (created_from.get('type') === 'salesorder') { %>\n\t\t\t\t<p><%= _('From <a href=\"$(0)\">Order #$(1)<\/a>').translate(created_from_url, created_from.get('order_number')) %><\/p>\n\t\t\t\t<input type=\"hidden\" name=\"type\" value=\"salesorder\">\n\t\t\t<% } else { %>\n\t\t\t\t<p><%= _('From <a href=\"$(0)\">Invoice #$(1)<\/a>').translate(created_from_url, created_from.get('order_number')) %><\/p>\n\t\t\t\t<input type=\"hidden\" name=\"type\" value=\"invoice\">\n\t\t\t<% } %>\n\n\t\t\t<div data-type=\"list-header-placeholder\"><\/div>\n\t\t\t<% view.getLines().each(function (line) { %>\n\t\t\t\t<%= itemDetailsEditable({\n\t\t\t\t\t\tapplication: application\n\t\t\t\t\t,\tline: line\n\t\t\t\t\t,\tisSelectable: true\n\t\t\t\t\t,\tdetailsMacro: view.getDetailsMacro(line)\n\t\t\t\t\t,\tactionsMacro: view.getActionsMacro(line)\n\t\t\t\t\t}) %>\n\t\t\t<% }) %>\n\t\t\t<br>\n\t\t\t<p class=\"text-light\">\n\t\t\t\t<%= _('<b>$(0)<\/b> items selected').translate(active_lines_length) %> <br>\n\t\t\t\t<%= _('<b>$(0)<\/b> in total to return').translate(view.getTotalItemsToReturn()) %>\n\t\t\t<\/p>\n\t\t<\/fieldset>\n\n\t\t<% if (invalid_lines.length) { %>\n\t\t<div class=\"control-group\" data-type=\"accordion\">\n\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t<%= _('Items from original order not eligible for return ($(0))').translate(invalid_lines.length) %>\n\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t\t<div class=\"span11 offset1 popover-content popover-heading\"><%= _('Item').translate() %><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<%\tinvalid_lines.each(function (line, index) { %>\n\t\t\t\t\t<%\n\t\t\t\t\t\tvar item = line.get('item')\n\t\t\t\t\t\t,\toptions = line.get('options');\n\t\t\t\t\t%>\n\t\t\t\t\t<div class=\"row-fluid nav-tabs item-<%= item.get('internalid') %>\">\n\t\t\t\t\t\t<div class=\"span1 item-image hide-phone\"><img src=\"<%= application.resizeImage(item.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= item.get('_thumbnail').altimagetext %>\"><\/div>\n\t\t\t\t\t\t<div class=\"span11 popover-content\">\n\t\t\t\t\t\t\t<p class=\"item-displayname\"><%= item.get('_name') %><\/p>\n\t\t\t\t\t\t\t<p class=\"product-price text-highlight\"><%= line.get('rate_formatted') %><\/p>\n\t\t\t\t\t\t\t<p class=\"text-light\"><%= _('SKU: #$(0)').translate(item.get('_sku')) %><\/p>\n\t\t\t\t\t\t\t<% if (options && options.length) { %>\n\t\t\t\t\t\t\t\t<div class=\"text-light\"><%= SC.macros.showItemOptions(options) %><\/div>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }) %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<% } %>\n\n\t\t<fieldset>\n\t\t\t<label class=\"h4\" for=\"comment\"><%= _('Add a comment (optional)').translate() %><\/label>\n\t\t\t<textarea name=\"comments\" id=\"comment\" class=\"input-xxlarge\" rows=\"4\"><%= view.comments || '' %><\/textarea>\n\t\t<\/fieldset>\n\t\t<div class=\"form-actions form-actions-left\">\n\t\t\t<button type=\"submit\" class=\"btn btn-primary\" <%= !active_lines_length ? 'disabled' : '' %>><%= _('Submit request').translate() %><\/button>\n\t\t<\/div>\n\t<\/form>\n<\/section>\n","return_authorization_detail_tmpl":"<%\n\tvar model = view.model\n\t,\tlines = model.get('lines')\n\t,\tsummary = model.get('summary')\n\t,\tstatus = model.get('status').label\n\t,\ttotal_formatted = summary.total_formatted\n\t,\tapplication = view.application\n\t,\tinternalid = model.get('internalid')\n\t,\tcreated_from = model.get('createdfrom')\n\t,\tcreated_from_url = view.getLinkedRecordUrl()\n\t,\tcollapse_elements = application.getConfig('collapseElements')\n\t,\tdownload_url = _.getDownloadPdfUrl({\n\t\t\tasset: 'return-details'\n\t\t,\tid: internalid\n\t\t});\n%>\n<div class=\"content return-authorization-details-view\">\n\t<h3>\n\t\t<%= view.page_header %>\n\t\t<div class=\"pull-right strong billing-actions hidden-phone\">\n\t\t\t<span class=\"return-authorization-details-amount\"><%= total_formatted %><\/span>\n\t\t<\/div>\n\t<\/h3>\n\t<a href=\"\/returns\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Returns').translate() %>\n\t<\/a>\n\n\t<hr class=\"divider-small\">\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<div class=\"header-information margin-bottom-10\">\n\t\t<% if (created_from) { %>\n\t\t<p class=\"info return-created-from\">\n\t\t\t<%= _('From:').translate() %> <a href=\"<%= created_from_url %>\"><%= _('$(0) #$(1)').translate(view.getCreatedFromLabel(), created_from.tranid) %><\/a>\n\t\t<\/p>\n\t\t<% } %>\n\t\t<p class=\"pull-right info hidden-phone return-status\">\n\t\t\t<%= _('Status:').translate() %> <span class=\"return-details-status status\"><%= status %><\/span>\n\t\t<\/p>\n\t\t<p class=\"info\">\n\t\t\t<%= _('Date of request:').translate() %> <span class=\"return-date\"><%= model.get('date') %><\/span>\n\t\t<\/p>\n\n\t\t<div class=\"visible-phone\">\n\t\t\t<p class=\"inf\">\n\t\t\t\t<%= _('Status:').translate() %> <span class=\"return-details-status status\"><%= status %><\/span>\n\t\t\t\t<span class=\"pull-right strong amount\"><%= total_formatted %><\/span>\n\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid\" name=\"return-content-layout\">\n\t\t<div class=\"span8 return-details-notmodal-container\">\n\t\t\t<div class=\"control-group\" data-type=\"accordion\">\n\t\t\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t<%= _('Items ($(0))').translate(lines.length) %>\n\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus <%= collapse_elements ? '' : 'icon-minus' %>\"><\/i><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div data-content=\"items-body\" style=\"<%= collapse_elements ? 'display: none;' : '' %>\">\n\n\t\t\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t\t\t<div class=\"span4 offset1 popover-content popover-heading\"><%= _('Item').translate() %><\/div>\n\t\t\t\t\t\t<div class=\"span1 popover-content popover-heading\"><%= _('Qty').translate() %><\/div>\n\t\t\t\t\t\t<div class=\"span4 popover-content popover-heading\"><%= _('Reason').translate() %><\/div>\n\t\t\t\t\t\t<div class=\"span2 popover-content popover-heading responsive-align\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<%\tlines.each(function (line, index) { %>\n\t\t\t\t\t\t<%\n\t\t\t\t\t\t\tvar link_attributes = false\n\t\t\t\t\t\t\t,   itemKey = line.get('item')\n\t\t\t\t\t\t\t,   url = itemKey.get('_isPurchasable') ? itemKey.get('_url') : null;\n\n\t\t\t\t\t\t\tif (url && SC.ENVIRONMENT.siteType === 'ADVANCED')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t\t\t\t,   data: {\n\t\t\t\t\t\t\t\t\t\ttouchpoint: 'home'\n\t\t\t\t\t\t\t\t\t\t,   hashtag: '#' + url\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (url)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar name = itemKey.get('_name');\n\t\t\t\t\t\t\tif (link_attributes) {\n\t\t\t\t\t\t\t\tname = '<a class=\"to-item-link\" ' + link_attributes + '>' + name + '<\/a>';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t%>\n\n\t\t\t\t\t\t<div class=\"row-fluid nav-tabs item-<%= itemKey.get('internalid') %>\">\n\t\t\t\t\t\t\t<div class=\"span1 hide-phone item-image\">\n\t\t\t\t\t\t\t\t<img src=\"<%= view.options.application.resizeImage(itemKey.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= itemKey.get('_thumbnail').altimagetext %>\">\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span4 popover-content\">\n\t\t\t\t\t\t\t\t<div class=\"item-displayname\">\n\t\t\t\t\t\t\t\t\t<%= name %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"item-id\">\n\t\t\t\t\t\t\t\t\t<%= _('<span class=\"text-light\">SKU:<\/span> <span class=\"item-sku\">#$(0)<\/span>').translate(itemKey.get('_sku')) %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<%= itemKey.renderAllOptionSelected() %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span1 popover-content item-quantity\"><span class=\"show-phone text-light\"><%= _('Qty:').translate() %><\/span><%= line.get('quantity') %><\/div>\n\t\t\t\t\t\t\t<div class=\"span4 popover-content\"><span class=\"show-phone text-light\"><%= _('Reason:').translate() %><\/span> <%= line.get('reason') %><\/div>\n\t\t\t\t\t\t\t<div class=\"span2 popover-content responsive-align item-totalprice\"><span class=\"show-phone text-light\"><%= _('Amount:').translate() %><\/span> <%= line.get('amount_formatted') %><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<% if (model.get('comment')) { %>\n\t\t\t\t<p><%= _('Comments:').translate() %><\/p>\n\t\t\t\t<blockquote><%= model.get('comment') %><\/blockquote>\n\t\t\t<% } %>\n\t\t<\/div>\n\n\t\t<div class=\"span4\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"list-header summary-container\">\n\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group strong return-details-summary-header\">\n\t\t\t\t\t\t<%= _('SUMMARY').translate() %>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Tax Total').translate() %>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"span4 pull-right text-right tax-total\">\n\t\t\t\t\t\t\t<%= summary.taxtotal_formatted %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t<%= _('Shipping & Handling').translate() %>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"span4 text-right shipping-cost\">\n\t\t\t\t\t\t\t<%= summary.shippingamount_formatted %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"row-fluid control-group strong total\">\n\t\t\t\t\t\t<div class=\"span8 text-strong\">\n\t\t\t\t\t\t\t<%= _('TOTAL').translate() %>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"span4 text-right last total\">\n\t\t\t\t\t\t\t<%= total_formatted %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<a class=\"btn btn-large btn-block margin-top-20 hidden-phone download-pdf\" data-stdnav target=\"_blank\" href=\"<%= download_url %>\"><%= _('Download as PDF').translate() %><\/a>\n\t\t\n\t\t\t\t<% if (model.get('isCancelable')) { %>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-large btn-block margin-top-20\" data-action=\"cancel\"><%= _('Cancel request').translate() %><\/button>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\t\t\t\t\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/div>","payment_wizard_confirmation_navigation_module_tmpl":"<div class=\"pull-right\">\n\n\t<% if (view.model.get('confirmation') && view.model.get('confirmation').internalid !== '0') {\n\t\tvar url = _.getDownloadPdfUrl({asset:'customer-payment-details', 'id': view.model.get('confirmation').internalid});\n\t%>\n\n\t\t<p class=\"hidden-phone\">\n\t\t\t<a href=\"<%= url %>\" target=\"_blank\" class=\"btn download-pdf payment-total-width\" >\n\t\t\t\t<%= _('Download as PDF').translate() %>\n\t\t\t<\/a>\n\t\t<\/p>\n\n\t<% } %>\n\n\t<p>\n\t\t<a href=\"\/transactionhistory\" class=\"btn go-to-transaction-history payment-total-width hidden-phone\" data-action=\"update-layout\">\n\t\t\t<%= _('Go To Transaction History').translate() %>\n\t\t<\/a>\n\t<\/p>\n\t<p>\n\t\t<% if (view.wizard.model.get('invoices').length) { %>\n\t\t\t<a href=\"\/make-a-payment\" class=\"btn make-another-payment payment-total-width hidden-phone\" data-action=\"update-layout\" > <%= _('Make another payment').translate() %> <\/a>\n\t\t<% } else { %>\n\t\t\t<a class=\"btn payment-total-width hidden-phone\" disabled ><%= _('No payment due').translate() %><\/a>\n\t\t<% } %>\n\t<\/p>\n<\/div>\n","home_alt_tmpl":"<section>\n<% if ( view.customerSupportURL ) { %>\n\t<div class=\"header-links\">\n\t\t<%= _('Need Help? Contact <a href=\"$(0)\">Customer Service<\/a>').translate( view.customerSupportURL ) %>\n\t<\/div>\n<% } %>\n\t<div class=\"row\">\n\t\t<div class=\"span3\">\n\t\t\t<div class=\"well\">\n\t\t\t\t<h3><%= _('Profile').translate() %><\/h3>\n\t\t\t\t<table>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><%= _('Name').translate() %>:<\/td>\n\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t<%= view.model.get('firstname') || '' %> <%= view.model.get('middlename') || '' %> <%= view.model.get('lastname') || '' %>\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><%= _('Email').translate() %>:<\/td>\n\t\t\t\t\t\t<td><%= view.model.get('email') %><\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><%= _('Phone').translate() %>:<\/td>\n\t\t\t\t\t\t<td><%= view.model.get('phone') %><\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td><%= _('Password').translate() %>:<\/td>\n\t\t\t\t\t\t<td>***********<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t<\/table>\n\t\t\t\t<a class=\"box-btn editProfileInformation\" href=\"\/profileinformation\"><%= _('Edit').translate() %><\/a>\n\t\t\t<\/div>\n\t\t\t<div class=\"well\">\n\t\t\t\t<h3><%= _('Shipping').translate() %><\/h3>\n\t\t\t\t<% var default_shipping = view.model.get('defaultShippingAddress') %>\n\t\t\t\t<% if ( default_shipping.isNew() || default_shipping.get('defaultshipping') !== 'T' ) { %>\n\t\t\t\t\t<p><%= _('We have no default address on file for this account.').translate() %><\/p>\n\t\t\t\t\t<a href=\"#\" class=\"box-btn editShippingAddress\"><%= _('Create New Address').translate() %><\/a>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<b>\n\t\t\t\t\t\t\t<%= default_shipping.get('label') || default_shipping.get('company') || default_shipping.get('fullname') %>\n\t\t\t\t\t\t<\/b>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t\t<% if ( default_shipping.get('label') && default_shipping.get('company') ) { %>\n\t\t\t\t\t\t\t<%= default_shipping.get('company') %> <br>\n\t\t\t\t\t\t\t<%= default_shipping.get('fullname') %> <br>\n\t\t\t\t\t\t<% } else if ( default_shipping.get('label') ? !default_shipping.get('company') : default_shipping.get('company') ) { %><!-- label xor company -->\n\t\t\t\t\t\t\t<%= default_shipping.get('fullname') %> <br>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<%= default_shipping.get('addr1') %> <br>\n\t\t\t\t\t\t<% if ( default_shipping.get('addr2') ) { %>\n\t\t\t\t\t\t\t<%= default_shipping.get('addr2') %> <br>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<%= default_shipping.get('city') +', '+ default_shipping.get('state') +' '+ default_shipping.get('zip') %> <br>\n\t\t\t\t\t\t<%= default_shipping.get('country') %> <br>\n\t\t\t\t\t\t<%= default_shipping.get('phone') %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<a href=\"#\" class=\"editShippingAddress\"><%= _('Edit').translate() %><\/a>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t\n\t\t\t<div class=\"well\">\n\t\t\t\t<h3><%= _('Payment').translate() %><\/h3>\n\t\t\t\t<% var default_creditcard = view.model.get('defaultCreditCard') %>\n\t\t\t\t<% if ( default_creditcard.isNew() || default_creditcard.get('ccdefault') !== 'T' ) { %>\n\t\t\t\t\t<p><%= _('We have no default credit card on file for this account.').translate() %><\/p>\n\t\t\t\t\t<a href=\"#\" class=\"editCreditCard\"><%= _('Add a Credit Card').translate() %><\/a>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<b><%= default_creditcard.get('paymentmethod').name %><\/b><br>\n\t\t\t\t\t\t<%= default_creditcard.get('ccname') %> <br>\n\t\t\t\t\t\t<%= default_creditcard.get('ccnumber') %> <br>\n\t\t\t\t\t\t<%= _('Exp Date').translate() +': '+ default_creditcard.get('expmonth') +'\/'+ default_creditcard.get('expyear') %> <br>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<a href=\"#\" class=\"box-btn editCreditCard\"><%= _('Edit').translate() %><\/a>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"span6\">\n\t\t\t${homeBanner()}\n\t\t<\/div>\n\t<\/div>\n<\/section>","open_invoices_list_tmpl":"<%\n\tvar invoices = view.collection\n\t,\tselected_invoices_length = view.getSelectedInvoicesLength()\n\t,\tinvoice_display_options = {\n\t\t\tnavigateDetails: true\n\t\t,\tselectable: true\t\n\t\t};\n%>\n<section>\n\t<header>\n\t\t<h3><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\n\t<\/header>\n\n\t<div class=\"header-information\">\n\t\t<div class=\"header-information-element clearfix\">\n\t\t\t<span><%= _('Open').translate() %><\/span>\n\t\t\t<span>|<\/span> \n\t\t\t<a href=\"\/paid-invoices\" class=\"InvoicePaidInFull\"><%= _('Paid in Full').translate() %><\/a>\n\t\t\t<% if (invoices.length) { %>\n\t\t\t\t<a data-permissions=\"transactions.tranCustPymt.2, transactions.tranCustInvc.1\" data-type=\"make-a-payment\" class=\"btn btn-expanded btn-primary pull-right\" <%= selected_invoices_length > 0 ? 'href=\"\/make-a-payment\"' : 'disabled' %> >\n\t\t\t\t\t<% if (selected_invoices_length > 0 ) { %>\n\t\t\t\t\t\t<%= _('Make a Payment').translate() %>\n\t\t\t\t\t<%\t} else {%>\n\t\t\t\t\t\t<%= _('$(0) Invoices selected').translate(selected_invoices_length)%>\n\t\t\t\t\t\t\n\t\t\t\t\t<%\t} %>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t<div class=\"row-fluid\">\t\t\n\t\t<% if (invoices.length) { %>\n\t\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span1\">\n\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<span><%= _('Invoice No.').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<span><%= _('Date').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<span><%= _('Due date').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2 responsive-align\">\n\t\t\t\t\t\t<span><%= _('Currency').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<% invoices.each(function (invoice, index) { %>\n\t\t\t\t<%= invoiceListLine(invoice, invoice_display_options) %>\n\t\t\t<% }); %>\n\t\t<% } else { %>\n\t\t\t<p class=\"list-empty\"><%= _('You don\\'t have any Open Invoices at the moment,<\/br>see <a href=\"\/paid-invoices\" class=\"InvoicePaidInFull\">Invoices Paid In Full<\/a>').translate() %><\/p>\n\t\t<% } %>\n\t<\/div>\n<\/section>","credit_memo_details_tmpl":"<section>\n\t<header>\n\t\t<h3>\n\t\t\t<%= _('Credit Memo <span class=\"strong creditmemo-number\">#$(0)<\/span>').translate(view.model.get('tranid')) %>\n\t\t\t<span class=\"strong pull-right hidden-phone creditmemo-amount\"><%= view.model.get('total_formatted') %><\/span>\n\t\t<\/h3>\n\t\t<a href=\"\/transactionhistory\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Transaction History').translate() %>\n\t\t<\/a>\n\t<\/header>\n\n\t<hr class=\"divider-small\">\n\n\t<%\n\t\tvar collapse_elements = view.options.application.getConfig('collapseElements')\n\t\t,\tstatus = view.model.get('status')\n\t\t,\turl = _.getDownloadPdfUrl({asset: 'credit-memo-details', id: view.model.get('internalid')});\n\t%>\n\n\t<div class=\"header-information margin-bottom-10\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span12\">\n\t\t\t\t<p class=\"pull-right info hidden-phone\">\n\t\t\t\t\t<%= _('Status: <span class=\"status\">$(0)<\/span>').translate(status) %>\n\t\t\t\t<\/p> \n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Date: $(0)').translate(view.model.get('trandate')) %>\n\t\t\t\t<\/p>\n\t\t\t\t<p class=\"info visible-phone\">\n\t\t\t\t\t<%= _('Status: <span class=\"quote-status status\">$(0)<\/span>').translate(status) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid\">\n\t\t<div class=\"span8\">\n\t\t\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t\t\t<% var items =  view.model.get('items'); %>\n\t\t\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t<%= _('Returned Items (<span class=\"items-count\">$(0)<\/span>)').translate(items.length) %>\n\t\t\t\t\t\t<% if (items.length) { %>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus <%= collapse_elements ? '' : 'icon-minus' %>\"><\/i><\/a>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t\t\t<% if (items.length) { %>\n\t\t\t\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t\t\t\t<div class=\"span4 offset1 popover-content popover-heading\"><%= _('Item').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span1 popover-content popover-heading\"><%= _('Qty').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span3 popover-content popover-heading\"><%= _('Unit Price').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span3 popover-content popover-heading responsive-align\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<%\titems.each(function (item, index) { %>\n\n\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\tvar link_attributes = false\n\t\t\t\t\t\t\t\t,\turl = item.get('_isPurchasable') ? item.get('_url') : null;\n\n\t\t\t\t\t\t\t\tif (url && SC.ENVIRONMENT.siteType === 'ADVANCED')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t\t\t\t,\tdata: {\n\t\t\t\t\t\t\t\t\t\t\ttouchpoint: 'home'\n\t\t\t\t\t\t\t\t\t\t,\thashtag: '#' + url\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (url)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar name = item.get('_name');\n\t\t\t\t\t\t\t\tif (link_attributes) {\n\t\t\t\t\t\t\t\t\tname = '<a ' + link_attributes + '>' + name + '<\/a>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t<div class=\"row-fluid nav-tabs item-<%= item.get('internalid') %>\">\n\t\t\t\t\t\t\t\t<div class=\"span1 item-image hide-phone\"><img src=\"<%= view.options.application.resizeImage(item.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= item.get('_thumbnail').altimagetext %>\"><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span4 popover-content\">\n\t\t\t\t\t\t\t\t\t<div class=\"item-displayname\">\n\t\t\t\t\t\t\t\t\t<%= name %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"item-id\"><%= _('SKU: #$(0)').translate(item.get('_sku')) %><\/div>\n\t\t\t\t\t\t\t\t\t<%= item.renderAllOptionSelected() %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"span1 popover-content item-quantity\"><%= _('<span class=\"show-phone text-light\">Qty:<\/span> $(0)').translate(item.get('quantity')) %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content item-unitprice\"><%= _('<span class=\"show-phone text-light\">Unit Price:<\/span> $(0)').translate(item.get('unitprice_formatted')) %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content responsive-align item-totalprice\"><%= _('<span class=\"show-phone text-light\">Amount:<\/span> $(0)').translate(item.get('total_formatted')) %><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t<div class=\"offset5 span4 text-right popover-content strong hide-phone\"><%= _('Items Subtotal').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span3 text-right popover-content strong item-subtotal\"><%= _('<span class=\"show-phone\">Items Subtotal: <\/span>$(0)').translate(view.model.get('subtotal_formatted')) %><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t<%= _('Applied to Invoices').translate() %>\n\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t<\/div>\n\t\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t<% if (view.model.get('invoices') && view.model.get('invoices').length) { %>\n\t\t\t\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t\t\t\t<div class=\"span4 popover-content\"><%= _('Number').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span5 popover-content\"><%= _('Transaction Date').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span3 text-right popover-content\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<%\t_.each(view.model.get('invoices'), function (invoice, index) { %>\n\t\t\t\t\t\t\t<div class=\"row-fluid nav-tabs invoice-<%= invoice.internalid %>\">\n\t\t\t\t\t\t\t\t<div class=\"span4 text-left popover-content invoice-number\"><span class=\"show-phone\"><%= _('Number: ').translate() %><\/span><a href=\"\/invoices\/<%= invoice.internalid %>\"><%= _('$(0)').translate(invoice.refnum) %><\/a><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span5 text-left popover-content\"><%= _('<span class=\"show-phone\">Transaction Date: <\/span><span class=\"invoice-date\">$(0)<\/span>').translate(invoice.applydate) %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 text-right popover-content invoice-amount\"><%= _('<span class=\"show-phone\">Amount: <\/span>$(0)').translate(invoice.amount_formatted) %><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t<div class=\"row-fluid nav-tabs control-group\">\n\t\t\t\t\t\t\t<div class=\"span9 text-right popover-content strong hide-phone\"><%= _('Applied Subtotal').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span3 text-right popover-content strong creditmemo-applied\"><%= _('<span class=\"show-phone\">Applied Subtotal: <\/span>$(0)').translate(view.model.get('amountpaid_formatted')) %><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t<div class=\"span9 text-right\">\n\t\t\t\t\t\t\t\t<span class=\"lead popover-content hide-phone\"><%= _('Remaining Amount').translate() %><\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3 text-right\">\n\t\t\t\t\t\t\t\t<span class=\"lead strong popover-content creditmemo-remaining\"><%= _('<span class=\"show-phone\">Remaining Amount: <\/span>$(0)').translate(view.model.get('amountremaining_formatted')) %><\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t<div class=\"span12 text-center popover-content creditmemo-noinvoices\"><%= _('This Credit Memo has not been applied to any invoices yet.').translate() %><\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t<% if (view.model.get('memo')) { %>\n\t\t\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t\t\t<div class=\"well-secondary\" data-action=\"items-expander\">\n\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t<%= _('More Details').translate() %>\n\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row-fluid\" data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t<div class=\"span12 popover-content\">\n\t\t\t\t\t\t<div>Memo:<\/div>\n\t\t\t\t\t\t<div class=\"creditmemo-memo\"><%= view.model.get('memo') %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<% } %>\n\t\t<\/div>\n\n\t\t<div class=\"span4\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"list-header\">\n\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"strong span12\"><%= _('ITEMS SUMMARY').translate() %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span7\"><%= _('ITEMS Subtotal').translate() %><\/div>\n\t\t\t\t\t\t<div class=\"span5 text-right items-summary-subtotal\"><%= view.model.get('subtotal_formatted') %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span7\"><%= _('Discount').translate() %><\/div>\n\t\t\t\t\t\t<div class=\"span5 text-right items-summary-discount\"><%= view.model.get('discount_formatted') %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span7\"><%= _('Tax Item').translate() %><\/div>\n\t\t\t\t\t\t<div class=\"span5 text-right items-summary-tax\"><%= view.model.get('taxtotal_formatted') %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group\">\n\t\t\t\t\t\t<div class=\"span7\"><%= _('Shipping Cost').translate() %><\/div>\n\t\t\t\t\t\t<div class=\"span5 text-right items-summary-shipping\"><%= view.model.get('shippingcost_formatted') %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"row-fluid strong\">\n\t\t\t\t\t\t<div class=\"span7\"><%= _('Total').translate() %><\/div>\n\t\t\t\t\t\t<div class=\"span5 text-right items-summary-total\"><%= view.model.get('total_formatted') %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<div class=\"margin-top-20\">\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t<a href=\"<%= url %>\" target=\"_blank\" class=\"btn btn-expanded btn-block btn-large download-pdf-btn\"><%= _('Download as PDF').translate() %><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\t\t\t\n\t\t\t<\/div>\n\n\t\t<\/div>\n\t<\/div>\n\n\n<\/section>\n","internal_error_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"internal-error-content\" class=\"view-body internal-error-content\">\n\t<%= view.options.message || _('Sorry, we could not load the content you requested.').translate() %>\n<\/div>","product_list_details_later_tmpl":"<%\n\tvar config = view.application.Configuration.product_lists\n\t,\titems = view.model.get('items')\n\t, \tout_of_stock_items = items.filter(function(product_list_item) { return !product_list_item.get('item').ispurchasable; })\n\t,\ttype = view.model.get('type').name\n\t,\titems_length = items.length\n\t,\titems_length_message = '';\n\n\tif (items_length === 0)\n\t{\n\t\titems_length_message = _('(No items yet)').translate();\n\t}\n\telse if (items_length === 1)\n\t{\n\t\titems_length_message = _('($(0) Item)').translate(items_length);\n\t}\n\telse if (items_length > 1)\n\t{\n\t\titems_length_message = _('($(0) Items)').translate(items_length);\n\t}\n%>\n<header>\n\t<h3 class=\"list-header-title\">\n\t\t<%= (type === 'predefined' ||\u00a0type === 'later') ? _(view.model.get('name')).translate() : view.model.get('name') %> \n\t\t<span class=\"product-list-details-count\"><%= items_length_message %><\/span>\n\t<\/h3> \n\t\n\t<% if (items_length > 0) { %>\n\t\t<span class=\"product-list-details-explanation\">\n\t\t\t<%= _('To buy an item now, click \"Add to Cart\"').translate() %>\n\t\t<\/span>\n\t<% }\u00a0%>\n\n\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\n<% if(view.model) { \n\tvar items = view.model.get('items');\n\tif(items_length > 0) {\t\t\t\t\n\t\tvar productListDisplay = function (row) {\n\t\t\treturn SC.macros['productListDisplayLater'](row, view);\n\t\t}\t\t\n\t%>\t\n<\/header>\n\n<% \/* TODO: pagination and sub title - commented!\n<div class=\"product-list-sub-header\">\n\t<div class=\"pull-right\" data-type=\"product-list-actions\">\t\n\t\t<!-- PAGINATION -->\n\t<\/div>\n<\/div>\n*\/ %>\n\n\n<div class=\"product-list-items\" data-type=\"product-list-items\">\t\n\t<%= displayInRows(items.models, productListDisplay, 1) %>\n<\/div>\n\n\t<% } else { %>\n\t\t<span class=\"product-list-header-no-items\">\n\t\t\t<%= _('You don\\'t have items in this list yet.').translate() %>\t\n\t\t<\/span>\n\t<% } %>\t\n<% } %>","product_list_control_tmpl":"<% if(view.mode !== 'move') { %>\n<div data-confirm-message=\"\"><\/div>\n<% } %>\n\n<div class=\"show-wishlist-link\">\n\t<% if (view.mode !== 'move') { %>\n\t<button class=\"btn dropdown-toggle show-wishlist\" data-toggle=\"dropdown\" data-action=\"show-productlist-control\">\n\t\t<%= view.collection.length === 1 ? _('Add to my product list').translate() : _('Add to my product lists').translate() %>\n\t<\/button>\n\t<% } else { %>\n\t<button class=\"btn btn-link dropdown-toggle show-wishlist\" data-toggle=\"dropdown\" data-action=\"show-productlist-control\">\n\t\t<%= _('Move').translate() %>\n\t<\/button>\n\t<% } %>\n<\/div>\n\n<div class=\"dropdown-menu sub-menu productlist-control <%= view.mode === 'move' ? 'productlist-control-move' : '' %>\" data-type=\"productlist-control\" <%= view.is_visible ? 'style=\"display: block\"' : ''%>>\n\n\t<h4 class=\"product-list-control-title\">\n\t\t<%\n\t\t\tvar header_text = '';\n\t\t\tif (view.collection.length > 0) {\n\t\t\t\theader_text = ' (' + view.collection.length + ' ' + (view.collection.length === 1 ? _('list').translate() : _('lists').translate()) + ')';\n\t\t\t}\n\t\t%>\n\t\t<%= (view.mode !== 'move' ? _('Select from').translate() : _('Move item to').translate()) + header_text + ':' %>\n\t<\/h4>\n\t<ul class=\"ul-product-lists\">\n\t\t<% if (0 === view.collection.length) { %>\n\t\t<li class=\"nolists-msg\">\n\t\t\t<%= view.mode !== 'move' ? _('There are no lists').translate() : _('There are no other lists').translate() %>\n\t\t<\/li>\n\t\t<% } %>\n\t<\/ul>\n\t<h4 class=\"product-list-control-title\"><%= _('Or: ').translate() %><\/h4>\n\t<div class=\"new-product-list-container\" data-type=\"new-item-container\"><\/div>\t\t\n<\/div>","order_wizard_address_module_tmpl":"<%\n\tvar is_same_as_enabled = view.isSameAsEnabled\n\t,\tselected_address = view.address\n\t,\taddress_book = view.getAddressesToShow();\n%>\n\n<% if (!view.options.hide_title && view.getTitle()) { %>\n\t<h3 class=\"section-header\">\n\t\t<%= view.getTitle() %>\n\t<\/h3>\n<% } %>\n\n<% if (is_same_as_enabled) { %>\n\t<label class=\"checkbox same-as-address\">\n\t\t<input\n\t\t\t<%= view.disableSameAsCheckBox ? 'disabled=\"disabled\"' : '' %>\n\t\t\ttype=\"checkbox\"\n\t\t\tname=\"same-as-address\"\n\t\t\tdata-action=\"same-as\"\n\t\t\tvalue=\"1\"\n\t\t\t<%= view.sameAs ? 'checked' : '' %>\n\t\t>\n\t\t<%= view.sameAsMessage %>\n\t<\/label>\n<% } %>\n\n<% if ((is_same_as_enabled && view.sameAs) || view.addressId && !selected_address.isNew()) { %>\n\t<%= address(selected_address, {\n\t\thideActions: true\n\t,\thideDefaults: true\n\t,\tmanage: view.manage\n\t}) %>\n\n\t<% if (!is_same_as_enabled || !view.sameAs) { %>\n\t\t<p class=\"actions\">\n\t\t\t<% if (!view.isGuest && !view.options.edit_url) { %>\n\t\t\t\t<a class=\"btn btn-link edit-address\" href=\"\/addressbook\/<%- selected_address.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t\t\t<%= _('Edit Address').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\n\t\t\t<a href=\"#\" class=\"btn btn-link\" data-action=\"change-address\">\n\t\t\t\t<%= view.getChangeLinkText() %>\n\t\t\t<\/a>\n\t\t<\/p>\n\t<% } %>\n<% } else if (address_book.length && !view.isGuest) { %>\n\t<div id=\"address-module-list-placeholder\" <%= view.manage ? 'data-manage=' + view.manage : ''%> class=\"address-module-list-placeholder\">\n\t\t<p>\n\t\t\t<a class=\"btn btn-link add-new-address\" href=\"\/addressbook\/new\" data-toggle=\"show-in-modal\">\n\t\t\t\t<%= _('Add New Address').translate() %>\n\t\t\t<\/a>\n\t\t<\/p>\n\n\t\t<%\n\t\t\t\/\/ Wrap the address address macro to pass options in\n\t\t\tvar addressWrap = function (address) {\n\t\t\t\treturn SC.macros['address'](address, {\n\t\t\t\t\tshowSelect: true\n\t\t\t\t,\tselectMessage: view.selectMessage\n\t\t\t\t,\thideDefaults: true\n\t\t\t\t});\n\t\t\t}\n\t\t%>\n\n\t\t<%= displayInRows(address_book.models, addressWrap, view.itemsPerRow || 2) %>\n\t<\/div>\n<% } else { %>\n\t<div id=\"address-module-form-placeholder\" <%= view.manage ? 'data-manage=' + view.manage : ''%> class=\"address-module-form-placeholder\">\n\t\t<form method=\"POST\">\n\t\t<%= addressFrom(selected_address, {\n\t\t\t\tcountries: view.wizard.application.getConfig('siteSettings.countries')\n\t\t\t,\tmanage: view.manage\n\t\t\t,\thideDefaults: true\n\t\t}) %>\n\t\t<\/form>\n\n\t\t<% if (view.showSaveButton) { %>\n\t\t\t<div class=\"form-actions\">\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\" data-action=\"submit\">\n\t\t\t\t\t<%= _('Save Address').translate() %>\n\t\t\t\t<\/button>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n<% } %>","case_detail_tmpl":"<%\nvar categories = view.fields.get('categories')\n,\tuser = view.user\n,\tmodel = view.model\n,\tsubject = model.get('title')\n,\tgrouped_messages = model.get('grouped_messages')\n,\tmessages_count = model.get('messages_count')\n,   collapse_elements = view.application.getConfig('collapseElements')\n,\tclose_status_id = SC.ENVIRONMENT.CASES.CONFIG.default_values.status_close.id;\n%>\n\n<section class=\"content caseDetail\">\n\t<header>\n\t\t<h3>\n\t\t\t<span class=\"field-number\"><%= view.page_header %><\/span>\n\t\t\t<span class=\"field-subject text-light\"><%- subject %><\/span>\n\t\t<\/h3>\n\t\t<a href=\"\/cases\" class=\"back-btn\"><%= _('&lt; Back to Cases').translate() %><\/a>\t\t\n\t<\/header>\t\n\t\n\t<hr class=\"divider-small\" \/>\n\t\n\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<div class=\"case-detail-header\">\t\t\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span12\">\n\t\t\t\t<span><%= _('Type of inquiry:').translate() %><\/span>\n\t\t\t\t<span class=\"field-type\"><%= model.get('category').name %><\/span>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"row-fluid\">\n\t\t\t<span><%= _('Creation date:').translate() %><\/span>\n\t\t\t<span class=\"field-creation-date\"><%= model.get('createdDate') %><\/span>\n\t\t<\/div>\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span6\">\n\t\t\t\t<span><%= _('Last message:').translate() %><\/span>\n\t\t\t\t<span class=\"field-last-message-date\"><%= model.get('lastMessageDate') %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span6 hidden-phone\">\n\t\t\t\t<div class=\"pull-right\">\n\t\t\t\t\t<span><%= _('Status:').translate() %><\/span>\n\t\t\t\t\t<span class=\"field-status status\"><%= model.get('status').name %><\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"row-fluid visible-phone\">\n\t\t\t<span><%= _('Status:').translate() %><\/span>\n\t\t\t<span class=\"field-status status\"><%= model.get('status').name %><\/span>\n\t\t<\/div>\t\t\n\t\t<% if (model.get('status').id !== close_status_id) {\u00a0%>\n\t\t\t<div class=\"row-fluid case-detail-reply-section\">\n\t\t\t\t<button type=\"button\" class=\"btn-close-case btn btn-expanded pull-right\" data-action=\"close-case\"><%= _('Close Case').translate() %><\/button>\n\t\t\t<\/div>\n\t\t<% } %>\n\t<\/div>\n\t<hr class=\"divider-small\" \/>\t\n\t<form action=\"#\">\n\t\t<div class=\"control-group case-detail-add-reply row-fluid\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<label for=\"reply\"><%= _('Reply with a message').translate() %>: <\/label>\n\t\t\t\t<textarea name=\"reply\" id=\"reply\" class=\"form-control user-input-reply input-xxlarge\" rows=\"4\"><\/textarea>\n\t\t\t<\/div>\n\t\t\t<div class=\"row-fluid case-detail-reply-section\">\n\t\t\t\t<button type=\"submit\" class=\"btn-reply btn btn-primary btn-expanded\"><%= _('Reply').translate() %><\/button>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/form>\n\t<div class=\"case-detail-messages\" data-type=\"accordion\">\n        <div class=\"well\" data-action=\"items-expander\">\n            <div class=\"well-header\">\n                <span class=\"data-messages-count\"><%= _('Messages ($(0))').translate(messages_count) %><\/span>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus  <%= collapse_elements ? 'items-maximize' : 'icon-minus items-minimize' %>\"><\/i><\/a>\n            <\/div>\n        <\/div>\n        <div class=\"well-section-bordered\" data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n        \t<% _.each(grouped_messages, function (message_group) { %>\n        \t\t<div class=\"case-detail-message-group-row\">\n        \t\t\t<div class=\"case-detail-message-date-section\">\n\t\t\t\t\t\t<span class=\"field-message-date text-light text-line-after\"><%= message_group.date %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% _.each(message_group.messages, function (message) { %>\n\t\t\t\t\t\t<div class=\"case-detail-message-row <%= message.initialMessage ? 'highlighted' : '' %>\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<span class=\"field-message-author text-strong\"><%= message.author %><\/span>\n\t\t\t\t\t\t\t\t<span class=\"field-message-time text-light\"><%= '(' + message.messageDate + ')' %><\/span>\n\t\t\t\t\t\t\t\t<% if (message.initialMessage) { %>\n\t\t\t\t\t\t\t\t\t<span class=\"text-light\"><%= _('- Original case message').translate() %><\/span>\n\t\t\t\t\t\t\t\t<% }\u00a0%>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<pre class=\"field-message\"><%- message.text %><\/pre>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% }); %>\n\t\t\t\t<\/div>\n\t\t\t<% }); %>\n\t\t<\/div>\n\t<\/div>\n\t<br \/>\t\n<\/section>","product_list_control_single_tmpl":"<% \nvar model = view.single_list; \n%>\n<div class=\"show-wishlist-link\">\n\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\n\t<% if (view.getProductsInternalid().indexOf(view.getProductId(view.product) + '') === -1) { %>\n\t\n\t<button class=\"btn\" data-type=\"add-product-to-single-list\"><%= _('Add to <i>$(0)<\/i>').translate(model.get('name')) %><\/button>\n\n\t<% } else { %>\n\n\t<a href=\"#\" data-type=\"added-product-to-single-list\" data-touchpoint=\"customercenter\" data-hashtag=\"#productlist\/<%= model.get('internalid')%>\"><%= _('Saved to <i>$(0)<\/i>').translate(model.get('name')) %><\/a>\n\n\t<% } %>\n<\/div>\n","payment_wizard_confirmation_module_tmpl":"<% var confirmation = view.wizard.model.get('confirmation') %>\n<div class=\"alert alert-success\">\n\t<div class=\"row-fluid display-flex\">\n\t\t<div class=\"span1 payment-confirmation-tick-container hidden-phone\" >\u2713<\/div>\n\t\t<div class=\"span11\">\n\t\t\t<h2 class=\"payment-confirmation-greeting-container\"><%= _('Thank you!').translate() %><\/h2>\n\t\t\t<p class=\"payment-confirmation-body-container\">\n\t\t\t\t<% if (confirmation && confirmation.internalid !== '0') { %>\n\t\t\t\t\t<a href=\"\/transactionhistory\/customerpayment\/<%= confirmation && confirmation.internalid !== '0' %>\" data-touchpoint=\"customercenter\" data-hashtag=\"#transactionhistory\/customerpayment\/<%= confirmation.internalid %>\" data-action=\"update-layout\">\n\t\t\t\t\t\t<b><%= _('Payment #$(0)').translate(confirmation.tranid) %><\/b>\n\t\t\t\t\t<\/a>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<%= _('A Deposit\/Credit Memo Application was generated.').translate() %><br>\n\t\t\t\t\t<%= _('You can see the details in <a href=\"\/transactionhistory\" data-action=\"update-layout\">Transaction History<\/a> page.').translate() %>\n\t\t\t\t<% } %>\n\t\t\t\t<br>\n\t\t\t\t<%= _('You will receive an email with your payment confirmation.').translate() %>\n\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n\n<p>\n\t<a href=\"\/transactionhistory\" class=\"btn go-to-transaction-history payment-total-width visible-phone btn-expanded\" data-action=\"update-layout\">\n\t\t<%= _('Go To Transaction History').translate() %>\n\t<\/a>\n<\/p>\n<p>\n\t<% if (view.wizard.model.get('invoices').length) { %>\n\t\t<a href=\"\/make-a-payment\" class=\"btn make-another-payment payment-total-width visible-phone btn-expanded\" data-action=\"update-layout\" > <%= _('Make another payment').translate() %> <\/a>\n\t<% } else { %>\n\t\t<a class=\"btn payment-total-width visible-phone\" disabled ><%= _('No payment due').translate() %><\/a>\n\t<% } %>\n<\/p>\n","transaction_history_tmpl":"<section class=\"list\">\n\t<header>\n\t\t<h3><%= view.page_header %><\/h3>\n\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\t\t\n\t<\/header>\n\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t<div class=\"row-fluid\">\n\t<% if (!view.options.application.getUser().get('paymentterms')){ %>\n\t\t<p class=\"list-empty\"><%= _('You don\\'t have any transaction terms').translate() %><\/p>\n\t<% } else if (view.collection.length) { %>\n\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span4\">\n\t\t\t\t\t<span><%= _('Number').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t<span><%= _('Date').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3 responsive-align\">\n\t\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<% view.collection.each(function (transaction) { %>\n\t\t\t<%  var id = transaction.get('internalid')\n\t\t\t,\ttransaction_number = transaction.get('tranid')\n\t\t\t,\ttype_label = transaction.getTypeLabel(); %>\n\n\t\t\t\t<a href=\"#\" class=\"list-row\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"#<%= transaction.getTypeUrl() %>\">\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t<div class=\"span4\" quote-id=\"<%= id %>\">\n\t\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text-bigger id-record\"><%= _(type_label + ' #$(0)').translate(transaction_number) %><\/span>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span2 date-start\">\n\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Date:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t<%= _('$(0)').translate(transaction.get('trandate')) %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t<span class=\"amount\"><%= _('$(0)').translate(transaction.get('amount_formatted')) %><\/span>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span3 responsive-align\">\n\t\t\t\t\t\t\t<span class=\"list-row-text status\">\n\t\t\t\t\t\t\t\t<%= _('$(0)').translate(transaction.get('status')) %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"visible-phone span1 pull-right text-right\">\n\t\t\t\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/a>\n\t\t<% }); %>\n\t<% } else if (!view.isLoading) { %>\n\t\t<p class=\"list-empty\"><%= _('No transactions were found').translate() %><\/p>\n\t<% } %>\n\t<\/div>\n<\/section>\n","quote_list_tmpl":"<% var collection = view.collection %>\n<section class=\"quotes-list\">\n\t<header>\n\t\t<h3><%= view.page_header %><\/h3>\n\t\t\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\n\t<\/header>\n\t\n\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\t\n\t<div class=\"row-fluid quotes-table\">\n\t<% if (collection.length) { %>\n\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<span><%= _('Quote No.').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t<span><%= _('Request date').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t<span><%= _('Expiration date').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3 responsive-align\">\n\t\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<% collection.each(function (quote) { %>\n\t\t\t<%  var id = quote.get('internalid')\n\t\t\t,\tquote_number = quote.get('tranid') || ''\n\t\t\t,\tduedate = quote.get('duedate') || ''\n\t\t\t,\tis_overdue = quote.get('isOverdue')\n\t\t\t,\tis_closeoverdue = quote.get('isCloseOverdue')\n\t\t\t,\ttranslated_duedate = _('$(0)').translate(duedate); %>\n\t\t\t\n\t\t\t\t<a href=\"#\" class=\"list-row\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"#\/quotes\/<%= id %>\">\n\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t<div class=\"span3\" quote-id=\"<%= id %>\">\n\t\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text-bigger id-record\"><%= _('Quote #$(0)').translate(quote_number) %><\/span>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span2 date-start\">\n\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Request date:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t<%= _('$(0)').translate(quote.get('trandate')) %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span2 date-end\">\n\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Expiration date: ').translate() %> <\/span>\n\t\t\t\t\t\t\t\t<% if (duedate) { %>\n\t\t\t\t\t\t\t\t\t<% if (is_overdue) { %>\n\t\t\t\t\t\t\t\t\t\t<span class=\"date-overdue\"><%= translated_duedate %><\/span> <i class=\"icon-flag\"><\/i>\n\t\t\t\t\t\t\t\t\t<% } else if (is_closeoverdue) { %>\n\t\t\t\t\t\t\t\t\t\t<span class=\"date-closeoverdue\"><%= translated_duedate %><\/span> <i class=\"icon-flag\"><\/i>\n\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t<%= translated_duedate %>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t<span><%= _('Not specified').translate() %><\/span>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t<span class=\"amount\"><%= _('$(0)').translate(quote.get('total_formatted')) %><\/span>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span3 responsive-align\">\n\t\t\t\t\t\t\t<span class=\"list-row-text status\">\n\t\t\t\t\t\t\t\t<%= _('$(0)').translate(quote.get('entitystatus').name) %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"visible-phone span1 pull-right text-right\">\n\t\t\t\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/a>\n\t\t<% }); %>\n\t<% } else if (!view.isLoading) { %>\n\t\t<p class=\"list-empty quote-empty-list\"><%= _('No quotes were found').translate() %><\/p>\n\t<% } %>\n\t<\/div>\n<\/section>\n","product_list_control_item_tmpl":"<div class=\"control-group\">\n\t<label <%= view.parentView.mode === 'move' ? 'data-action=\"product-list-item\"' : '' %>>\n\t\t<% if(view.parentView.mode !== 'move') { %>\n\t\t<input class=\"product-list-checkbox\" type=\"checkbox\" data-action=\"product-list-item\" <%= view.checked() ? 'checked' : '' %>>\n\t\t<% } %>\n\t\t&nbsp;<span class=\"product-list-name\"><%= view.model.get('type').name === 'predefined' ? _(view.model.get('name')).translate() : view.model.get('name')%><\/span>\n\t<\/label>\n<\/div>\n","wizard_tmpl":"<% if(!view.wizard.getCurrentStep().hideBreadcrumb){ %>\n\t<header class=\"order-wizard-layout-header\">\n\t<%= wizadStepNavigation(view.wizard.stepGroups) %>\n\t<\/header>\n<%}%>\n<div id=\"wizard-content\" class=\"wizard-content\"><\/div>","case_list_tmpl":"<% var collection = view.collection; %>\n<section class=\"case-management\">\n\t<header>\n\t\t<h3>\n\t\t\t<%= view.page_header %>\t\t\t\n\t\t\t<div class=\"pull-right hidden-phone\">\n\t\t\t\t<a class=\"pull-right btn btn-expanded btn-primary\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#\/newcase\">\n\t\t\t\t\t<%= _('Create new case').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/div>\n\t\t<\/h3>\t\t\n\t<\/header>\t\n\t\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\n\t<a class=\"visible-phone btn btn-expanded btn-primary\" href=\"#\" data-touchpoint=\"customercenter\" data-hashtag=\"#\/newcase\">\n\t\t<%= _('Create new case').translate() %>\n\t<\/a>\n\n\t<hr class=\"divider-small\">\n\t\n\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t<div class=\"row-fluid case-table\">\n\t<% if (collection.length) { %>\n\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t<span><%= _('Case No.').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span4\">\n\t\t\t\t\t<span><%= _('Subject').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t<span><%= _('Creation date').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t<span><%= _('Last Message').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span2 responsive-align\">\n\t\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<% collection.each(function (the_case) { %>\n\t\t\t<% var id = the_case.get('internalid')\n\t\t\t,\tcase_number = the_case.get('caseNumber') %>\n\n\t\t\t<a href=\"#\" class=\"list-row\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"#\/cases\/<%= id %>\" data-case-number=\"<%= case_number %>\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t<span class=\"list-row-text-bigger id-record case-number\"><%= _('Case #$(0)').translate(case_number) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span4\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Subject:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"case-subject\"><%= _('$(0)').translate(the_case.get('title')) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Creation Date:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"case-creation-date\"><%= _('$(0)').translate(the_case.get('createdDate').split(' ')[0]) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Last Message:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"case-last-message-date\"><%= _('$(0)').translate(the_case.get('lastMessageDate').split(' ')[0]) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2 responsive-align\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<span class=\"case-status status\"><%= _('$(0)').translate(the_case.get('status').name) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"visible-phone span1 pull-right text-right\">\n\t\t\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t\t\t<\/div>\t\t\t\t\t\n\t\t\t\t<\/div>\n\t\t\t<\/a>\n\t\t<% }); %>\n\t<% } else if (!view.isLoading) { %>\n\t\t<p class=\"list-empty\"><%= _('No cases were found').translate() %><\/p>\n\t<% } %>\n\t<\/div>\n<\/section>\n","product_list_edit_item_tmpl":"<%\n\tvar item = view.model;\t\n\n\tvar product = item.get('item')\n\t,\tquantity = item.get('quantity')\n\t,\tpriority = item.get('priority')\n\t,\tdescription = item.get('description')\n\t,\titem_details = item.get('itemDetails')\n\t,\tthumbnail = item_details.get('_thumbnail')\n\t,\tprice = item_details.getPrice()\n\t,\trating = item_details.get('_rating');\n%>\n<div class=\"row-fluid modal-body\">\n\t<div class=\"span10 info-box\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span4 item-image\" data-type=\"product-list-item\">\n\t\t\t\t<img src=\"<%= view.application.resizeImage(thumbnail.url, 'thumbnail') %>\" alt=\"<%=thumbnail.altimagetext %>\">\n\t\t\t<\/div>\n\t\t\t<div class=\"span8 item-details\" data-type=\"item-details\">\n\t\t\t\t<h5 class=\"item-details-name\">\n\t\t\t\t\t<a href=\"#\" data-touchpoint=\"home\" data-hashtag=\"product\/<%= product.internalid %>\"> <%= product.displayname %><\/a>\n\t\t\t\t<\/h5>\n\n\t\t\t\t<div class=\"item-details-date-added\">\n\t\t\t\t\t<span><%=_('Added on').translate() %>: <%= item.get('created') %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"item-rating\" itemprop=\"aggregateRating\" itemscope itemtype=\"http:\/\/schema.org\/AggregateRating\">\n\t\t\t\t\t<%= SC.macros.starRating({\n\t\t\t\t\t\tmax: view.options.application.getConfig('productReviews.maxRate')\n\t\t\t\t\t,\tvalue: rating\n\t\t\t\t\t,\tclassName: 'star pull-left'\n\t\t\t\t\t,\tfillRounded: true\n\t\t\t\t\t}) %>\n\t\t\t\t\t<span class=\"review-total\">\n\t\t\t\t\t\t<%= _('($(0))').translate(\n\t\t\t\t\t\t\t'<span itemprop=\"reviewCount\">' + item_details.get('_ratingsCount') + '<\/span>'\n\t\t\t\t\t\t) %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\t\t\t\t\n\t\t\t\t<br\/> \n\t\t\t\t\n\t\t\t\t<p class=\"item-details-price\">\n\t\t\t\t\t<%= SC.macros.showItemPrice(item_details.getPrice(), item_details.getStockInfo().isInStock) %>\n\t\t\t\t<\/p>\n\n\t\t\t\t<div class=\"item-details-options\">\t\t\t\t\t\t\n\t\t\t\t\t<div class=\"options-container\">\n\t\t\t\t\t\t<%= item_details && item_details.renderAllOptionSelector() %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"item-details-quantity control-group\">\n\t\t\t\t\t\t<label for=\"quantity\"><%= _('Desired Quantity').translate() %><\/label>\n\t\t\t\t\t\t<input type=\"number\" name=\"quantity\" id=\"quantity\" class=\"input-mini quantity\" placeholder=\"<%=_('Desired Quantity').translate() %>\" value=\"<%= quantity %>\">\t\t\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"item-details-priority control-group\">\t\t\t\t\t\t\t\n\t\t\t\t\t\t<label for=\"priority\"><%= _('Priority').translate() %><\/label>\n\t\t\t\t\t\t<select name=\"priority\" id=\"priority\" class=\"input-medium\">\n\t\t\t\t\t\t\t<option value=\"1\" <%= priority.id === '1' ? 'selected' : '' %>><%= _('High').translate() %><\/option>\n\t\t\t\t\t\t\t<option value=\"2\" <%= priority.id === '2' ? 'selected' : '' %>><%= _('Medium').translate() %><\/option>\n\t\t\t\t\t\t\t<option value=\"3\" <%= priority.id === '3' ? 'selected' : '' %>><%= _('Low').translate() %><\/option>\n\t\t\t\t\t\t<\/select>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"item-details-notes\">\n\t\t\t\t\t\t<label for=\"description\"><%= _('Notes for this item (optional)').translate() %>: <\/label>\n\t\t\t\t\t\t<textarea name=\"description\" id=\"description\" placeholder=\"<%= _('Add a note or description for your item').translate() %>\"><%- description %><\/textarea>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n<div class=\"row-fluid\">\n\t<div class=\"modal-footer\">\n\t\t<button href=\"#\" class=\"btn btn-primary pull-right\" data-action=\"edit\" <%= !item.isSelectionCompleteForEdit() ? 'disabled' : '' %> ><%= _('Save').translate() %><\/button>\n\t\t<button href=\"#\" class=\"btn\" data-dismiss=\"modal\" data-action=\"cancel\" aria-hidden=\"true\"><%= _('Cancel').translate() %><\/button>\n\t<\/div>\n<\/div>","quote_details_tmpl":"<%\nvar quote = view.model\n,\tentitystatus = quote.get('entitystatus')\n\n,\tsummary = quote.get('summary')\n,\ttotal_formatted = summary.total_formatted\n\n,   items = quote.get('lineItems')\n,   items_extradata = quote.get('itemsExtradata')\n\n,   billaddress = quote.get('billaddress')\n\n,   shipping = quote.get('shipping')\n\n,   message = quote.get('message')\n,   collapse_elements = view.application.getConfig('collapseElements')\n\n,\tduedate = quote.get('duedate') || ''\n,\tis_overdue = quote.get('isOverdue')\n,\tis_closeoverdue = quote.get('isCloseOverdue')\n,\ttranslated_duedate_label = _('Expiration date: ').translate()\n,\ttranslated_duedate = _('<span class=\"date-end\">$(0)<\/span>').translate(duedate);\n%>\n<section class=\"quote-details\">\n\t<div class=\"content quote-details-view\">\n\t\t<header>\n\t\t\t<h3>\n\t\t\t\t<%= view.page_header %>\n\t\t\t\t<div class=\"pull-right strong hidden-phone\">\n\t\t\t\t\t<span class=\"amount\"><%= total_formatted %><\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/h3>\n\t\t\t<a href=\"\/quotes\" class=\"back-btn\">\n\t\t\t\t<%= _('&lt; Back to Quotes').translate() %>\n\t\t\t<\/a>\n\t\t<\/header>\n\t\t\n\t\t<hr class=\"divider-small\">\n\n\t\t<!--GENERATE HEADER -->\n\t\t<% var url = _.getDownloadPdfUrl({asset:'quote-details', 'id':quote.get('internalid')}); %>\n\t\t<div class=\"header-information margin-bottom-10\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span12\">\n\t\t\t\t\t<% if (quote.get('salesrep') && 0 < quote.get('salesrep').length) { %>\n\t\t\t\t\t<p class=\"info\">\n\t\t\t\t\t\t<%= _('Sales rep: <span class=\"sales-rep\">$(0)<\/span>').translate(quote.get('salesrep')) %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<p class=\"info\">\n\t\t\t\t\t\t<%= _('Request date: <span class=\"date-start\">$(0)<\/span>').translate(quote.get('trandate')) %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<p class=\"pull-right info hidden-phone\">\n\t\t\t\t\t\t<%= _('Status: <span class=\"quote-status status\">$(0)<\/span>').translate(entitystatus) %>\n\t\t\t\t\t<\/p>    \n\t\t\t\t\t<p class=\"info\">\n\t\t\t\t\t\t<%= translated_duedate_label %>\n\t\t\t\t\t\t<% if (duedate) { %>\n\t\t\t\t\t\t\t<% if (is_overdue) { %>\n\t\t\t\t\t\t\t\t<span class=\"date-overdue\"><%= translated_duedate %><\/span> <i class=\"icon-flag\"><\/i>\n\t\t\t\t\t\t\t<% } else if (is_closeoverdue) { %>\n\t\t\t\t\t\t\t\t<span class=\"date-closeoverdue\"><%= translated_duedate %><\/span> <i class=\"icon-flag\"><\/i>\n\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t<%= translated_duedate %>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<span class=\"date-end\"><%= _('Not specified').translate() %><\/span>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<div class=\"row-fluid visible-phone\">\n\t\t\t\t<div class=\"span12\">\n\t\t\t\t\t<p class=\"inf\">\n\t\t\t\t\t\t<%= _('Status: <span class=\"quote-status status\">$(0)<\/span>').translate(entitystatus) %>\n\t\t\t\t\t\t<span class=\"pull-right strong amount\"><%= total_formatted %><\/span>\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span8\">\n\t\t\t\t<!-- ITEMS --> \n\t\t\t\t<div class=\"row-fluid control-group item-container\" data-type=\"accordion\">\n\t\t\t\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t<%= _('<span class=\"items-drop-down\">Items ($(0))<\/span>').translate(items.length) %>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus  <%= collapse_elements ? 'items-maximize' : 'icon-minus items-minimize' %>\"><\/i><\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t\t\t\t<% if (items && items.length) { %>\n\t\t\t\t\t\t<div class=\"row-fluid nav-tabs nav-tabs-heading hide-phone\">\n\t\t\t\t\t\t\t<div class=\"span4 offset1 popover-content popover-heading\"><%= _('Item').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span1 popover-content popover-heading\"><%= _('Qty').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span3 popover-content popover-heading\"><%= _('Unit Price').translate() %><\/div>\n\t\t\t\t\t\t\t<div class=\"span3 popover-content popover-heading responsive-align\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<%  items.each(function (item, index) { %>\n\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\tvar link_attributes = false\n\t\t\t\t\t\t\t\t,   itemKey = item.get('item')\n\t\t\t\t\t\t\t\t,   url = itemKey.get('_isPurchasable') ? itemKey.get('_url') : null;\n\n\t\t\t\t\t\t\t\tif (url && SC.ENVIRONMENT.siteType === 'ADVANCED')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t\t\t\t\t,   data: {\n\t\t\t\t\t\t\t\t\t\t\ttouchpoint: 'home'\n\t\t\t\t\t\t\t\t\t\t\t,   hashtag: '#' + url\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (url)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tvar name = itemKey.get('_name');\n\t\t\t\t\t\t\t\tif (link_attributes) {\n\t\t\t\t\t\t\t\t\tname = '<a class=\"to-item-link\" ' + link_attributes + '>' + name + '<\/a>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t%>\n\n\t\t\t\t\t\t\t<div class=\"row-fluid nav-tabs\" data-item=\"<%= itemKey.get('internalid') %>\">\n\t\t\t\t\t\t\t\t<div class=\"span1 hide-phone item-image\">\n\t\t\t\t\t\t\t\t\t<img src=\"<%= view.options.application.resizeImage(itemKey.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= itemKey.get('_thumbnail').altimagetext %>\">\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"span4 popover-content\">\n\t\t\t\t\t\t\t\t\t<div class=\"item-displayname\">\n\t\t\t\t\t\t\t\t\t\t<%= name %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"text-light item-id\">\n\t\t\t\t\t\t\t\t\t\t<%= _('<span class=\"text-light\">SKU:<\/span> <span class=\"item-sku\">#$(0)<\/span>').translate(itemKey.get('_sku')) %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<%= itemKey.renderAllOptionSelected() %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"span1 popover-content item-quantity\"><%= _('<span class=\"show-phone text-light\">Qty: <\/span><span class=\"item-quantity\">$(0)<\/span>').translate(item.get('quantity')) %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content item-unitprice\"><%= _('<span class=\"show-phone text-light\">Unit Price: <\/span><span class=\"item-price\">$(0)<\/span>').translate(item.get('rate_formatted')) %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content item-totalprice responsive-align\"><%= _('<span class=\"show-phone text-light\">Amount: <\/span><span class=\"item-amount\">$(0)<\/span>').translate(item.get('amount_formatted')) %><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<% if (items_extradata) { %>\n\t\t\t\t<!-- ITEMSEXTRADATA --> \n\t\t\t\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t\t\t\t<div class=\"well-secundary discount-info-container\" data-action=\"items-expander\">\n\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t<%= _('<span class=\"discount-info-drop-down\">Discount information<\/span>').translate() %>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t\t<div class=\"row-fluid nav-tabs\">\n\t\t\t\t\t\t\t<div class=\"span12 popover-content\">\n\t\t\t\t\t\t\t\t<div class=\"extrainfo\">\n\t\t\t\t\t\t\t\t\t<div class=\"main-container\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"span12\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid coupon-code\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Coupon Code:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= items_extradata.couponcode %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid promotion\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Promotion:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= items_extradata.promocode %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid exchange-rate\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Exchange Rate:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= items_extradata.exchangerate_formatted %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid discount\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Discount:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= items_extradata.discountitem %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid rate\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Rate:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= items_extradata.discountrate %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if (billaddress && 0 < billaddress.length) { %>\n\t\t\t\t<!-- BILLADDRESS --> \n\t\t\t\t<div class=\"row-fluid control-group  billaddress-container\" data-type=\"accordion\">\n\t\t\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t<%= _('<span class=\"billaddress-drop-down\">Address<\/span>').translate() %>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t\t<div class=\"row-fluid nav-tabs\">\n\t\t\t\t\t\t\t<div class=\"span12 popover-content\">\n\t\t\t\t\t\t\t\t<div class=\"billaddress\">\n\t\t\t\t\t\t\t\t\t<div class=\"main-container\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\">\n\t\t\t\t\t\t\t\t\t\t\t<%= _('Bill to:').translate() %>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"span8 billaddress-info\">\n\t\t\t\t\t\t\t\t\t\t\t<address><%= billaddress %><\/address>         \n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if (shipping) { %>\n\t\t\t\t<!-- SHIPPING --> \n\t\t\t\t<div class=\"row-fluid control-group shipping-container\" data-type=\"accordion\">\n\t\t\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t<%= _('<span class=\"shipping-drop-down\">Shipping<\/span>').translate() %>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t\t<div class=\"row-fluid nav-tabs\">\n\t\t\t\t\t\t\t<div class=\"span12 popover-content\">\n\t\t\t\t\t\t\t\t<div class=\"shipping\">\n\t\t\t\t\t\t\t\t\t<div class=\"main-container\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"span12\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid shipcarrier\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Shipping Carrier:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= shipping.shipcarrier %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid shipmethod\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Ship Via:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= shipping.shipmethod %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid shippingcost\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Shipping Cost:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= shipping.shippingcost_formatted %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid shippingtaxcode\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Shipping Tax Code:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= shipping.shippingtaxcode %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"row-fluid shippingtax1rate\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span4 text-light\"><%= _('Tax Rate:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"span8\"><%= shipping.shippingtax1rate_formatted %><\/div>\n\t\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if (message && 0 < message.length) { %>\n\t\t\t\t<!-- MESSAGE --> \n\t\t\t\t<div class=\"row-fluid control-group message-container\" data-type=\"accordion\">\n\t\t\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t<%= _('<span class=\"message-drop-down\">Message<\/span>').translate() %>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t\t<div class=\"row-fluid nav-tabs\">\n\t\t\t\t\t\t\t<div class=\"span6 popover-content\">\n\t\t\t\t\t\t\t\t<div class=\"main-container\">\n\t\t\t\t\t\t\t\t\t<div class=\"span12\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"message-content\"><%= message %><\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\n\t\t\t<div class=\"span4\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"list-header summary-container\">\n\t\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group strong quote-details-summary-header\">\n\t\t\t\t\t\t\t<%= _('SUMMARY').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"row-fluid control-group summary-subtotal-container\">\n\t\t\t\t\t\t\t<div class=\"span8 summary-subtotal-label \">\n\t\t\t\t\t\t\t\t<%= _('Subtotal').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span4 text-right summary-subtotal\">\n\t\t\t\t\t\t\t\t<%= summary.subtotal_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"row-fluid control-group summary-discount-container\">\n\t\t\t\t\t\t\t<div class=\"span8 summary-discount-label\">\n\t\t\t\t\t\t\t\t<%= _('Discount').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span4 text-right summary-discount\">\n\t\t\t\t\t\t\t\t<%= summary.discounttotal_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"row-fluid control-group summary-tax-total-container\">\n\t\t\t\t\t\t\t<div class=\"span8 summary-tax-total-label\">\n\t\t\t\t\t\t\t\t<%= _('Tax Total').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span4 text-right summary-tax-total\">\n\t\t\t\t\t\t\t\t<%= summary.taxtotal_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group summary-shipping-cost-container\">\n\t\t\t\t\t\t\t<div class=\"span8 summary-shipping-cost-label\">\n\t\t\t\t\t\t\t\t<%= _('Shipping Cost').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span4 text-right summary-shipping-cost\">\n\t\t\t\t\t\t\t\t<%= summary.shippingcost_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"row-fluid control-group strong total summary-total-container\">\n\t\t\t\t\t\t\t<div class=\"span8 summary-total-label\">\n\t\t\t\t\t\t\t\t<%= _('Total').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span4 text-right last summary-total\">\n\t\t\t\t\t\t\t\t<%= total_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\t\t\t\t\t\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"margin-top-20\">\n\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t<a href=\"<%= url %>\" target=\"_blank\" class=\"btn btn-expanded btn-block btn-large download-pdf-btn\"><%= _('Download as PDF').translate() %><\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\t\t\t\t\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/section>","paid_invoices_list_tmpl":"<% var invoices = view.collection; %>\n<section>\n\t<header>\n\t\t<h3><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\n\t<\/header>\n\n\t<div class=\"header-information\">\n\t\t<div class=\"header-information-element\">\n\t\t\t<a href=\"\/invoices\" class=\"InvoiceOpen\"><%= _('Open').translate() %><\/a>\n\t\t\t<span>|<\/span>\n\t\t\t<span><%= _('Paid in Full').translate() %><\/span>\n\t\t<\/div>\n\t<\/div>\n\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t<div class=\"row-fluid\">\n\t\t<% if (invoices.length) { %>\n\t\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span><%= _('Invoice No.').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<span><%= _('Date').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2\">\n\t\t\t\t\t\t<span><%= _('Close date').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2 responsive-align\">\n\t\t\t\t\t\t<span><%= _('Currency').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<% _.each(invoices.models, function (invoice, index) { %>\n\t\t\t\t<%= invoiceListLine(invoice, {navigateDetails: true, referer: \"paidinvoices\"}) %>\n\t\t\t<% }) %>\n\t\t<% } else { %>\n\t\t\t<p class=\"list-empty\"><%= _('You don\\'t have any Invoices Paid In Full at the moment,<\/br> see <a href=\"\/invoices\" class=\"InvoiceOpen\" >Open Invoices<\/a>').translate() %><\/p>\n\t\t<% } %>\n\t<\/div>\n<\/section>","return_authorization_list_tmpl":"<% var collection = view.collection; %>\n<section class=\"returnAuthorizations\">\n\t<header>\n\t\t<h3><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Account').translate() %>\n\t\t<\/a>\n\t\t<hr class=\"divider-small\">\t\t\n\t<\/header>\n\t\n\t<% if (view.message) { %>\n\t<div data-type=\"alert-placeholder\">\n\t\t<%= SC.macros.message(view.message, 'success', true) %>\n\t<\/div>\n\t<% } %>\n\n\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t<div class=\"row-fluid returns-table\">\n\t<% if (collection.length) { %>\n\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<span><%= _('Request No.').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<span><%= _('Request date').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span3 responsive-align\">\n\t\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<% collection.each(function (return_authorization) { %>\n\t\t\t<% \tvar id = return_authorization.get('internalid')\n\t\t\t\t,\treturn_authorization_number = return_authorization.get('tranid');\n\t\t\t%>\n\n\t\t\t<a href=\"#\" class=\"list-row\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"#returns\/<%= id %>\" class=\"payment-table-row\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t<span class=\"list-row-text-bigger id-record return-number\"><%= _('Return request #$(0)').translate(return_authorization_number) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 date-start\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Request date:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"return-date\"><%= _('$(0)').translate(return_authorization.get('date')) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t\t\t\t<span class=\"amount return-total\"><%= _('$(0)').translate(return_authorization.get('summary').total_formatted) %><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 responsive-align\">\n\t\t\t\t\t\t<span class=\"list-row-text text-right status return-state\">\n\t\t\t\t\t\t\t<%= _('$(0)').translate(return_authorization.get('status')) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"visible-phone span1 pull-right text-right\">\n\t\t\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/a>\n\t\t<% }); %>\n\t<% } else if (!view.isLoading) { %>\n\t\t<p class=\"list-empty\"><%= _('No requests were found').translate() %><\/p>\n\t<% } %>\n\t<\/div>\n<\/section>\n","list_header_tmpl":"<% var collection = view.collection; %>\n<!-- Todo: Each component should be a macro -->\n<div class=\"list-header text-right clearfix <%= view.classes || '' %>\">\n\t<% if (view.displays) { %>\n\t\t<div class=\"item-listing-display pull-left\">\n\t\t\t<span class=\"btn-group\">\n\t\t\t\t<% _(view.displays).each(function (option) { %>\n\t\t\t\t<a href=\"<%- _(view.displayer(option.id)).fixUrl() %>\"  class=\"btn <%= view.selectedDisplay.id === option.id ? 'active' : '' %>\"  title=\"<%= option.name %>\">\n\t\t\t\t\t<i class=\"<%= option.icon %>\"><\/i>\n\t\t\t\t<\/a>\n\t\t\t\t<% }); %>\n\t\t\t<\/span>\n\t\t<\/div>\n\t<% } %>\n\n\t<% if (view.rangeFilter) { %>\n\t\t<%\n\t\t\tvar selected_range = view.selectedRange\n\t\t\t,\tfilter_range_options = view.rangeFilterOptions\n\t\t\t,\tfrom_min = filter_range_options.fromMin ? 'min=\"' + filter_range_options.fromMin + '\"' : ''\n\t\t\t,\tfrom_max = filter_range_options.fromMax ? 'max=\"' + filter_range_options.fromMax + '\"' : ''\n\t\t\t,\tto_min = filter_range_options.toMin ? 'min=\"' + filter_range_options.toMin + '\"' : ''\n\t\t\t,\tto_max = filter_range_options.toMax ? 'max=\"' + filter_range_options.toMax + '\"' : '';\n\t\t%>\n\t\t<label class=\"pull-left\" for=\"from\"><%= _('From').translate() %>\n\t\t\t<input class=\"input-date\" id=\"from\" pattern=\"(\\d){4}-(\\d){1,2}-(\\d){1,2}\" placeholder=\"<%= _('YYYY-MM-DD').translate() %>\" name=\"from\" type=\"<%= view.rangeFilter %>\" <%= from_min %> <%= from_max %> value=\"<%= selected_range.from %>\" data-action=\"range-filter\">\n\t\t<\/label>\n\t\t<label class=\"pull-left\" for=\"to\"><%= _('to').translate() %>\n\t\t\t<input class=\"input-date\" id=\"to\" pattern=\"(\\d){4}-(\\d){1,2}-(\\d){1,2}\" placeholder=\"<%= _('YYYY-MM-DD').translate() %>\" name=\"to\" type=\"<%= view.rangeFilter %>\" <%= to_min %> <%= to_max %> value=\"<%= selected_range.to %>\" data-action=\"range-filter\">\n\t\t<\/label>\n\t<% } %>\n\n\t<% if (view.filters) { %>\n\t\t<% var selected_filter = _.isFunction(view.selectedFilter.value) ? view.selectedFilter.value.apply(view.view) : view.selectedFilter.value  %>\n\t\t<select name=\"filter\" id=\"\" class=\"list-header-filter\" data-action=\"filter\">\n\t\t<% _.each(view.filters, function (item) { %>\n\t\t\t<% var item_value = _.isFunction(item.value) ? item.value.apply(view.view) : item.value %>\n\t\t\t<option value=\"<%= item_value %>\"  data-permissions=\"<%= item.permission %>\" <%= selected_filter === item_value ? 'selected' : '' %>><%= item.name %><\/option>\n\t\t<% }) %>\n\t\t<\/select>\n\t<% } %>\n\n\t<% if (view.sorts) { %>\n\t\t<% var selected_sort = view.selectedSort.value %>\n\t\t<select name=\"sort\" id=\"\" class=\"list-header-sort\" data-action=\"sort\">\n\t\t<% _.each(view.sorts, function (item) { %>\n\t\t\t<option value=\"<%= item.value %>\" data-permissions==\"<%= item.permission %>\" <%= selected_sort === item.value ? 'selected' : '' %>><%= item.name %><\/option>\n\t\t<% }) %>\n\t\t<\/select>\n\n\t\t<button class=\"btn list-header-sort-btn\" data-action=\"toggle-sort\">\n\t\t\t<i class=\"icon-arrow-up pull-left <%= view.order > 0 ? 'icon-white' : '' %>\"><\/i>\n\t\t\t<i class=\"icon-arrow-down pull-left <%= view.order < 0 ? 'icon-white' : '' %>\"><\/i>\n\t\t<\/button>\n\t<% } %>\n\n\t<% if (view.selectable && collection.length > 1) { %>\n\t\t<%\n\t\t\tvar unselected = collection.filter(function (inv)\n\t\t\t{\n\t\t\t\treturn !inv.get('checked');\n\t\t\t});\n\t\t%>\n\t\t<label class=\"pull-left v-center\" for=\"select-all\">\n\t\t\t<% if (unselected.length) { %>\n\t\t\t\t<input type=\"checkbox\" name=\"select-all\" id=\"select-all\" data-action=\"select-all\"> <%= _('Select All ($(0))').translate(collection.length) %>\n\t\t\t<% } else { %>\n\t\t\t\t<input type=\"checkbox\" name=\"select-all\" id=\"select-all\" data-action=\"unselect-all\" checked> <%= _('Unselect All ($(0))').translate(collection.length) %>\n\t\t\t<% } %>\n\t\t<\/label>\n\t<% } %>\n<\/div>\n\n<% if (collection.totalRecordsFound && collection.recordsPerPage) { %>\n\t<%\n\t\tvar pagination_result = pagination(_.extend({},\n\t\t\tview.options.application.getConfig('defaultPaginationSettings'),\n\t\t\t{\n\t\t\t\tcurrentPage: view.page\n\t\t\t,\ttotalPages: Math.ceil(collection.totalRecordsFound \/ collection.recordsPerPage)\n\t\t\t,\textraClass: 'pagination-small pull-right'\n\t\t\t,\tpager: view.pager\n\t\t}));\n\t%>\n\t<div class=\"clearfix\">\n\t\t<% if (view.options.showCurrentPage) {  %>\n\t\t<%= showingCurrent({\n\t\t\t\tcurrent_page: view.page\n\t\t\t,\titems_per_page: view.collection.recordsPerPage\n\t \t\t,\ttotal_items: view.collection.totalRecordsFound\n\t\t\t,\ttotal_pages: Math.ceil(view.collection.totalRecordsFound \/ view.collection.recordsPerPage)\n\t\t\t,\textraClass: 'pull-left'\n\t\t}) %>\n\t\t<% } %>\n\n\t\t<%= pagination_result %>\n\t<\/div>\n<% } %>\n","product_list_details_tmpl":"<%\n\tvar config = view.application.Configuration.product_lists\n\t,\titems = view.model.get('items')\n\t, \tout_of_stock_items = items.filter(function(product_list_item) { return !product_list_item.get('item').ispurchasable; });\n%>\n<section class=\"product_list_details\">\n\t<header>\n\t\t<h3 class=\"list-header-title\">\n\t\t\t<%= view.model.get('type').name === 'predefined' ? _(view.model.get('name')).translate() : view.model.get('name') %> \n\t\t\t<% if (items.length > 0) { %>\n\t\t\t\t<span class=\"product-list-details-count\">(<%= items.length %> <%= items.length===1 ? _('Item').translate() : _('Items').translate() %>)<\/span>\n\t\t\t<% } %>\n\t\t<\/h3>\n\n\t\t<a href=\"\/\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Account').translate() %>\n\t\t<\/a>\n\n\t\t<hr class=\"divider-small\">\n\t\t\n\t\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\t<\/header>\t\n\n\t<%\n\t\tvar items = view.model.get('items');\n\n\t\tif (items.length > 0)\n\t\t{\t\t\t\n\t\t\tvar displayOption = view.getDisplayOption()\n\t\t\t,\tproductListDisplay = function (row)\n\t\t\t\t{\n\t\t\t\t\treturn SC.macros[displayOption.macro](row, view);\n\t\t\t\t};\n\t%>\n\t\t\t<div data-type=\"product-list-commands\" class=\"product-list-header\">\n\t\t\t\t<div class=\"list-details-actions text-right pull-right\">\n\t\t\t\t\t<% \/* TODO: the following block has repeated markup for mobile and desktop. *\/ %>\n\t\t\t\t\t<div class=\"hidden-phone btn-group pull-left text-left list-actions\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<% if (view.model.get('type').name !== 'predefined') { %>\n\t\t\t\t\t\t\t<a href=\"#\" data-action=\"edit-list\" class=\"btn\"><%= _('Edit list').translate()%><\/a>\n\t\t\t\t\t\t\t<a href=\"#\" class=\"btn dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"caret\"><\/span><\/a>\n\t\t\t\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t\t\t\t<li><a href=\"#\" data-action=\"delete-list\"><%= _('Delete this list').translate()%><\/a><\/li>\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<button class=\"btn <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%> list-details-add-list-to-cart btn-expanded\" data-action=\"add-list-to-cart\" <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%>><%= _('Add list to cart').translate() %><\/button>\t\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"visible-phone\">\n\t\t\t\t\t\t<button class=\"btn <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%> list-details-add-list-to-cart btn-expanded\" data-action=\"add-list-to-cart\" <%= !items.length || out_of_stock_items.length === items.length ? 'disabled' : ''%>><%= _('Add list to cart').translate() %><\/button>\t\n\n\t\t\t\t\t\t<% if (view.model.get('type').name !== 'predefined') { %>\n\t\t\t\t\t\t\t<button class=\"btn btn-link pull-right\" data-action=\"edit-list\"><%= _('Edit list').translate()%><\/button>\n\t\t\t\t\t\t\t<button class=\"btn btn-link pull-right\" data-action=\"delete-list\"><%= _('Delete this list').translate()%><\/button>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\t\n\n\t\t\t<div data-type=\"list-header-placeholder\"><\/div>\n\n\t\t\t<div class=\"product-list-items\" data-type=\"product-list-items\">\n\t\t\t\t<%= displayInRows(items.models, productListDisplay, displayOption.columns) %> \n\t\t\t<\/div>\n\t<% } else { %>\n\t\t<div class=\"product-list-header\">\t\t\n\t\t\t<div class=\"product-list-header-no-items span9\">\n\t\t\t\t<%= _('You don\\'t have items in this list yet. Explore the store or search for an item you would like to add.').translate() %>\t\n\t\t\t<\/div>\n\t\t\t<div class=\"span3\">\n\t\t\t\t<% if (view.model.get('type').name !== 'predefined') { %>\n\t\t\t\t\t<div class=\"btn-group pull-right list-actions\">\n\t\t\t\t\t\t<a href=\"#\" data-action=\"edit-list\" class=\"btn\"><%= _('Edit list').translate()%><\/a>\n\t\t\t\t\t\t<a href=\"#\" class=\"btn dropdown-toggle\" data-toggle=\"dropdown\"><span class=\"caret\"><\/span><\/a>\n\t\t\t\t\t\t<ul class=\"dropdown-menu\">\n\t\t\t\t\t\t\t<li><a href=\"#\" data-action=\"delete-list\"><%= _('Delete this list').translate()%><\/a><\/li>\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div data-type=\"list-header-placeholder\"><\/div>\n\t<% } %>\n<\/section>","balance_tmpl":"<%\n\tvar application = view.application\n\t,\tuser = application.getUser()\n\t,\tlive_payment = application.getLivePayment()\n\t,\tcompany = user.get('companyname')\n\t,\tpercentage = Math.min(((user.get('balance') * 100) \/ user.get('creditlimit')), 100);\n%>\n<section>\n\t<h3 class=\"billing-heading\">\n\t\t<%=_('Account Balance').translate()%>\n\t<\/h3>\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\t<hr class=\"divider-small\">\n\t<div class=\"billing-account-balance\">\n\t\t<% if (company) { %>\n\t\t\t<p class=\"lead\"><b><%= company %><\/b><\/p>\n\t\t<% } %>\n\t\t<div class=\"progress balance-indicator\">\n\t\t\t<div class=\"bar\" style=\"width: <%= percentage %>%;\">\n\t\t\t\t<div class=\"due-on <%= percentage > 8 ? (percentage < 92 ? 'pull-right' : 'text-right') : '' %>\">\n\t\t\t\t\t<span class=\"light hidden-phone\"><%= _('Outstanding Balance').translate() %><\/span> <br> <span class=\"lead\"><b><%= user.get('balance_formatted') %><\/b><\/span>\n\t\t\t\t\t<div class=\"arrow arrow-v down-arrow\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<p class=\"text-right\">\n\t\t\t<span class=\"light hidden-phone\"><%= _('Available').translate() %><\/span>\n\t\t\t<br class=\"hidden-phone\">\n\t\t\t<b><%= user.get('balance_available_formatted') %><\/b>\n\t\t<\/p>\n\t\t<hr>\n\t\t<div class=\"row-fluid billing-balance-summary\">\n\t\t\t<div class=\"span6\">\n\t\t\t\t<ul class=\"unstyled\">\n\t\t\t\t\t<li><%= _('Credit Limit: <span>$(0)<\/span>').translate(user.get('creditlimit_formatted')) %><\/li>\n\t\t\t\t\t<li><b><%= _('Outstanding Balance: <span>$(0)<\/span>').translate(user.get('balance_formatted')) %><\/b><\/li>\n\t\t\t\t\t<li><%= _('Available: <span>$(0)<\/span>').translate(user.get('balance_available_formatted')) %><\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t\t<div class=\"span6\">\n\t\t\t\t<hr class=\"visible-phone\">\n\t\t\t\t<ul class=\"unstyled\">\n\t\t\t\t\t<li><%= _('Deposits: <span>$(0)<\/span>').translate(live_payment.get('depositsremaining_formatted') || 'N\/A') %><\/li>\n\t\t\t\t\t<li><%= _('Credit Memos: <span>$(0)<\/span>').translate(live_payment.get('creditmemosremaining_formatted') || 'N\/A') %><\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<hr>\n\t\t<div class=\"row-fluid billing-balance-summary-extra\">\n\t\t\t<div class=\"span3\">\n\t\t\t\t<b><%= _('Term: <span>$(0)<\/span>').translate((user.get('paymentterms') && user.get('paymentterms').name) || 'N\/A') %><\/b>\n\t\t\t<\/div>\n\t\t\t<div class=\"span3\">\n\t\t\t\t<b><%= _('Currency: <span>$(0)<\/span>').translate(application.getConfig('siteSettings.shopperCurrency.code')) %><\/b>\n\t\t\t<\/div>\n\t\t\t<div class=\"span4\">\n\t\t\t\t<b><%= _('Credit Limit: <span>$(0)<\/span>').translate(user.get('creditlimit_formatted')) %><\/b>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"form-actions clearfix\">\n\t\t<% if (application.getLivePayment().get('invoices').length) { %>\n\t\t\t<a data-permissions=\"transactions.tranCustPymt.2, transactions.tranCustInvc.1\" href=\"\/make-a-payment\" class=\"btn btn-large btn-primary pull-right balance-actions-margin btn-expanded\"><%= _('Continue to Payment').translate() %><\/a>\n\t\t<% } else { %>\n\t\t\t<button data-permissions=\"transactions.tranCustPymt.2, transactions.tranCustInvc.1\" class=\"btn btn-large btn-primary pull-right balance-actions-margin btn-expanded\" disabled><%= _('No payment due').translate() %><\/button>\n\t\t<% } %>\n\t\t<a href=\"\/printstatement\" data-permissions=\"transactions.tranStatement.2\" class=\"btn btn-large pull-right balance-actions-margin btn-expanded\"><%= _('Print a Statement').translate() %><\/a>\n\t<\/div>\n<\/section>\n","address_tmpl":"<% var model = view.model || new Backbone.Model(); %>\n<% if (!view.inModal) { %>\n\t<h3>\n\t\t<%= model.isNew() ? _('Add a new Address').translate() : _('Update Address').translate() %>\n\t<\/h3>\n\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\n\t<hr class=\"divider-small\">\n\t<% if (!view.collection.length) { %>\n\t\t<p><b><%= _('We have no address on file for this account.').translate() %><\/b><\/p>\n\t\t<p><%= _('For faster checkouts, please enter a shipping address bellow').translate() %><\/p>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n<% } %>\n\n<form action=\"addressbook.ss\" method=\"POST\">\n\t<% if (view.inModal) { %>\n\t\t<div class=\"modal-body\">\n\t<% } %>\n\n\t<%= addressFrom(model, {\n\t\tcountries: view.options.application.getConfig('siteSettings.countries')\n\t,\thideDefaults: view.options.application.getConfig('currentTouchpoint') !== 'customercenter' \/* only show the \"defaults\" functionality in myaccount *\/\n\t}) %>\n\n\t<% if (view.inModal) { %>\n\t\t<\/div>\n\t<% } %>\n\t<div class=\"<%- view.inModal ? 'modal-footer' : 'form-actions' %>\">\n\t\t<button type=\"submit\" class=\"btn btn-primary\">\n\t\t\t<%= model.isNew() ? _('Save Address').translate() : _('Update Address').translate() %>\n\t\t<\/button>\n\n\t\t<% if (view.inModal || view.collection.length) { %>\n\t\t\t<button class=\"btn\" data-dismiss=\"modal\">\n\t\t\t\t<%= _('Cancel').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\n\t\t<% if (!view.inModal) { %>\n\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\">\n\t\t\t\t<%= _('Reset').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\t<\/div>\n<\/form>","email_preferences_tmpl":"<% var subscriptions = view.model.get('campaignsubscriptions') || []; %>\n<section>\n\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t<hr class=\"divider-small\">\n\t<div data-type=\"alert-placeholder\"><\/div>\n\t<form>\n\t\t<fieldset>\n\t\t\t<legend class=\"no-margin-bottom\">\n\t\t\t\t<%= _('Newsletter').translate() %>\n\t\t\t<\/legend>\n\t\t\t<div class=\"control-group\">\n\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t<input type=\"checkbox\" id=\"emailsubscribe\" value=\"T\" data-unchecked-value=\"F\" name=\"emailsubscribe\" <%= view.model.get('emailsubscribe') == 'T' ? 'checked' : '' %>>\n\t\t\t\t\t\t<%= _('Yes, I would like to sign up for your Newsletter.').translate() %>\n\t\t\t\t\t<\/label>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/fieldset>\n\t\t<% if ( view.options.application.getConfig('siteSettings.campaignsubscriptions') && subscriptions.length ) { %>\n\t\t<hr class=\"divider-small\">\n\t\t<fieldset>\n\t\t\t<legend class=\"no-margin-bottom\">\n\t\t\t\t<%= _('Subscriptions').translate() %>\n\t\t\t<\/legend>\n\t\t\t<% _.each(subscriptions, function (subscription, index) { %>\n\t\t\t\t<% var internalid = subscription.internalid; %>\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t\t<input type=\"checkbox\" id=\"subscription-<%= internalid %>\" class=\"subscription\" value=\"T\" data-unchecked-value=\"F\" name=\"subscription-<%= internalid %>\" <%= view.model.get('emailsubscribe') == 'T' ? '' : 'disabled' %> <%= subscription.subscribed ? 'checked' : '' %>>\n\t\t\t\t\t\t\t<%= _( subscription.name ).translate() %>\n\t\t\t\t\t\t<\/label>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% }) %>\n\t\t<\/fieldset>\n\t\t<% } %>\n\t\t<div class=\"form-actions\">\n\t\t\t<button type=\"submit\" class=\"btn btn-primary\"><%= _('Update').translate() %><\/button>\n\t\t\t<button type=\"reset\"  class=\"btn btn-link hide\" data-action=\"reset\"><%= _('Cancel').translate() %><\/button>\n\t\t<\/div>\n\t<\/form>\n<\/section>\n","home_tmpl":"<% if ( view.customerSupportURL ) { %>\n\t<div class=\"header-links pull-right\">\n\t\t<%= _('Need Help? Contact <a href=\"$(0)\">Customer Service<\/a>').translate( view.customerSupportURL ) %>\n\t<\/div>\n<% } %>\n<h3 class=\"no-margin-top\"><%= _('Welcome $(0)!').translate(view.application.getUser().get('firstname') || \"\") %><\/h3>\n<hr class=\"divider-small\">\n<section>\n\t<%= recentOrdersWidget( view.recentOrders ) %>\n<\/section>\n<section>\n\t<h4><%= _('My Settings').translate() %><\/h4>\n\t<hr>\n\t<% var homeItems = []; \n\t\thomeItems.push(SC.macros.homeProfile(view));\n\t\thomeItems.push(SC.macros.homeShipping(view));\n\t\thomeItems.push(SC.macros.homePayment(view));\n\t%>\n\t<%= displayInRows(homeItems, null, view.application.getConfig('itemsPerRow')) %>\n<\/section>\n<%= homeBanner(view.application.getConfig('homeBanners')) %>","payment_wizard_showinvoices_module_tmpl":"<div class=\"payment-table\">\n\t<h5 class=\"payment-table-header\"><%= _('Invoices').translate() %><\/h5>\n\n\t<div class=\"list-sub-header hidden-phone\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span6 offset1\">\n\t\t\t\t<span><%= _('Number').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span5 text-right\">\n\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<% view.invoices.each(function (invoice) { %>\n\t\t<div class=\"list-row\" data-id=\"<%= invoice.get('internalid') %>\">\n\t\t\t<div class=\"row-fluid payment-table-row-main\">\n\t\t\t\t<div class=\"span6 offset1 underlined\">\n\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t<% if (invoice.get('tranid') || invoice.get('refnum')) { %>\n\t\t\t\t\t\t\t<span class=\"list-row-text-bigger invoice-number\"><%= _('Invoice #$(0)').translate(invoice.get('tranid') || invoice.get('refnum')) %><\/span>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<span class=\"list-row-text-bigger invoice-number\"><%= _('Invoice').translate() %><\/span>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\n\t\t\t\t<div class=\"span5 responsive-align underlined\">\n\t\t\t\t\t<span class=\"list-row-text invoice-amount\">\n\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t\t\t<span class=\"amount\"><%= invoice.get('amount_formatted') %><\/span>\t\t\t\t\t\t\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% }) %>\n\t<div class=\"payment-table-footer-alt\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span8 offset4\">\n\t\t\t\t<p class=\"strong\">\n\t\t\t\t\t<%= _('Invoices Subtotal').translate() %>\n\t\t\t\t\t<span class=\"pull-right\"><%= view.wizard.model.get('confirmation') ? view.wizard.model.get('confirmation').invoices_total_formatted : view.wizard.model.get('invoices_total_formatted') %><\/span>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n","reorder_items_tmpl":"\n<header>\n\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t<hr class=\"divider-small\">\n<\/header>\n\n<div data-type=\"list-header-placeholder\"><\/div>\n\n<% if ( view.collection.totalRecordsFound ) { %>\n\t<%\n\t\tvar details_macro\n\t\t,\textraItemDetailsMacro;\n\t%>\n\t<% _.each(view.collection.models, function (line) { %>\n\t\t\t<%= itemDetailsEditable({\n\t\t\t\tapplication: view.options.application\n\t\t\t,\tline: line\n\t\t\t,\tshowItemLinkeable: true\n\t\t\t,\tisSelectable: false\n\t\t\t,\textraLineClass: 'reorder-item-line-container'\n\t\t\t,\tdetailsMacro: view.getItemDetailsMacro(line)\n\t\t\t,\tactionsMacro: itemActionsAddToCartReOrder\n\t\t\t,\textraItemDetailsMacro: view.getItemExtraDetailsMacro(line)\n\t\t\t}) %>\n\t<% }) %>\n\n<% } else if (view.isLoading) { %>\n\t<p><%= _('Loading...').translate() %><\/p>\n<% } else { %>\n\t<p class=\"list-empty\"><%= _('You have not bought anything yet.').translate() %><\/p>\n\t<p><a class=\"btn\" href=\"#\" data-touchpoint=\"home\"><%= _('Shop Now').translate() %><\/a><\/p>\n<% } %>\n","profile_information_tmpl":"<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n<hr class=\"divider-small\">\n<% view.model = view.model || { get: function () { return ''; } } %>\n<div data-type=\"alert-placeholder\"><\/div>\n<section class=\"row-fluid\">\n\t<div class=\"span12\">\n\t\t<form class=\"contact_info\">\n\t\t\t<fieldset>\n\t\t\t\t<% if ( view.model.get('type') !== 'COMPANY' ) { %>\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label class=\"control-label\" for=\"firstname\"><%= _('First Name').translate() %><\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"input-large\" id=\"firstname\" name=\"firstname\" value=\"<%- view.model.get('firstname') || '' %>\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label class=\"control-label\" for=\"lastname\"><%= _('Last Name').translate() %><\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"input-large\" id=\"lastname\" name=\"lastname\" value=\"<%- view.model.get('lastname') || '' %>\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if ( view.model.get('type') === 'COMPANY' || view.options.application.getConfig('siteSettings.registration.showcompanyfield') === 'T' ) { %>\n\t\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t\t<label class=\"control-label\" for=\"companyname\"><%= _('Company Name').translate() %><\/label>\n\t\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t\t<input type=\"text\" class=\"input-large\" id=\"companyname\" name=\"companyname\" value=\"<%- view.model.get('companyname') || '' %>\">\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"phone\">\n\t\t\t\t\t\t<% var phone_format = view.options.application.getConfig('siteSettings.phoneformat') %>\n\t\t\t\t\t\t<% if ( phone_format ) { %>\n\t\t\t\t\t\t\t<%= _('Phone Number (ex\/$(0))').translate( phone_format ) %>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<%= _('Phone Number').translate() %>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<input type=\"tel\" class=\"input-large\" id=\"phone\" name=\"phone\" data-type=\"phone\" value=\"<%- view.model.get('phone') || '' %>\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"email\"><%= _('Email').translate() %><\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<p class=\"input-large no-copy-paste\" id=\"email\" name=\"email\" ><%- view.model.get('email') || '' %><\/p>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t<\/fieldset>\n\t\t\t<div class=\"form-actions\">\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\"><%= _('Update').translate() %><\/button>\n\t\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\"><%= _('Cancel').translate() %><\/button>\n\t\t\t<\/div>\n\t\t<\/form>\n\t<\/div>\n<\/section>\n","page_not_found_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"page-not-found-content\" class=\"view-body page-not-found-content\">\n\t<%= _('Sorry, we could not load the content you requested.').translate() %>\n<\/div>","receipt_history_tmpl":"<section class=\"receipts-list\">\n\t<header>\n\t\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\t\t\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\t\n\t<\/header>\n\n\t<div class=\"row-fluid\">\n\t\t<% if ( view.collection.models.length ) { %>\n\t\t\t<div class=\"list-sub-header hidden-phone\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span><%= _('Receipt No.').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span><%= _('Date').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 responsive-align\">\n\t\t\t\t\t\t<span><%= _('Status').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\n\t\t\t<% _.each(view.collection.models, function (receipt, index) { %>\n\t\t\t\t<%  var id = receipt.get('internalid')\n\t\t\t\t,\torder_number = receipt.get('order_number')\n\t\t\t\t,\tstatus = receipt.get('status'); %>\n\t\t\t\t\n\t\t\t\t\t<a href=\"#\" class=\"list-row\" data-touchpoint=\"customercenter\" data-id=\"<%= id %>\" data-hashtag=\"\/receiptshistory\/view\/<%= id %>\">\n\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t<div class=\"span3\" quote-id=\"<%= id %>\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text id-record\">\n\t\t\t\t\t\t\t\t\t<span class=\"list-row-text-bigger id-record\"><%= _('Receipt #$(0)').translate(order_number) %><\/span>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3 date-start\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Receipt date:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t\t<%= _('$(0)').translate(receipt.get('date')) %>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text\">\n\t\t\t\t\t\t\t\t\t<span class=\"visible-phone list-row-text-info\"><%= _('Amount:').translate() %> <\/span>\n\t\t\t\t\t\t\t\t\t<span class=\"amount\"><%= _('$(0)').translate(receipt.get('summary').total_formatted) %><\/span>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"span3 responsive-align\">\n\t\t\t\t\t\t\t\t<span class=\"list-row-text status\">\n\t\t\t\t\t\t\t\t\t<%= _('$(0)').translate(_.isObject(status) ? status.name : status) %>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div class=\"visible-phone span1 pull-right text-right\">\n\t\t\t\t\t\t\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/a>\n\t\t\t<% }); %>\n\t\t<% } else { %>\n\t\t\t<p class=\"list-empty\"><%= _('No receipts were found').translate() %><\/p>\n\t\t<% } %>\t\t\n\t<\/div>\n<\/section>\n","order_details_tmpl":"<%\n\tvar model = view.model\n\t,\tlines = model.get('lines')\n\n\t,\tany_line_purchasable = lines.any(function (line)\n\t\t{\n\t\t\treturn line.get('item').get('_isPurchasable');\n\t\t})\n\n\t,\tall_gift_certificates = lines.all(function (line)\n\t\t{\n\t\t\treturn line.get('item').get('itemtype') === 'GiftCert';\n\t\t})\n\n\t,\turl = _.getDownloadPdfUrl({\n\t\t\tasset: 'order-details'\n\t\t,\tid: model.get('internalid')\n\t\t})\n\n\t,\telements = [\n\t\t\t{addClass: 'order-date', value: _('Date: $(0)').translate(model.get('date'))}\n\t\t,\t{addClass: 'hidden-phone', value: '<a target=\"_blank\" class=\"download-pdf\" href=\"' + url + '\">' + _('Download as PDF').translate() + '<\/a>'}\n\t\t]\n\n\t,\treturn_authorizations = model.get('returnauthorizations');\n\n\tif (SC.ENVIRONMENT.permissions.transactions.tranRtnAuth >= 2 && view.isReturnable())\n\t{\n\t\telements.push({value: '<a class=\"request-return\" href=\"\/returns\/new\/order\/' + model.get('internalid') + '\">' + _('Request return').translate() + '<\/a>'});\n\t}\n\n\tif (any_line_purchasable && !all_gift_certificates)\n\t{\n\t\telements.push({value: '<a href=\"#\" class=\"re-order-all-items\">' + _('Reorder All Items').translate() + '<\/a>'});\n\t}\n\n\telements.push({value: _('Status: <span class=\"payment-status order-status\">$(0)<\/span>').translate(model.get('status'))});\n%>\n<section>\n<h3>\n\t<%= _('Order <b>#<span class=\"order-number\">$(0)<\/span><\/b>').translate(model.get('order_number')) %>\n\t<span class=\"pull-right hidden-phone strong total-formatted\">\n\t\t<%= model.get('summary').total_formatted %>\n\t<\/span>\n<\/h3>\n<div data-type=\"alert-placeholder\"><\/div>\n<a href=\"\/ordershistory\" class=\"back-btn\"><%= _('&lt; Back to Order History').translate() %><\/a>\n<hr class=\"divider-small\">\n\n<%= displayHeaderInformation(elements) %>\n\n<!-- Order Header Ends -->\n<% if (return_authorizations && return_authorizations.length) { %>\n\t<div class=\"returnauthorizations-warning alert alert-warning\"><%=_('You have returns associated with this order. <a href=\"#\">View Details<\/a>').translate()%><\/div>\n<% } %>\n\n<!-- Shipping Groups -->\n<% _.each(view.shipgroups, function (ship_group, index) { %>\n\t<!-- Fullfillment -->\n\t<table class=\"table order-details order-details-body\">\n\t\t<col class=\"order-details-col1\">\n\t\t<col class=\"order-details-col2\">\n\t\t<col class=\"order-details-col3\">\n\t\t<tr class=\"alternate order-details-shipping-info\">\n\t\t\t<td>\n\t\t\t\t<p><b><%= _('Ship To').translate() %><\/b><\/p>\n\t\t\t\t<% var shipaddress = model.get('addresses').get(ship_group.shipaddress); %>\n\t\t\t\t<p class=\"shipto-address\"><%= ( ( shipaddress && shipaddress.getFormattedAddress() ) || _('N\/A').translate()).replace(\/\\n\/g, '<br>') %><\/p>\n\t\t\t<\/td>\n\t\t\t<td colspan=\"2\">\n\t\t\t\t<p><b><%= _('Delivery Method').translate() %><\/b><\/p>\n\t\t\t\t<p class=\"delivery-method\">\n\t\t\t\t<% if (ship_group.tracking_numbers_summary.length) { %>\n\t\t\t\t\t<% _.each(ship_group.tracking_numbers_summary, function (tracking_number, index) { %>\n\t\t\t\t\t\t<%= _('$(0) - Shipment #$(1) $(2)').translate(tracking_number.method || 'N\/A', tracking_number.shipment_index, tracking_number.trackingnumber) %> <br>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<% } else if (ship_group.shipaddress && ship_group.shipmethod && model.get('shipmethods').get(ship_group.shipmethod)) { %>\n\t\t\t\t\t<%= model.get('shipmethods').get(ship_group.shipmethod).getFormattedShipmethod() %>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<%= _('No Delivery Method Selected').translate() %>\n\t\t\t\t<% } %>\n\t\t\t\t<\/p>\n\t\t\t<\/td>\n\t\t<\/tr>\n\t\t<% var shipment_index = 0; %>\n\t\t<% _.each(ship_group.fulfillments, function (fulfillment, index) { %>\n\t\t<% shipment_index++; %>\n\t\t\t<!-- Fullfillment Title -->\n\t\t\t<tr class=\"alternate order-details-items-summary\">\n\t\t\t\t<td colspan=\"3\">\n\t\t\t\t\t<b>\n\t\t\t\t\t\t<% if (fulfillment.get('is_pending')) { %>\n\t\t\t\t\t\t\t<%= _('Item Processing').translate() %>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<span class=\"ship-index\">\n\t\t\t\t\t\t\t\t<%= _('Shipment #$(0)').translate(shipment_index) %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<span>:<\/span>\n\t\t\t\t\t\t\t<span class=\"ship-date\">\n\t\t\t\t\t\t\t\t<%= _('Shipped on $(0)').translate(fulfillment.get('date')) %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<% var trackingnumbers = fulfillment.get('trackingnumbers') || [] %>\n\t\t\t\t\t\t\t<% if (trackingnumbers.length) { %>\n\t\t\t\t\t\t\t\t<div class=\"pull-right\">\n\t\t\t\t\t\t\t\t\t<%= _('Tracking Numbers:').translate() %>\n\t\t\t\t\t\t\t\t\t<% _.each(trackingnumbers, function (number, index) { %>\n\t\t\t\t\t\t\t\t\t\t<%= index ? ', ' : '' %>\n\t\t\t\t\t\t\t\t\t\t<a target=\"_blank\" href=\"<%= view.getTrackingServiceUrl(number) %>\"><%= number %><\/a>\n\t\t\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/b>\n\t\t\t\t<\/td>\n\t\t\t<\/tr>\n\t\t\t<!-- Fullfillment Lines -->\n\t\t\t<tr class=\"order-details-items-items\">\n\t\t\t\t<td colspan=\"3\">\n\t\t\t\t\t<table class=\"table order-lines\">\n\t\t\t\t\t\t<col class=\"order-items-col1\">\n\t\t\t\t\t\t<col class=\"order-items-col2\">\n\t\t\t\t\t\t<col class=\"order-items-col3\">\n\t\t\t\t\t\t<col class=\"order-items-col4\">\n\t\t\t\t\t\t<col class=\"order-items-col5\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th class=\"text-light font-normal\" colspan=\"2\"><%= _('Items').translate() %><\/th>\n\t\t\t\t\t\t\t\t<th class=\"text-light font-normal\"><%= _('Qty').translate() %><\/th>\n\t\t\t\t\t\t\t\t<th class=\"text-light font-normal\"><%= _('Price').translate() %><\/th>\n\t\t\t\t\t\t\t\t<th class=\"text-light font-normal right-aligned\"><%= _('Total').translate() %><\/th>\n\t\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t<\/thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<%\n\t\t\t\t\t\t\t\t_.each(fulfillment.get('lines'), function (fulfillment_line, index)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvar line = lines.get(fulfillment_line.line_id);\n\t\t\t\t\t\t\t\t\tvar item_details = line && {\n\t\t\t\t\t\t\t\t\t\t\titem: line.get('item')\n\t\t\t\t\t\t\t\t\t\t,\tid: line.id\n\t\t\t\t\t\t\t\t\t\t,\toptions: line.get('options')\n\t\t\t\t\t\t\t\t\t\t,\tquantity: fulfillment_line.quantity\n\t\t\t\t\t\t\t\t\t\t,\tprice: line.get('rate_formatted')\n\t\t\t\t\t\t\t\t\t\t,\tamount: fulfillment_line.rate || line.get('amount')\n\t\t\t\t\t\t\t\t\t\t,\ttotal: line.get('total')\n\t\t\t\t\t\t\t\t\t\t,\tdiscount: line.get('discount')\n\t\t\t\t\t\t\t\t\t\t,\treorder: line.get('item').get('_isPurchasable')\n\t\t\t\t\t\t\t\t\t\t,\tapplication: view.options.application\n\t\t\t\t\t\t\t\t\t\t,\ttype: line.get('type')\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t,\tshipgroup_subtotal = shipgroup_subtotal + (item_details ? item_details.amount : 0);\n\n\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t<%= item_details && itemDetails(item_details) %>\n\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t<\/tbody>\n\t\t\t\t\t<\/table>\n\t\t\t\t<\/td>\n\t\t\t<\/tr>\n\t\t\t<!-- Fullfillment Lines Ends -->\n\t\t<% }) %>\n\t\t<!-- Fullfillment Ends -->\n\t<\/table>\n<% }) %>\n\n<!-- Payment Information -->\n<table class=\"table order-details order-details-payment\">\n\t<col class=\"order-details-col1\">\n\t<col class=\"order-details-col2\">\n\t<col class=\"order-details-col3\">\n\t<!-- Payment Information Title -->\n\t<tr>\n\t\t<td colspan=\"3\">\n\t\t\t<h3><%= _('Payment Information').translate() %><\/h3>\n\t\t<\/td>\n\t<\/tr>\n\n\t<!-- Payment Information Title Ends -->\n\t<tr class=\"billing-info\">\n\t\t<td>\n\t\t\t<p><b><%= _('Billing To').translate() %><\/b><\/p>\n\t\t\t<% var billaddress = model.get('addresses').get(model.get('billaddress')); %>\n\t\t\t<p><%= ( ( billaddress && billaddress.getFormattedAddress() ) || _('N\/A').translate()).replace(\/\\n\/g, '<br>') %><\/p>\n\t\t<\/td>\n\t\t<td>\n\t\t\t<% var paymentmethod = model.get('paymentmethods') && model.get('paymentmethods').findWhere({primary: true}); %>\n\t\t\t<% var receipts = model.get('receipts'); %>\n\n\t\t\t<% if (paymentmethod && paymentmethod.get('type')) { %>\n\t\t\t\t<p><b><%= _('Payment Method').translate() %><\/b><\/p>\n\t\t\t\t<%= SC.macros.formatPaymentMethod(paymentmethod, view.application.getConfig('creditCardIcons')) %>\n\t\t\t<% } else if (!receipts || receipts && !receipts.length) { %>\n\t\t\t\t<p><b><%= _('Payment Method').translate() %><\/b><\/p>\n\t\t\t\t<%= _('N\/A').translate() %>\n\t\t\t<% } %>\n\n\t\t\t<% if (receipts && receipts.length) { %>\n\t\t\t\t<p><b><%= _('Payment Transactions').translate() %><\/b><\/p>\n\t\t\t\t<% _.each(receipts.models, function (receipt, index) { %>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<% if (receipt.get('recordtype') === 'CustInvc') { %>\n\t\t\t\t\t\t\t<%= _('Invoice: #$(0)').translate(receipt.get('order_number')) %> <br>\n\t\t\t\t\t\t\t<%= receipt.get('date') +' '+ receipt.get('summary').total_formatted %>\n\n\t\t\t\t\t\t\t<a href=\"\/<%= (view.application.getConfig('is_basic') ? 'receiptshistory\/view': 'invoices') + '\/' + receipt.get('internalid') %>\">View<\/a>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<%= _('Receipt: #$(0)').translate(receipt.get('order_number')) %> <br>\n\t\t\t\t\t\t\t<%= receipt.get('date') +' '+ receipt.get('summary').total_formatted %> <a href=\"\/receiptshistory\/view\/<%= receipt.get('internalid') %>\">View<\/a>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/p>\n\t\t\t\t<% }) %>\n\t\t\t<% } %>\n\t\t<\/td>\n\n\t\t<td class=\"billing-info-order-sumary\">\n\t\t\t<p class=\"order-summary-header\"><b><%= _('Order Summary').translate() %><\/b><\/p>\n\t\t\t<table class=\"table table-condensed order-sumary\">\n\t\t\t\t<col class=\"order-sumary-names\">\n\t\t\t\t<col class=\"order-sumary-values\">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"order-sumary-name order-subtotal-name\"><%= _('Order Subtotal').translate() %><\/td>\n\t\t\t\t\t\t\t<td class=\"order-sumary-value order-subtotal-value\"><%= model.get('summary').subtotal_formatted %><\/td>\n\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t<%\n\t\t\t\t\t\tvar discounttotal = parseFloat(model.get('summary').discounttotal);\n\t\t\t\t\t\tif (discounttotal || model.get('promocode')) { %>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"order-sumary-name\"><%= _('Order Discount').translate() %>\n\t\t\t\t\t\t\t\t<% if (model.get('promocode')) { %>\n\t\t\t\t\t\t\t\t\t<p><span class=\"promocode-name\"><%= _('Promo Code').translate() %><\/span>:&nbsp;<span class=\"promocode-value\"><%= model.get('promocode').code %><\/span><\/p>\n\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<\/td>\n\t\t\t\t\t\t\t<td class=\"order-sumary-value\"><span class=\"discounttotal\"><%= discounttotal ? model.get('summary').discounttotal_formatted : '&nbsp;' %><\/span><\/td>\n\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% if (parseFloat(model.get('summary').shippingcost)) { %>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"order-sumary-name shipping-total-name\"><%= _('Shipping Total').translate() %><\/td>\n\t\t\t\t\t\t\t<td class=\"order-sumary-value shipping-total-value\"><%= model.get('summary').shippingcost_formatted %><\/td>\n\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% if (parseFloat(model.get('summary').handlingcost)) { %>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"order-sumary-name handling-total-name\"><%= _('Handling Total').translate() %><\/td>\n\t\t\t\t\t\t\t<td class=\"order-sumary-value handling-total-value\"><%= model.get('summary').handlingcost_formatted %><\/td>\n\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<% if (parseFloat(model.get('summary').giftcertapplied)) { %>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"order-sumary-name gift-cert-total-name\"><%= _('Gift Cert Total').translate() %><\/td>\n\t\t\t\t\t\t\t<td class=\"order-sumary-value gift-cert-total-value\"><%= model.get('summary').giftcertapplied_formatted %><\/td>\n\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td class=\"order-sumary-name tax-total-name\"><%= _('Tax Total').translate() %><\/td>\n\t\t\t\t\t\t\t<td class=\"order-sumary-value tax-total-value\"><%= model.get('summary').taxtotal_formatted %><\/td>\n\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th class=\"order-sumary-name total-name\"><%= _('Order Total').translate() %><\/th>\n\t\t\t\t\t\t\t<th class=\"order-sumary-value total-value\"><%= model.get('summary').total_formatted %><\/th>\n\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t<\/tbody>\n\t\t\t<\/table>\n\t\t<\/td>\n\t<\/tr>\n<\/table>\n<!-- Shipping Groups Ends -->\n\n<!-- Returns Authorizations -->\n\n<% if (return_authorizations.length) { %>\n\t<h3 id=\"returnauthorizations-details-header\">\n\t\t<i class=\"icon-chevron-right\"><\/i>\n\t\t<%= _('Returns').translate() %>\n\t<\/h3>\n\t<table class=\"table\" id=\"returnauthorizations-details\">\n\t\t<col class=\"order-details-col1\">\n\t\t<col class=\"order-details-col2\">\n\t\t<col class=\"order-details-col3\">\n\t\t<!-- Payment Information Title -->\n\t\t<tbody id=\"returnauthorizations-details-body\">\n\t\t\t<% return_authorizations.each(function (returnauthorization, index) { %>\n\t\t\t<!-- Authorization Header -->\n\t\t\t<tr class=\"alternate returnauthorizations-summary\">\n\t\t\t\t<td<% if (!returnauthorization.get('order_number')){ %> colspan=\"3\"<% } %>>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<b><%= _('Status').translate() %><\/b>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<%= returnauthorization.get('status') %>\n\t\t\t\t<\/td>\n\n\t\t\t\t<% if (returnauthorization.get('order_number')) { %>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b><%= _('Authorization Number').translate() %><\/b>\n\t\t\t\t\t\t<\/p>\n\t\t\t\t\t\t#<%= returnauthorization.get('order_number') %>\n\t\t\t\t\t<\/td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<b><%= _('Return To').translate() %><\/b>\n\t\t\t\t\t\t<\/p>\n\t\t\t\t\t\t<% if (returnauthorization.get('return_address')) { %>\n\t\t\t\t\t\t\t<%= returnauthorization.get('return_address') %>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<%= _('N\/A').translate() %>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<\/td>\n\t\t\t\t<% } %>\n\t\t\t<\/tr>\n\t\t\t<!-- Authorization Header Ends -->\n\t\t\t<!-- Authorization Lines -->\n\t\t\t<tr>\n\t\t\t\t<td colspan=\"3\">\n\t\t\t\t\t<table class=\"table order-lines\">\n\t\t\t\t\t\t<col class=\"order-items-col1\">\n\t\t\t\t\t\t<col class=\"order-items-col2\">\n\t\t\t\t\t\t<col class=\"order-items-col3\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th colspan=\"2\"><%= _('Item').translate() %><\/th>\n\t\t\t\t\t\t\t\t<th><%= _('Qty').translate() %><\/th>\n\t\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t<\/thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<% returnauthorization.get('lines').each(function (line, index) { %>\n\t\t\t\t\t\t\t<%= itemDetails({\n\t\t\t\t\t\t\t\titem: line.get('item')\n\t\t\t\t\t\t\t,\toptions: line.get('options')\n\t\t\t\t\t\t\t,\tquantity: Math.abs(line.get('quantity'))\n\t\t\t\t\t\t\t,\tprice: false\n\t\t\t\t\t\t\t,\tamount: false\n\t\t\t\t\t\t\t,\treorder: line.get('item').get('_isPurchasable')\n\t\t\t\t\t\t\t,\tapplication: view.options.application\n\t\t\t\t\t\t\t}) %>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t<\/tbody>\n\t\t\t\t\t<\/table>\n\t\t\t\t<\/td>\n\t\t\t<\/tr>\n\t\t\t<!-- Authorization Lines Ends -->\n\t\t\t<% }) %>\n\t\t<\/tbody>\n\t<\/table>\n<% } %>\n<!-- Returns Authorizations Ends -->\n<\/section>\n","address_book_tmpl":"<%\n\tvar defaults = _.compact( _.uniq( [ view.collection.where({ defaultbilling: 'T' })[0], view.collection.where({ defaultshipping: 'T' })[0] ] ) )\n\t,\tother_addresses = view.collection.where({ defaultbilling: 'F', defaultshipping: 'F' });\n%>\n\n<section>\n\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\n\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\n\t<hr class=\"divider-small\">\n\t<p><a class=\"btn btn-link add-new-address\" href=\"\/addressbook\/new\" data-toggle=\"show-in-modal\"><%= _('Add New Address').translate() %><\/a><\/p>\n\t<% if ( defaults.length ) { %>\n\t\t<div class=\"default-addresses\">\n\t\t\t<%= displayInRows(defaults, SC.macros['address'], view.options.application.getConfig('itemsPerRow')) %>\n\t\t\t<hr class=\"divider-small\">\n\t\t<\/div>\n\t<% } %>\n\n\t<div class=\"other-addresses\">\n\t\t<%= displayInRows(other_addresses, SC.macros['address'], view.options.application.getConfig('itemsPerRow')) %>\n\t<\/div>\n<\/section>\n","creditcards_tmpl":"<%\n\tvar defaults = _.compact( _.uniq( [ view.collection.where({ ccdefault: 'T' })[0] ] ) )\n\t,\tother_creditcards = view.collection.where({ ccdefault: 'F' });\n%>\n<section>\n\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t<hr class=\"divider-small\">\n\t<p><a class=\"btn btn-link add-credit-card\" href=\"\/creditcards\/new\" data-toggle=\"show-in-modal\"><%= _('Add Credit Card').translate() %><\/a><\/p>\n\t<% \n\tvar cellWrap = function (item) { \n\t\treturn creditcard(item, {\n\t\t\ticons: view.options.application.getConfig('creditCardIcons')\n\t\t,\tshowActions: true\n\t\t,\tshowDefaults: view.options.application.getConfig('currentTouchpoint') === 'customercenter'\n\t\t}); \n\t} \n\tif ( defaults.length ) { %>\n\t\t<%= displayInRows(defaults, cellWrap, view.options.application.getConfig('itemsPerRow')) %>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n\t<%= displayInRows(other_creditcards, cellWrap, view.options.application.getConfig('itemsPerRow')) %>\n<\/section>\n","accordion_wizard_tmpl":"<div class=\"accordion\">\n\t<% _.each(view.wizard.getStepGroups(), function(step_group) { %>\n\t\t<div class=\"accordion-group\">\n\t\t\t<div class=\"accordion-heading\">\n\t\t\t<% if (step_group.state === 'future') { %>\n\t\t\t\t<a class=\"accordion-toggle muted\" href=\"<%- Backbone.history.fragment %>\">\n\t\t\t\t\t<%= step_group.name %>\n\t\t\t\t<\/a>\n\t\t\t<% } else { %>\n\t\t\t\t<a class=\"accordion-toggle \" href=\"<%- step_group.url %>\">\n\t\t\t\t\t<%= step_group.name %>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<% if (step_group.state === 'present') { %>\n\t\t\t\t<div class=\"accordion-body collapse in\">\n\t\t\t\t\t<div class=\"accordion-inner\">\n\t\t\t\t\t\t<div id=\"wizard-content\" class=\"wizard-content\"><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<% }) %>\n<\/div>","case_new_tmpl":"<%\nvar categories = view.fields.get('categories')\n,\tuser = view.user;\n%>\n<section class=\"newCase\">\n\t<header>\n\t\t<h3><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Account').translate() %>\n\t\t<\/a>\t\t\t\t\n\t<\/header>\n\n\t<hr class=\"divider-small\" \/>\n\t\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<form action=\"#\">\n\t\t<div class=\"case-new-subject control-group\">\n\t\t\t<label for=\"title\"><%= _('Subject').translate() %><\/label>\n\t\t\t<input type=\"text\" name=\"title\" id=\"title\" class=\"form-control input-xlarge input-case-title\" value=\"\" ><\/input>\n\t\t<\/div>\n\n\t\t<div class=\"case-new-category control-group\">\t\t\t\t\t\t\t\n\t\t\t<label for=\"category\"><%= _('Type of inquiry').translate() %><\/label>\n\t\t\t<select name=\"category\" id=\"category\" class=\"form-control input-xlarge select-case-category\">\n\t\t\t\t<% _.each(categories, function (category) { %>\n\t\t\t\t\t<option value=\"<%= category.id %>\" >\n\t\t\t\t\t\t<%= category.text %>\n\t\t\t\t\t<\/option>\n\t\t\t\t<% }); %>\n\t\t\t<\/select>\n\t\t<\/div>\n\n\t\t<div class=\"case-new-message control-group\">\n\t\t\t<label for=\"message\"><%= _('Message').translate() %>: <\/label>\n\t\t\t<textarea name=\"message\" id=\"message\" class=\"form-control input-xlarge input-case-message\"><\/textarea>\n\t\t<\/div>\n\n\t\t<div class=\"case-new-include-email control-group\">\n\t\t\t<label class=\"checkbox\">\n\t\t\t\t<input type=\"checkbox\" name=\"include_email\" id=\"include_email\" class=\"form-control checkbox-case-include-email\">\n\t\t\t\t\t<%= _('I want to use another email address for this case').translate() %>\n\t\t\t\t<\/input>\n\t\t\t<\/label>\n\t\t\t<div class=\"case-new-email control-group collapse\">\n\t\t\t\t<input type=\"email\" name=\"email\" id=\"email\" class=\"form-control input-xlarge input-case-email\" value=\"\" disabled=\"true\"><\/input>\n\t\t\t\t<label for=\"email\" class=\"text-light\"><%= _('E.g. yourname@company.com').translate() %><\/label>\n\t\t\t<\/div>\n\t\t<\/div>\t\t\n\n\t\t<div class=\"form-actions\">\n\t\t\t<button type=\"submit\" class=\"btn btn-primary btn-case-submit\"><%= _('Submit').translate() %><\/button>\n\t\t<\/div>\n\t<\/form>\n<\/section>","deposit_application_details_tmpl":"<section>\n\t<header>\n\t\t<h3>\n\t\t\t<%= _('Deposit Application <span class=\"strong deposit-number\">#$(0)<\/span>').translate(view.model.get('tranid')) %>\n\t\t\t<span class=\"strong pull-right hidden-phone deposit-amount\"><%= view.model.get('total_formatted') %><\/span>\n\t\t<\/h3>\n\t\t<a href=\"\/transactionhistory\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Transaction History').translate() %>\n\t\t<\/a>\t\t\n\t<\/header>\n\n\t<hr class=\"divider-small\">\n\n\t<% var collapse_elements = view.options.application.getConfig('collapseElements'); %>\n\n\t<div class=\"header-information margin-bottom-10\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span12\">\n\t\t\t\t<p class=\"info deposit-transaction-date\"><%= _('Transaction Date: $(0)').translate(view.model.get('trandate')) %><\/p>\n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('From:').translate() %>\n\t\t\t\t\t<a href=\"\/transactionhistory\/customerdeposit\/<%- view.model.get('deposit').internalid %>\" class=\"deposit-link\"><%- view.model.get('deposit').name %><\/a>\n\t\t\t\t<\/p> \n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Deposit Date: <span class=\"deposit-date\">$(0)<\/span>').translate(view.model.get('depositdate')) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<%= _('Applied to Invoices').translate() %>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus <%= collapse_elements ? '' : 'icon-minus' %>\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t<% if (view.model.get('invoices') && view.model.get('invoices').length) { %>\n\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t<div class=\"span4 popover-content popover-heading\"><%= _('Number').translate() %><\/div>\n\t\t\t\t<div class=\"span5 popover-content popover-heading\"><%= _('Transaction Date').translate() %><\/div>\n\t\t\t\t<div class=\"span3 popover-content popover-heading responsive-align\"><%= _('Amount').translate() %><\/div>\n\t\t\t<\/div>\n\t\t\t<%\tview.model.get('invoices').each(function (invoice, index) { %>\n\t\t\t\t<div class=\"row-fluid nav-tabs deposit-invoice invoice-<%= invoice.get('internalid') %>\">\n\t\t\t\t\t<div class=\"span4 text-left popover-content\"><span class=\"show-phone text-light\"><%= _('Number: ').translate() %><\/span><a href=\"\/invoices\/<%= invoice.get('internalid') %>\" class=\"invoice-number\"><%= _('$(0)').translate(invoice.get('refnum')) %><\/a><\/div>\n\t\t\t\t\t<div class=\"span5 text-left popover-content\"><%= _('<span class=\"show-phone text-light\">Transaction Date: <\/span><span class=\"invoice-date\">$(0)<\/span>').translate(invoice.get('applydate')) %><\/div>\n\t\t\t\t\t<div class=\"span3 popover-content responsive-align\"><%= _('<span class=\"show-phone text-light\">Amount: <\/span><span class=\"invoice-amount\">$(0)<\/span>').translate(invoice.get('amount_formatted')) %><\/div>\n\t\t\t\t<\/div>\n\t\t\t<% }) %>\n\t\t\t<div class=\"control-group\"><\/div>\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"offset5 span4 text-right\">\n\t\t\t\t\t<span class=\"lead popover-content hide-phone\"><%= _('Applied Amount').translate() %><\/span>\n\t\t\t\t<\/div>\t\n\t\t\t\t<div class=\"span3 text-right\">\n\t\t\t\t\t<span class=\"lead strong popover-content\"><%= _('<span class=\"show-phone\">Applied Amount: <\/span><span class=\"deposit-total\">$(0)<\/span>').translate(view.model.get('total_formatted')) %><\/span>\n\t\t\t\t<\/div>\t\n\t\t\t<\/div>\n\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (view.model.get('memo')) { %>\n\t\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t<%= _('More Details').translate() %>\n\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus <%= collapse_elements ? '' : 'icon-minus' %>\"><\/i><\/a>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div class=\"row-fluid\" data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t\t<div class=\"span12 popover-content\">\t\t\t\t\n\t\t\t\t\t<div>Memo:<\/div>\n\t\t\t\t\t<div class=\"deposit-memo\"><%= view.model.get('memo') %><\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\n<\/section>","wizard_step_tmpl":"<% if (view.getName()) { %>\n\t<header class=\"page-header step-header\">\n\t\t<h2 data-type=\"wizard-step-name-container\" ><%= view.getName() %><\/h2>\n\t<\/header>\n<% } %>\n\n<div data-type=\"alert-placeholder-step\"><\/div>\n\n<% if (!view.hideContinueButton) { %>\n<div class=\"step-navigation-buttons-top form-actions form-actions-top\">\n\t<button class=\"btn btn-primary btn-large btn-block btn-continue\" data-action=\"submit-step\">\n\t\t<%= view.continueButtonLabel %>\n\t<\/button>\n<\/div>\n<% } %>\n\n<div id=\"wizard-step-content\" class=\"wizard-step-content\"><\/div>\n\n<div class=\"step-navigation-buttons form-actions\">\n\t<% if (!view.hideContinueButton) { %>\n\t\t<button class=\"btn btn-primary btn-large btn-continue<%=(view.hideSecondContinueButtonOnPhone)? ' hidden-phone': ''%>\" data-action=\"submit-step\">\n\t\t\t<%= view.continueButtonLabel %>\n\t\t<\/button>\n\t<% } %>\n\t<button class=\"btn btn-large btn-back\" <%= !view.hideBackButton ? '' : 'style=\"display:none;\"' %> data-action=\"previous-step\">\n\t\t<%= _('Back').translate() %>\n\t<\/button>\n<\/div>\n\n<% if (view.bottomMessage) { %>\n\t<br>\n\t<p class=\"help-block stepgroup-bottom-message <%= view.bottomMessageClass %>\">\n\t\t<%= view.bottomMessage %>\n\t<\/p>\n<% } %>\n","payment_wizard_invoice_module_tmpl":"<% var invoices = view.invoices; %>\n\n<div class=\"row-fluid payment-table\">\n<% if (invoices.length) { %>\n\t<div class=\"list-sub-header hidden-phone\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span1\">\n\t\t\t\t&nbsp;\n\t\t\t<\/div>\n\t\t\t<div class=\"span3 invoice-number\">\n\t\t\t\t<span><%= _('Invoice No.').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span5 invoice-due-date\">\n\t\t\t\t<span><%= _('Due date').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span3 responsive-align invoice-amount\">\n\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<% invoices.each(function (invoice) { %>\n\t\t<%= paymentWizardInvoice(invoice) %>\n\t<% }); %>\n<% } else { %>\n\t<p class=\"list-empty\"><%= _('You don\\'t have any Open Invoices at the moment,<\/br>see <a href=\"\/paid-invoices\" class=\"InvoicePaidInFull\">Invoices Paid In Full<\/a>').translate() %><\/p>\n<% } %>\n<\/div>\n","payment_wizard_step_tmpl":"\n<h4><%= view.wizard.steps[view.wizard.currentStep].options.stepGroup.name %><\/h4>\n<hr>\n<% if (!view.hideBreadcrumb) { %>\n\t<%= paymentWizardBreadcrumb(view.wizard.stepGroups) %>\n<% } %>\n\n<div data-type=\"alert-placeholder-step\"><\/div>\n\n<div class=\"step-navigation-buttons-top payment-next-button\">\n\t<button class=\"btn btn-primary btn-large btn-expanded btn-continue\" data-action=\"submit-step\">\n\t\t<%= view.continueButtonLabel %>\n\t<\/button>\n<\/div>\n\n\n<div class=\"row-fluid\">\n\t<div id=\"wizard-step-content\" class=\"wizard-step-content span8\"><\/div>\n\t<div id=\"wizard-step-content-right\" class=\"wizard-step-content span4\"><\/div>\n<\/div>\n\n<% if (!view.hideBackButton || !view.hideContinueButton) { %>\n\t<div class=\"step-navigation-buttons form-actions\">\n\t\t<% if (!view.hideBackButton) { %>\n\t\t\t<button class=\"btn btn-large btn-back\" data-action=\"previous-step\">\n\t\t\t\t<%= _('Back').translate() %>\n\t\t\t<\/button>\n\t\t<% } %>\n\t\t<% if (!view.hideContinueButton) { %>\n\t\t\t<button class=\"btn btn-primary btn-large btn-continue\" data-action=\"submit-step\">\n\t\t\t\t<%= view.continueButtonLabel %>\n\t\t\t<\/button>\n\t\t<% } %>\n\t<\/div>\n<% } %>","product_list_delete_confirm_tmpl":"<div class=\"modal-body\">\n\t<%= view.body %>\n<\/div>\n<div class=\"modal-footer\">\n\t<button class=\"btn btn-primary pull-right\" data-action=\"delete\">\n\t\t<%= view.confirmLabel || _('Yes').translate() %>\n\t<\/button>\n\t<button class=\"btn\" data-dismiss=\"modal\" data-action=\"cancel\">\n\t\t<%= view.cancelLabel || _('Cancel').translate() %>\n\t<\/button>\n<\/div>","product_list_added_to_cart_tmpl":"<%\n\/* notice that this used both when add list to cart and add item to cart. *\/\nvar list = view.options.list\n,\tisItem = !list\n,\tmodels = isItem ? [view.options.item] : list.get('items').models.filter(function(model) { return model.item.ispurchasable })\n,\tlist_display_options = {id: 'list', name: 'List', macro: 'productListDisplayFull', columns: 1, icon: 'icon-th-list', isDefault: true}; \n%>\n<div class=\"modal-body\">\n\t<span data-warning-message class=\"added-to-cart-item-warning-message\"><\/span>\t\t\n\t<% if (!isItem) { %>\n\t<p class=\"list-added-to-cart-msg1\">\n\t\t<% if(models.length > 1) { %> \n\t\t\t<%= _('From $(0) product list ($(1) items)').\n\t\t\t\ttranslate('<span class=\"product-list-name\">' + list.get('name') + '<\/span>', models.length) %>\n\t\t\t\n\t\t<% } else{ %>\n\t\t\t<%= _('From $(0) product list ($(1) item)').\n\t\t\t\ttranslate('<span class=\"product-list-name\">' + list.get('name') + '<\/span>', models.length) \n\t\t\t%>\n\t\t<% } %>\n\t<\/p>\n\t<% } \n\tvar display_fn = function (row) {\n\t\treturn SC.macros[list_display_options.macro](row, view, {hide_actions: true, hide_rating: true, hide_added_on: true});\n\t}; \n\t%>\n\n\t<div class=\"added-to-cart-item-list\">\n\t<%= displayInRows(models, display_fn, list_display_options.columns) %>\n\t<\/div>\n<\/div>\n\n<div class=\"modal-footer\">\n\t<button class=\"pull-right btn btn-primary\" data-action=\"view-cart\"><%=_('View Cart &amp; Checkout').translate()%><\/button>\n\t<button class=\"pull-left btn\" data-action=\"back-to-wishlists\"><%= isItem ? _('Back to product list').translate() : _('Back to product list').translate() %><\/button>\n<\/div>\t","payment_wizard_show_credit_transaction_module_tmpl":"<div class=\"payment-table\">\n\t<h5 class=\"payment-table-header\">\n\t\t<%= view.transaction_type === 'credit' ? _('Credits').translate() : _('Deposits').translate() %>\n\t<\/h5>\n\n\t<div class=\"list-sub-header hidden-phone\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span6 offset1\">\n\t\t\t\t<span><%= _('Number').translate() %><\/span>\n\t\t\t<\/div>\n\t\t\t<div class=\"span5 text-right\">\n\t\t\t\t<span><%= _('Amount').translate() %><\/span>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<% view.collection.each(function (transaction) { %>\n\t\t<div class=\"list-row\" data-id=\"<%= transaction.get('internalid') %>\">\n\t\t\t<div class=\"row-fluid payment-table-row-main\">\n\t\t\t\t<div class=\"span7 offset1 underlined transaction-number\">\n\t\t\t\t\t<b><%= _('$(0) #$(1)').translate(transaction.get('type'), transaction.get('tranid') || transaction.get('refnum')) %><\/b>\n\t\t\t\t<\/div>\n\n\t\t\t\t<div class=\"span4 offset-xs-1 underlined text-right transaction-amount\">\n\t\t\t\t\t<%= transaction.get('amount_formatted') %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% }) %>\n\t<div class=\"payment-table-footer-alt\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span8 offset4\">\n\t\t\t\t<p class=\"strong\">\n\t\t\t\t\t<%= view.transaction_type === 'credit' ? _('Credits Subtotal').translate() : _('Deposits Subtotal').translate() %>\n\n\t\t\t\t\t<% var total_field = view.transaction_type === 'credit' ? 'credits_total_formatted' : 'deposits_total_formatted' %>\n\t\t\t\t\t<span class=\"pull-right\">\n\t\t\t\t\t\t<%= view.wizard.model.get('confirmation') ? view.wizard.model.get('confirmation')[total_field] : view.wizard.model.get(total_field) %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/div>","deposit_details_tmpl":"<section>\n\t<header>\n\t\t<h3>\n\t\t\t<%= _('Deposit <span class=\"strong deposit-number\">#$(0)<\/span>').translate(view.model.get('tranid')) %>\n\t\t\t<span class=\"strong pull-right hidden-phone deposit-payment\"><%= view.model.get('payment_formatted') %><\/span>\n\t\t<\/h3>\n\t\t<a href=\"\/transactionhistory\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Transaction History').translate() %>\n\t\t<\/a>\n\t<\/header>\n\n\t<hr class=\"divider-small\">\n\n\t<%\n\t\tvar collapse_elements = view.options.application.getConfig('collapseElements')\n\t\t,\tstatus = view.model.get('status')\n\t\t,\turl = _.getDownloadPdfUrl({asset: 'deposit-details', id: view.model.get('internalid')});\n\t%>\n\n\t<div class=\"header-information margin-bottom-10\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span12\">\n\t\t\t\t<p class=\"pull-right info hidden-phone\">\n\t\t\t\t\t<%= _('Status: <span class=\"status\">$(0)<\/span>').translate(status) %>\n\t\t\t\t<\/p> \n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Date: $(0)').translate(view.model.get('trandate')) %>\n\t\t\t\t<\/p>\n\t\t\t\t<p class=\"info visible-phone\">\n\t\t\t\t\t<%= _('Status: <span class=\"quote-status status\">$(0)<\/span>').translate(status) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"row-fluid\">\n\t\t\t<a href=\"<%= url %>\" target=\"_blank\" class=\"btn btn-expanded pull-right\"><%= _('Download as PDF').translate() %><\/a>\n\t\t<\/div>\n\t<\/div>\n\n\t<% var remaining = view.model.get('payment'); %>\n\n\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<%= _('Applied to Invoices').translate() %>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus <%= collapse_elements ? '' : 'icon-minus' %>\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t<% if (view.model.get('invoices') && view.model.get('invoices').length) { %>\n\t\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t\t<div class=\"span2 popover-content popover-heading\"><%= _('Number').translate() %><\/div>\n\t\t\t\t\t<div class=\"span4 popover-content popover-heading\"><%= _('Invoice Date').translate() %><\/div>\n\t\t\t\t\t<div class=\"span4 popover-content popover-heading\"><%= _('Date Applied').translate() %><\/div>\n\t\t\t\t\t<div class=\"span2 popover-content popover-heading responsive-align\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<%\tview.model.get('invoices').each(function (invoice, index) { %>\n\t\t\t\t\t<div class=\"row-fluid nav-tabs deposit-invoice invoice-<%= invoice.get('invoice_id') %>\">\n\t\t\t\t\t\t<div class=\"span2 text-left popover-content\"><span class=\"show-phone text-light\"><%= _('Number: ').translate() %><\/span><a class=\"invoice-number\" href=\"\/invoices\/<%= invoice.get('invoice_id') %>\"><%= _('$(0)').translate(invoice.get('refnum')) %><\/a><\/div>\n\t\t\t\t\t\t<div class=\"span4 text-left popover-content\"><%= _('<span class=\"show-phone text-light\">Invoice Date: <\/span><span class=\"invoice-date\">$(0)<\/span>').translate(invoice.get('invoicedate')) %><\/div>\n\t\t\t\t\t\t<div class=\"span4 text-left popover-content\"><%= _('<span class=\"show-phone text-light\">Date Applied: <\/span><a href=\"\/transactionhistory\/depositapplication\/$(0)\" class=\"deposit-application-date\">$(1)<\/a>').translate(invoice.get('deposit_id'), invoice.get('depositdate')) %><\/div>\n\t\t\t\t\t\t<div class=\"span2 popover-content responsive-align\"><%= _('<span class=\"show-phone text-light\">Amount: <\/span><span class=\"invoice-amount\">$(0)<\/span>').translate(invoice.get('amount_formatted')) %><\/div>\n\t\t\t\t\t\t<% remaining -= invoice.get('amount'); %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }) %>\n\t\t\t\t<div class=\"row-fluid nav-tabs control-group\">\n\t\t\t\t\t<div class=\"offset5 span4 text-right popover-content strong hide-phone\"><%= _('Applied Amount').translate() %><\/div>\n\t\t\t\t\t<div class=\"span3 text-right popover-content strong\"><%= _('<span class=\"show-phone\">Applied Amount: <\/span><span class=\"deposit-applied\">$(0)<\/span>').translate(view.model.get('paid_formatted')) %><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"offset5 span4 text-right\">\n\t\t\t\t\t\t<span class=\"lead popover-content hide-phone\"><%= _('Remaining Amount').translate() %><\/span>\n\t\t\t\t\t<\/div>\t\n\t\t\t\t\t<div class=\"span3 text-right\">\n\t\t\t\t\t\t<span class=\"lead strong popover-content\"><%= _('<span class=\"show-phone\">Remaining Amount: <\/span><span class=\"deposit-remaining\">$(0)<\/span>').translate(view.model.get('remaining_formatted')) %><\/span>\n\t\t\t\t\t<\/div>\t\n\t\t\t\t<\/div>\n\n\t\t\t<% } else { %>\t\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"span12 text-center popover-content deposit-noinvoices\"><%= _('This Deposit has not been applied to any invoices yet.').translate() %><\/div>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<%= _('Billing & Payment Method').translate() %>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"row-fluid\" data-content=\"items-body\" style=\"display: none;\">\n\t\t\t<div class=\"span6 popover-content\">\n\t\t\t\t<% var paymentmethod = view.model.get('paymentmethods') && view.model.get('paymentmethods').findWhere({primary: true}) %>\n\t\t\t\t<% if (paymentmethod && paymentmethod.get('type')) { %>\n\t\t\t\t\t<div class=\"deposit-method\">\n\t\t\t\t\t\t<%= SC.macros.formatPaymentMethod(paymentmethod, view.options.application.getConfig('creditCardIcons'), true) %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<div class=\"span6 popover-content\">\n\t\t\t\t<% if (view.model.get('memo')) { %>\n\t\t\t\t\t<div>Memo:<\/div>\n\t\t\t\t\t<div class=\"deposit-memo\"><%= view.model.get('memo') %><\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/section>\n","payment_wizard_layout_tmpl":"<header class=\"payment-wizard-layout-header\">\n\t<div class=\"hidden-phone\">\n\t\t<a class=\"pull-right btn continue-shopping\" href=\"\/\" data-action=\"update-layout\">\n\t\t\t<%= _('Go to Account Overview').translate() %>\n\t\t<\/a>\n\t<\/div>\n\t\n\t<h2><%= _('Make a Payment').translate() %><\/h2>\n\t<a href=\"\/\" class=\"back-btn\" data-action=\"update-layout\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\n\t<hr class=\"divider-small\">\n<\/header>\n<div id=\"wizard-content\" class=\"wizard-content payment-wizard-content\"><\/div>","landing_page_tmpl":"<section>\n\t<% if (view.page_header && !view.inModal) { %>\n\t\t<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n\t\t<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n\t\t<hr class=\"divider-small\">\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n\n\t<% if (view.page && view.page.get('content')) { %>\n\t\t<div id=\"landing-page-content\" class=\"view-body landing-page-content\">\n\t\t\t<%= view.page.get('content') %>\n\t\t<\/div>\n\t<% } %>\n<\/section>","product_list_new_tmpl":"<%\n\/\/TODO: rename this file to product_list_edit\nvar model = view.model;\n%>\n\n<form action=\"#\">\n\n\t<% if (view.inModal) { %>\n\t<div class=\"modal-body\">\n\t<% } %>\n\n\t<div class=\"row-fluid product-list-new-name\">\n\t\t<div class=\"pull-left control-group control-group-name product-list-new-name-input\">\n\t\t\t<label><%= view.isEdit ? _('Your list name').translate() : _('Name your new list').translate() %>:<\/label>\n\t\t\t<span class=\"controls\">\n\t\t\t\t<input type=\"text\" name=\"name\" class=\"list-name\" placeholder=\"<%= view.isEdit ? _('List name').translate() : _('New list name').translate() %>\" value=\"<%= view.isEdit ? model.get('name') : '' %>\">\n\t\t\t<\/span>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"row-fluid product-list-new-privacy\">\n\t\t<!-- TODO -->\n\t<\/div>\n\t<div class=\"row-fluid product-list-new-notes\">\n\t\t<div class=\"pull-left control-group product-list-new-notes-input\">\n\t\t\t<label><%= _('Notes for the list (optional)').translate() %>: <\/label>\n\t\t\t<textarea class=\"list-description\" name=\"description\" placeholder=\"<%= _('Add a note or description for your list').translate() %>\"><%= view.isEdit ? model.get('description') : '' %><\/textarea>\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (view.inModal) { %>\n\t<\/div>\n\t<% } %>\n\n\t<div class=\"<%= view.inModal ? 'modal-footer' : '' %> product-list-new-commands\">\n\t\t\n\t\t<button type=\"submit\" class=\"btn btn-primary new-product-list-btn pull-right\">\n\t\t\t<%= view.isEdit ? _('Save').translate() : _('Create list').translate() %>\n\t\t<\/button>\n\n\t\t<% if (view.inModal) { %>\n\t\t<button class=\"btn new-product-list-cancel\" data-dismiss=\"modal\"><%= _('Cancel').translate() %><\/button>\n\t\t<% } %>\n\t\t\n\t<\/div>\n\n<\/form>","order_history_tmpl":"<h3><%= view.page_header %><\/h3>\n<a href=\"\/\" class=\"back-btn\">\n\t<%= _('&lt; Back to Account').translate() %>\n<\/a>\n\n<hr class=\"divider-small\">\n<% if (view.collection.models.length) { %>\n\t<%= showingCurrent({\n\t\t\tcurrent_page: view.options.page\n\t\t,\titems_per_page: view.collection.recordsPerPage\n\t\t,\ttotal_items: view.collection.totalRecordsFound\n\t\t,\ttotal_pages: Math.ceil(view.collection.totalRecordsFound \/ view.collection.recordsPerPage)\n\t\t,\textraClass: 'pull-left'\n\t}) %>\n\t<%\n\t\tvar pagination_result = pagination(_.extend({}, \n\t\t\tview.options.application.getConfig('defaultPaginationSettings'), \n\t\t\t{\n\t\t\t\tcurrentPage: view.options.page\n\t\t\t,\ttotalPages: Math.ceil(view.collection.totalRecordsFound \/ view.collection.recordsPerPage)\n\t\t\t,\textraClass: 'pagination-small pull-right'\n\t\t\t,\tpager: function (page) {\n\t\t\t\t\treturn (page === 1) ? '\/ordershistory' : '\/ordershistory?page='+page;\n\t\t\t\t}\n\t\t\t}\n\t\t))\n\t%>\n\t<%= pagination_result %>\n\t<table class=\"table\">\n\t<% _.each(view.collection.models, function (order_item) { %>\n\t\t<tr data-order=\"<%= order_item.get('order_number') %>\">\n\t\t\t<td>\n\t\t\t\t<p>\n\t\t\t\t\t<%= _('Order Date').translate() %><br>\n\t\t\t\t\t<b class=\"order-date\"><%= order_item.get('date') %><\/b>\n\t\t\t\t<\/p>\n\t\t\t\t<p>\n\t\t\t\t\t<%= _('Order Number').translate() %><br>\n\t\t\t\t\t<b class=\"order-number\"><%= order_item.get('order_number') %><\/b>\n\t\t\t\t<\/p>\n\t\t\t<\/td>\n\t\t\t<td>\n\t\t\t\t<p>\n\t\t\t\t\t<%= _('Order Total').translate() %><br>\n\t\t\t\t\t<b class=\"order-total\"><%= order_item.get('summary').total_formatted %><\/b>\n\t\t\t\t<\/p>\n\t\t\t\t<p>\n\t\t\t\t\t<%= _('Status').translate() %><br>\n\t\t\t\t\t<b class=\"order-status\"><%= order_item.get('status') %><\/b>\n\t\t\t\t<\/p>\n\t\t\t<\/td>\n\t\t\t<td class=\"summary\">\n\t\t\t\t<ul class=\"nav-list unstyled\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class=\"view-order-details\" href=\"\/ordershistory\/view\/<%= order_item.get('internalid') %>\">\n\t\t\t\t\t\t\t<%= _('View Order Details').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li class=\"divider\"><\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a class=\"reorder-items\" href=\"\/reorderItems?order_id=<%= order_item.get('internalid') %>\">\n\t\t\t\t\t\t\t<%= _('Reorder Items').translate() %>\n\t\t\t\t\t\t<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li class=\"divider\"><\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<% var trackingnumbers = order_item.get('trackingnumbers') || [] %>\n\t\t\t\t\t\t<% if (!trackingnumbers.length) { %>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t<%= _('Track Items').translate() %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<% } else if (trackingnumbers.length == 1) { %>\n\t\t\t\t\t\t\t<a class=\"track-items\" target=\"_blank\" href=\"<%= view.getTrackingServiceUrl(trackingnumbers[0]) %>\">\n\t\t\t\t\t\t\t\t<%= _('Track Items').translate() %>\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<a class=\"track-items\" href=\"#\" rel=\"clickover\" data-placement=\"left\"\n\t\t\t\t\t\t\t\tdata-html=\"true\"\n\t\t\t\t\t\t\t\tdata-content-selector=\"#traking-numbers-<%= order_item.get('internalid') %>\"\n\t\t\t\t\t\t\t\tdata-original-title=\"<%= _('Shipments').translate() %>\">\n\t\t\t\t\t\t\t\t<%= _('Track Items').translate() %>\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t<span id=\"traking-numbers-<%= order_item.get('internalid') %>\" style=\"display: none\">\n\t\t\t\t\t\t\t\t<%= trackingNumbers(view, trackingnumbers) %>\n\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/td>\n\t\t<\/tr>\n\t<% }) %>\n\t<\/table>\n\n\t\t<%= pagination_result %>\n\n\t<% } else { %>\n\t<p><%= _('We have no orders on file for this account.').translate() %><\/p>\n\t<p><a class=\"btn\" href=\"#\" data-touchpoint=\"home\"><%= _('Shop Now').translate() %><\/a><\/p>\n<% } %>\n","return_authorization_cancel_tmpl":"<div class=\"modal-body\">\n\t<h4><%= _('Are you sure you want to cancel this return request?').translate() %><\/h4>\n\t<p class=\"text-light\"><%= _('The status of the request will change to \"Cancelled\" but it won\\'t be removed.').translate() %><\/p>\n<\/div>\n<div class=\"modal-footer\">\n\t<button class=\"btn btn-primary pull-right\" data-action=\"delete\">\n\t\t<%= _('Yes').translate() %>\n\t<\/button>\n\t<button class=\"btn\" data-dismiss=\"modal\" data-action=\"cancel\">\n\t\t<%= _('No').translate() %>\n\t<\/button>\n<\/div>","return_authorization_confirmation_tmpl":"<%\n\tvar model = view.model\n\t,\tlines = model.get('lines')\n\t,\tapplication = view.application\n\t,\tcollapse_elements = application.getConfig('collapseElements');\n%>\n<div class=\"content return-authorization-confirmation-view\">\n\t<h3><%= view.page_title %><\/h3>\n\t<a href=\"\/returns\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Returns').translate() %>\n\t<\/a>\n\t<hr>\n\n\t<h4 style=\"margin-bottom: 18px;\"><%= view.page_header %><\/h4>\n\n\t<div class=\"alert alert-success\">\n\t\t<div class=\"row-fluid display-flex\">\n\t\t\t<div class=\"span1 payment-confirmation-tick-container hidden-phone text-right\">\u2713<\/div>\n\t\t\t<div class=\"span11\">\n\t\t\t\t<h2 class=\"payment-confirmation-greeting-container\"><%= _('Thank you!').translate() %><\/h2>\n\t\t\t\t<p><a href=\"\/returns\/<%= model.get('internalid') %>\" class=\"text-strong\"><%= _('Return request #$(0)').translate(model.get('tranid')) %><\/a><\/p>\n\t\t\t\t<p class=\"return-confirmation-body-container\">\n\t\t\t\t\t<%= _('Your request was successfully submitted and a representative will contact you briefly.').translate() %> <br>\n\t\t\t\t\t<%= _('An email was sent to you with a copy of this request.').translate() %>\n\t\t\t\t<\/p>\n\t\t\t\t<a href=\"\/returns\" class=\"btn\"><%= _('Go to list of requests').translate() %><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<span class=\"return-authorization-details-amount lead pull-right\"><%= model.get('summary').total_formatted %><\/span>\n\t<p class=\"clearfix\"><span class=\"text-light\"><%= _('From:').translate() %><\/span> <%= _('$(0) #$(1)').translate(view.getCreatedFromLabel(), model.get('tranid')) %><\/p>\n\n\t<div class=\"control-group\" data-type=\"accordion\">\n\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<%= _('Items ($(0))').translate(lines.length) %>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus <%= collapse_elements ? '' : 'icon-minus' %>\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-content=\"items-body\" style=\"<%= collapse_elements ? 'display: none;' : '' %>\">\n\n\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t<div class=\"span4 offset1 popover-content popover-heading\"><%= _('Item').translate() %><\/div>\n\t\t\t\t<div class=\"span2 popover-content popover-heading\"><%= _('Qty to return').translate() %><\/div>\n\t\t\t\t<div class=\"span2 popover-content popover-heading\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t<div class=\"span3 popover-content popover-heading responsive-align\"><%= _('Reason for Return').translate() %><\/div>\n\t\t\t<\/div>\n\t\t\t<%\tlines.each(function (line, index) { %>\n\t\t\t\t<%\n\t\t\t\t\tvar item = line.get('item')\n\t\t\t\t\t,\toptions = line.get('options');\n\t\t\t\t%>\n\t\t\t\t<div class=\"row-fluid nav-tabs item-<%= item.get('internalid') %>\">\n\t\t\t\t\t<div class=\"span1 item-image hide-phone\"><img src=\"<%= application.resizeImage(item.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= item.get('_thumbnail').altimagetext %>\"><\/div>\n\t\t\t\t\t<div class=\"span4 popover-content\">\n\t\t\t\t\t\t<p class=\"item-displayname\"><%= item.get('_name') %><\/p>\n\t\t\t\t\t\t<p class=\"product-price text-highlight\"><%= line.get('rate_formatted') %><\/p>\n\t\t\t\t\t\t<p class=\"text-light\"><%= _('SKU: #$(0)').translate(item.get('_sku')) %><\/p>\n\t\t\t\t\t\t<% if (options && options.length) { %>\n\t\t\t\t\t\t\t<div class=\"text-light\"><%= SC.macros.showItemOptions(options) %><\/div>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span2 popover-content item-quantity\"><span class=\"show-phone\"><%= _('Qty:').translate() %><\/span> <b><%= line.get('quantity') %><\/b><\/div>\n\t\t\t\t\t<div class=\"span2 popover-content item-totalprice\"><span class=\"show-phone\"><%= _('Amount:').translate() %><\/span> <%= line.get('amount_formatted') %><\/div>\n\t\t\t\t\t<div class=\"span3 popover-content responsive-align\"><%= line.get('reason') %><\/div>\n\t\t\t\t<\/div>\n\t\t\t<% }) %>\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (model.get('comment')) { %>\n\t<br>\n\t<p><%= _('Comments:').translate() %><\/p>\n\t<blockquote><%= model.get('comment') %><\/blockquote>\n\t<% } %>\n<\/div>","payment_wizard_invoice_summary_module_tmpl":"<div class=\"payment-table\">\n\t<h3><%= _('Payment review:').translate() %><\/h3>\n\t<h5 class=\"payment-table-header\"><%= _('Invoices').translate() %><\/h5>\n\t<% view.wizard.model.getSelectedInvoices().each(function (invoice) { %>\n\t\t<%= paymentWizardInvoice(invoice, false) %>\n\t<% }); %>\n\t<p class=\"payment-table-footer lead text-center clearfix payment-summary-payment-total\">\n\t\t<span class=\"pull-right\"><%= _.formatCurrency(view.wizard.model.get('invoices_total')) %><\/span>\n\t\t<span><%= _('Payment Total').translate() %><\/span>\n\t<\/p>\n<\/div>","forbidden_error_tmpl":"<div class=\"view-header\">\n\t<% if (view.page_header) { %>\n\t<h1><%= view.page_header %><\/h1>\n\t<% } %>\n\t<div id=\"main-banner\" class=\"main-banner\"><\/div>\n<\/div>\n<div id=\"forbidden-error-content\" class=\"view-body forbidden-error-content\">\n\t<p><%= _('Sorry! You have no permission to view this page.').translate() %><\/p>\n\t<p><%= _('Please contact the website administrator, click <a href=\"\/\">here<\/a> to continue.').translate() %><\/p>\n<\/div>","profile_update_your_password_tmpl":"<h3 class=\"no-margin-top\"><%= view.page_header %><\/h3>\n<a href=\"\/\" class=\"back-btn\"><%= _('&lt; Back to Account').translate() %><\/a>\n<hr class=\"divider-small\">\n<% view.model = view.model || { get: function () { return ''; } } %>\n<div data-type=\"alert-placeholder\"><\/div>\n<section class=\"row-fluid\">\n\t<div class=\"span12\">\n\t\t<form class=\"update_password\">\n\t\t\t<fieldset>\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"current_password\"><%= _('Current Password').translate() %><\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<input type=\"password\" class=\"input-large\" id=\"current_password\" name=\"current_password\" value=\"\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"password\"><%= _('New Password').translate() %><\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<input type=\"password\" class=\"input-large\" id=\"password\" name=\"password\" value=\"\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"control-label\" for=\"confirm_password\"><%= _('Confirm Password').translate() %><\/label>\n\t\t\t\t\t<div class=\"controls\">\n\t\t\t\t\t\t<input type=\"password\" class=\"input-large\" id=\"confirm_password\" name=\"confirm_password\" value=\"\">\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/fieldset>\n\t\t\t<div class=\"form-actions\">\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\"><%= _('Update').translate() %><\/button>\n\t\t\t\t<button type=\"reset\" class=\"btn hide\" data-action=\"reset\"><%= _('Reset').translate() %><\/button>\n\t\t\t<\/div>\n\t\t<\/form>\n\t<\/div>\n<\/section>","print_statement_tmpl":"<section class=\"print-statement\">\n\t<h3>\n\t\t<%= view.page_header %>\n\t<\/h3>\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\t<hr class=\"divider-small\">\n\t<div data-type=\"alert-placeholder\"><\/div>\n\n\t<form>\n\t\t<div class=\"control-group\">\n\t\t\t<label for=\"statementDate\">\n\t\t\t\t<%= _('Statement date').translate() %><br \/>\n\t\t\t\t<input type=\"date\" id=\"statementDate\" class=\"input-date\" name=\"statementDate\" value=\"<%= _.dateToString(view.initialStatementDate)%>\" \/>\n\t\t\t<\/label>\n\t\t<\/div>\n\t\t<div class=\"control-group\">\n\t\t\t<label for=\"startDate\">\n\t\t\t\t<%= _('Start date (Optional)').translate() %><br \/>\n\t\t\t\t<input type=\"date\" id=\"startDate\" class=\"input-date\" name=\"startDate\" value=\"<%= _.dateToString(view.initialStartDate)%>\" \/>\n\t\t\t<\/label>\n\t\t<\/div>\n\t\t<div>\n\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"inCustomerLocale\" \/> <%= _('Print in customer\\'s locale').translate() %><br \/>\n\t\t\t\t\t<\/label>\n\t\t\t<\/div>\n\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"openOnly\" \/> <%= _('Show only Open Transactions').translate() %><br \/>\n\t\t\t\t\t<\/label>\n\t\t\t<\/div>\n\t\t\t<div class=\"control-group\">\n\t\t\t\t\t<label class=\"checkbox\">\n\t\t\t\t\t\t<input type=\"checkbox\" name=\"consolidatedStatement\" \/> <%= _('Consolidated Statement').translate() %>\n\t\t\t\t\t<\/label>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"form-actions\">\n\t\t\t<button type=\"submit\" class=\"btn btn-expanded balance-actions-margin pull-right btn-primary print-statement-print-btn\"><%= _('Print').translate() %><\/button>\n\t\t\t<button type=\"button\" class=\"btn btn-expanded balance-actions-margin pull-right print-statement-email-btn\" data-action=\"email\"><%= _('Email').translate() %><\/button>\n\t\t<\/div>\n\t\t\n\t<\/form>\n<\/section>","invoice_details_tmpl":"<%\n\tvar invoice = view.model\n\t,\titems = invoice.get('lines')\n\t,\tsummary = invoice.get('summary')\n\t,\tis_open = invoice.get('internal_status') === 'open'\n\t,\tbill_address = invoice.get('addresses').get(invoice.get('billaddress'))\n\t,\tcollapse_elements = view.application.getConfig('collapseElements')\n\t,\tsite_name = view.application.getConfig('siteSettings.displayname')\n\t,\tpayments = invoice.get('payments')\n\t,\tcredit_memos = invoice.get('credit_memos')\n\t,\tdeposit_applications = invoice.get('deposit_applications')\n\t,\thas_adjustments = (payments && payments.length) || (credit_memos && credit_memos.length)|| (deposit_applications && deposit_applications.length)\n\t,\tmake_a_payment_permissions = 'transactions.tranCustPymt.2, transactions.tranCustInvc.1';\n%>\n<section class=\"invoice-details\">\n\t<div class=\"content invoice-details-view\">\n\t\t<% if (!view.inModal) { %>\n\t\t\t<header>\n\t\t\t\t<h3>\n\t\t\t\t\t<%= view.page_title %>\n\t\t\t\t\t<div class=\"pull-right strong billing-actions hidden-phone\">\n\t\t\t\t\t\t<% if (is_open) { %>\n\t\t\t\t\t\t\t<span class=\"invoice-details-amount\"> <%= _.formatCurrency(invoice.get('amountDue')) %><\/span>\n\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t<span class=\"invoice-details-amount\"> <%= summary.total_formatted %><\/span>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/h3>\n\n\t\t\t\t<a href=\"\/invoices\" class=\"back-btn\">\n\t\t\t\t\t<%= _('&lt; Back to Invoices').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<\/header>\n\n\t\t\t<hr class=\"divider-small\">\n\t\t<% } %>\n\n\t\t<!--GENERATE HEADER -->\n\t\t<%\n\t\t\tvar span = (invoice.get('createdfrom') && invoice.get('createdfrom').id) ? 2 : 3\n\t\t\t,\turl = _.getDownloadPdfUrl({asset:'invoice-details', 'id': view.model.get('internalid')});\n\t\t%>\n\n\t\t<div class=\"header-information margin-bottom-10\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span12\">\n\t\t\t\t\t<p class=\"info invoice-date\">\n\t\t\t\t\t\t<%= _('Invoice Date: $(0)').translate(invoice.get('date')) %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<% if (invoice.get('createdfrom') && invoice.get('createdfrom').id) { %>\n\t\t\t\t\t<p class=\"info invoice-created-from\">\n\t\t\t\t\t\t<%= _('Created from: <a href=\"\/ordershistory\/view\/$(0)\">$(1)<\/a>').translate(invoice.get('createdfrom').id, invoice.get('createdfrom').name) %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<% } %>\n\t\t\t\t\t<p class=\"pull-right info invoice-due-date\">\n\t\t\t\t\t\t<%= _('Status: <span class=\"invoice-details-status\">$(0)<\/span>').translate(invoice.get('status')) %>\n\t\t\t\t\t<\/p>\n\t\t\t\t\t<p class=\"info invoice-due-date\">\n\t\t\t\t\t\t<%= _('Due Date: $(0)').translate(invoice.get('dueDate') || 'N\/A') %>\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"row-fluid\" name=\"invoice-content-layout\">\n\t\t\t<% if (!view.inModal) { %>\n\t\t\t\t<div class=\"span8 invoice-details-notmodal-container\">\n\n\t\t\t\t\t<!-- ITEMS -->\n\t\t\t\t\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t\t\t\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t\t<%= _('Items ($(0))').translate(items.length) %>\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus <%= collapse_elements ? '' : 'icon-minus' %>\"><\/i><\/a>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\n\t\t\t\t\t\t<% if (items.length) { %>\n\t\t\t\t\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t\t\t\t\t<div class=\"span4 offset1 popover-content popover-heading\"><%= _('Item').translate() %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span1 popover-content popover-heading\"><%= _('Qty').translate() %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content popover-heading\"><%= _('Unit Price').translate() %><\/div>\n\t\t\t\t\t\t\t\t<div class=\"span3 popover-content popover-heading responsive-align\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<%\titems.each(function (item, index) { %>\n\n\t\t\t\t\t\t\t\t<%\n\n\t\t\t\t\t\t\t\t\tvar link_attributes = false\n\t\t\t\t\t\t\t\t\t,\titemKey = item.get('item')\n\t\t\t\t\t\t\t\t\t,\turl = itemKey.get('_isPurchasable') ? itemKey.get('_url') : null;\n\n\t\t\t\t\t\t\t\t\tif (url && SC.ENVIRONMENT.siteType === 'ADVANCED')\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\t\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t\t\t\t\t,\tdata: {\n\t\t\t\t\t\t\t\t\t\t\t\ttouchpoint: 'home'\n\t\t\t\t\t\t\t\t\t\t\t,\thashtag: '#' + url\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if (url)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlink_attributes = SC.Utils.objectToAtrributes({\n\t\t\t\t\t\t\t\t\t\t\thref: url\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tvar name = itemKey.get('_name');\n\t\t\t\t\t\t\t\t\tif (link_attributes) {\n\t\t\t\t\t\t\t\t\t\tname = '<a ' + link_attributes + '>' + name + '<\/a>';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t%>\n\n\t\t\t\t\t\t\t\t<div class=\"row-fluid nav-tabs item-<%= item.get('internalid') %>\">\n\t\t\t\t\t\t\t\t\t<div class=\"span1 item-image hide-phone\"><img src=\"<%= view.options.application.resizeImage(itemKey.get('_thumbnail').url, 'tinythumb') %>\" alt=\"<%= itemKey.get('_thumbnail').altimagetext %>\"><\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span4 popover-content\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"item-displayname\">\n\t\t\t\t\t\t\t\t\t\t<%= name %>\n\t\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"item-id\"><%= _('<span class=\"text-light\">SKU:<\/span> #$(0)').translate(itemKey.get('_sku')) %><\/div>\n\t\t\t\t\t\t\t\t\t\t<%= itemKey.renderAllOptionSelected() %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span1 popover-content item-quantity\"><%= _('<span class=\"show-phone text-light\">Qty: <\/span>$(0)').translate(item.get('quantity')) %><\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span3 popover-content item-unitprice\"><%= _('<span class=\"show-phone text-light\">Unit Price: <\/span>$(0)').translate(item.get('rate_formatted')) %><\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span3 popover-content responsive-align item-totalprice\"><%= _('<span class=\"show-phone text-light\">Amount: <\/span>$(0)').translate(item.get('amount_formatted')) %><\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\n\t\t\t\t\t<!-- SALES REP -->\n\t\t\t\t\t<% if (invoice.get('salesrep')) {\n\t\t\t\t\t\tvar salesrep = invoice.get('salesrep');\n\t\t\t\t\t%>\n\t\t\t\t\t\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t\t\t\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t\t\t<%= _('Sales Rep').translate() %>\n\t\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"strong-text\"> <%= salesrep.name %> <\/div>\n\t\t\t\t\t\t\t\t\t\t<div> <%= site_name %><\/div>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t\t<div class=\"span6\">\n\t\t\t\t\t\t\t\t\t\t<% if (salesrep.phone) { %>\n\t\t\t\t\t\t\t\t\t\t\t<div> <%= _('Tel:').translate() %> <\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div> <%= salesrep.phone %> <\/div>\n\t\t\t\t\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t\t\t\t\t<% if (salesrep.email) { %>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"<%= salesrep.phone ? 'invoice-details-top10-separator' : '' %>\"> <%= _('Email:').translate() %> <\/div>\n\t\t\t\t\t\t\t\t\t\t\t<div> <%= salesrep.email %> <\/div>\n\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<!-- BILLING -->\n\t\t\t\t\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t\t\t\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t\t\t\t\t<div class=\"well-header\">\n\t\t\t\t\t\t\t\t<%= _('Billing').translate() %>\n\t\t\t\t\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t\t\t\t<div class=\"span6 popover-content\">\n\t\t\t\t\t\t\t\t\t<% if (bill_address) { %>\n\t\t\t\t\t\t\t\t\t\t<%= address(bill_address, {\n\t\t\t\t\t\t\t\t\t\t\thideDefaults: true\n\t\t\t\t\t\t\t\t\t\t,\tshowSelect: false\n\t\t\t\t\t\t\t\t\t\t,\thideActions: true\n\t\t\t\t\t\t\t\t\t\t}) %>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<div class=\"span6 popover-content\">\n\n\t\t\t\t\t\t\t\t\t<div><%= _('Terms:').translate() %><\/div>\n\t\t\t\t\t\t\t\t\t<% var paymentmethod = view.model.get('paymentmethods') && view.model.get('paymentmethods').findWhere({primary: true}); %>\n\t\t\t\t\t\t\t\t\t<% if (paymentmethod && paymentmethod.get('paymentterms')) { %>\n\t\t\t\t\t\t\t\t\t\t<span class=\"strong-text\"><%= paymentmethod.get('paymentterms').name %><\/span>\n\t\t\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t\t\t<span><%= _('N\/A').translate() %><\/span>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t<% if (invoice.get('memo')) { %>\n\t\t\t\t\t\t\t\t\t\t<div class=\"invoice-details-top10-separator\"> <%= _('Memo:').translate()  %><\/div>\n\t\t\t\t\t\t\t\t\t\t<span ><%=invoice.get('memo')%><\/span>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<div class=\"<%= view.inModal ? 'span12' : 'span4' %>\" name=\"summary-container\">\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"list-header\">\n\t\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group strong\">\n\t\t\t\t\t\t\t<%= _('SUMMARY').translate() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t\t<div class=\"span8 invoice-details-count\">\n\t\t\t\t\t\t\t\t<%= _('Items ($(0))').translate(items.length) %>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<div class=\"span4 text-right sub-total\">\n\t\t\t\t\t\t\t\t<%= summary.subtotal_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t\t<%= _('Tax Total').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<div class=\"span4 pull-right text-right tax-total\">\n\t\t\t\t\t\t\t\t<%= summary.taxtotal_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t\t<%= _('Shipping').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<div class=\"span4 text-right shipping-cost\">\n\t\t\t\t\t\t\t\t<%= summary.shippingcost_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<div class=\"<% if (!has_adjustments) { %>nav-tabs<% } %> row-fluid control-group\">\n\t\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t\t<%= _('Handling').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<div class=\"span4 text-right handling-cost\">\n\t\t\t\t\t\t\t\t<%= summary.handlingcost_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t<% if (summary.giftcertapplied) { %>\n\t\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t\t<div class=\"span7\">\n\t\t\t\t\t\t\t\t<%= _('Gift Certificate').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<div class=\"span5 text-right total\">\n\t\t\t\t\t\t\t\t<%= summary.giftcertapplied_formatted %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<% if (has_adjustments) { %>\n\t\t\t\t\t\t\t<div class=\"nav-tabs row-fluid control-group\">\n\t\t\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t\t\t<%= _('Subtotal').translate() %>\n\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t<div class=\"span4 text-right total\">\n\t\t\t\t\t\t\t\t\t<%= summary.total_formatted %>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<div class=\"row-fluid control-group invoice-details-adjustments\">\n\t\t\t\t\t\t\t\t<span class=\"strong\">\n\t\t\t\t\t\t\t\t\t<%= _('ADJUSTMENTS').translate() %>\n\t\t\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<!-- PAYMENTS -->\n\t\t\t\t\t\t\t<% payments && payments.each(function (payment) { %>\n\t\t\t\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t\t\t\t<a href=\"\/transactionhistory\/customerpayment\/<%= payment.get('internalid') %>\" data-action=\"update-layout\"> <%= _('Payment #$(0)').translate(payment.get('tranid')) %> <\/a>\n\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"span4 text-right payment-amount\">\n\t\t\t\t\t\t\t\t\t\t(<%= payment.get('appliedtoforeignamount_formatted') %>)\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<%\t}); %>\n\n\t\t\t\t\t\t\t<!-- CREDIT MEMOS -->\n\t\t\t\t\t\t\t<% credit_memos && credit_memos.each(function (credit_memo) { %>\n\t\t\t\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t\t\t\t<a href=\"\/transactionhistory\/creditmemo\/<%= credit_memo.get('internalid') %>\" data-action=\"update-layout\"> <%= _('Credit Memo #$(0)').translate(credit_memo.get('tranid')) %> <\/a>\n\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"span4 text-right payment-amount\">\n\t\t\t\t\t\t\t\t\t\t(<%= credit_memo.get('appliedtoforeignamount_formatted') %>)\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<%\t}); %>\n\n\t\t\t\t\t\t\t<!-- DEPOSIT APPLICATIONS -->\n\t\t\t\t\t\t\t<% deposit_applications && deposit_applications.each(function (deposit_application) { %>\n\t\t\t\t\t\t\t\t<div class=\"row-fluid control-group\">\n\t\t\t\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t\t\t\t<a href=\"\/transactionhistory\/depositapplication\/<%= deposit_application.get('internalid') %>\" data-action=\"update-layout\"> <%= _('Deposit Applications #$(0)').translate(deposit_application.get('tranid')) %> <\/a>\n\t\t\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t\t\t<div class=\"span4 pull-right text-right payment-amount\">\n\t\t\t\t\t\t\t\t\t\t(<%= deposit_application.get('appliedtoforeignamount_formatted') %>)\n\t\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<%\t}); %>\n\t\t\t\t\t\t<% } %>\n\n\t\t\t\t\t\t<div class=\"row-fluid strong\">\n\t\t\t\t\t\t\t<div class=\"span8\">\n\t\t\t\t\t\t\t\t<%= _('Amount Due').translate() %>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<div class=\"span4 text-right invoice-details-total\">\n\t\t\t\t\t\t\t\t<%= invoice.get('amountDue_formatted') %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\n\t\t\t\t<div class=\"margin-top-10 margin-bottom-10 invoice-detail-page-btn\">\n\t\t\t\t\t<% if (is_open && !view.inModal) { %>\n\t\t\t\t\t<div class=\"row-fluid margin-top-10\">\n\t\t\t\t\t\t<a data-permissions=\"<%= make_a_payment_permissions %>\" href=\"\/make-a-payment\" data-type=\"make-a-payment\" class=\"btn btn-primary btn-large <% if (!view.inModal) { %>btn-expanded btn-block<% } %>\"><%= _('Make a Payment').translate() %><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<% if (!view.inModal) { %>\n\t\t\t\t\t<div class=\"row-fluid margin-top-10\">\n\t\t\t\t\t\t<a data-stdnav target=\"_blank\" class=\"btn btn-large download-pdf-btn <% if (!view.inModal) { %>btn-expanded btn-block<% } %>\" href=\"<%= url %>\"><%= _('Download as PDF').translate() %><\/a>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% if (view.isReturnable()) { %>\n\t\t\t\t\t\t<div class=\"row-fluid margin-top-10\">\n\t\t\t\t\t\t\t<a href=\"\/returns\/new\/invoice\/<%= invoice.get('internalid') %>\" class=\"btn btn-large request-return <% if (!view.inModal) { %>btn-expanded btn-block<% } %>\" data-permissions=\"transactions.tranRtnAuth.2\"><%= _('Request return').translate() %><\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<% } %>\n\n\t\t\t\t\t<% if (view.inModal) { %>\n\t\t\t\t\t<a href=\"invoices\/<%= invoice.get('internalid') %>\" class=\"btn\" data-action=\"update-layout\"><%= _('Go to detailed page').translate() %><\/a>\n\t\t\t\t\t<a href=\"#\" class=\"btn btn-link\" data-dismiss=\"modal\"><%= _('Close').translate() %><\/a>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/section>\n","wizard_module_tmpl":"<h2>Module Name<\/h2>","payment_wizard_summary_module_tmpl":"<div class=\"well payment-summary\">\n\t<header class=\"well-header\">\n\t\t<h2>\n\t\t\t<%= _('Payment Summary').translate() %>\n\t\t<\/h2>\n\t<\/header>\n\t<div class=\"well-body accordion\">\n\t\t<div class=\"well-section payment-summary-invoices\">\n\t\t\t<p>\n\t\t\t\t<%= _('Invoices (<span class=\"invoices-number\">$(0)<\/span>)').translate(view.wizard.model.getSelectedInvoices().length) %>\n\t\t\t\t<span class=\"pull-right invoices-total\"><%= _.formatCurrency(view.wizard.model.get('invoices_total')) %><\/span>\n\t\t\t<\/p>\n\t\t<\/div>\n\t\t\t<% if (view.options.total_label) { %>\n\t\t\t<div class=\"well-section payment-deposits-subtotal\">\n\t\t\t\t<p>\n\t\t\t\t\t<%= _('Deposits Subtotal').translate() %>\n\t\t\t\t\t<span class=\"pull-right\"><%= view.wizard.model.get('deposits_total_formatted') %><\/span>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t\t<div class=\"well-section payment-credits-subtotal\">\n\t\t\t\t<p>\n\t\t\t\t\t<%= _('Credits Subtotal').translate() %>\n\t\t\t\t\t<span class=\"pull-right\"><%= view.wizard.model.get('credits_total_formatted') %><\/span>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<% } %>\n\t\t<div class=\"well-section payment-summary-estimated\">\n\t\t\t<p class=\"strong\">\n\t\t\t\t<%= view.options.total_label ? view.options.total_label : _('Estimated payment').translate() %>\n\t\t\t\t<% if (view.options.show_estimated_as_invoices_total) { %>\n\t\t\t\t\t<span class=\"pull-right estimated-payment-total\"><%= _.formatCurrency(view.wizard.model.get('invoices_total')) %><\/span>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<span class=\"pull-right estimated-payment-total\"><%= view.wizard.model.get('payment_formatted') %><\/span>\n\t\t\t\t<% } %>\n\t\t\t<\/p>\n\t\t<\/div>\n\t\t<% if (view.options.total_label && view.wizard.model.get('payment') && view.wizard.application.getConfig('siteSettings.checkout.requireccsecuritycode') === 'T') { %>\n\t\t\t<div class=\"alert alert-info payment-summary-alert-information\">\n\t\t\t\t<%= _('Add your credit card security code (CSC\/CVV) before submitting the payment').translate() %>\n\t\t\t<\/div>\n\t\t<% } else if (view.options.total_label && !view.wizard.model.get('payment')) {%>\n\t\t\t<div class=\"alert alert-success payment-summary-alert-information\">\n\t\t\t\t<%= _('Payment method is not required').translate() %>\n\t\t\t<\/div>\n\t\t<% } %>\n\t\t<div class=\"well-footer payment-summary-action-buttons\">\n\t\t\t<button class=\"btn btn-primary btn-block btn-large btn-continue\" data-action=\"submit-step\" <%= view.continueButtonDisabled %>>\n\t\t\t\t<%= view.continueButtonLabel %>\n\t\t\t<\/button>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n","layout_tmpl":"<% if (view.application.getConfig('siteSettings.sitetype') === 'ADVANCED') { %>\n<header id=\"site-header\" class=\"site-header\">\n\t<%= header(view) %>\n<\/header>\n<% } %>\n<div class=\"container main-container\">\n\t<div id=\"breadcrumb\">\n\t\t<%= breadcrumb() %>\n\t<\/div>\n\t<div class=\"layout-error-placeholder\"><\/div>\n\t<div class=\"row-fluid\">\n\t\t<nav id=\"side-nav\" class=\"span3\">\n\t\t\t<h2><%= _('My Account').translate() %><\/h2>\n\t\t\t<hr>\n\t\t\t<ul id=\"sidebar\" class=\"nav nav-tabs nav-stacked\">\n\t\t\t<% _.each(view.application.getLayout().getMenuItems(), function (item, index) { %>\n\t\t\t\t<% if (item.children) { %> \n\t\t\t\t<%= tree(item, tree, 0, true) %>\n\t\t\t\t<% } else { %>\n\t\t\t\t<li data-label=\"<%= item.id %>\" data-permissions=\"<%= item.permission %>\">\n\t\t\t\t\t<a href=\"\/<%= item.url %>\"  target=\"<%= item.target %>\">\n\t\t\t\t\t\t<%= item.name %>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t\t<% } %>\n\t\t\t<% }) %>\n\t\t\t<\/ul>\n\t\t\t<div data-type=\"product-list-menu\"><\/div>\n\t\t<\/nav>\n\t\t<div id=\"content\" data-type=\"product-list-details\" class=\"span9\"><\/div>\n\t<\/div>\n<\/div>\n<% if (view.application.getConfig('siteSettings.sitetype') === 'ADVANCED') { %>\n<footer id=\"site-footer\" class=\"site-footer\">\n\t<%= footer(view) %>\n<\/footer>\n<% } %>\n","product_list_lists_tmpl":"<header>\n\t<h3><%= _('My Product Lists').translate()%><\/h3>\n\t\n\t<a href=\"\/\" class=\"back-btn\">\n\t\t<%= _('&lt; Back to Account').translate() %>\n\t<\/a>\n\t<hr class=\"divider-small\">\n\n\t<div data-confirm-message class=\"confirm-message\"><\/div>\n\t<div class=\"row-fluid\">\n\t\t<div class=\"product-list-header product-list-lists-header clearfix\">\n\t\t\t<% if(view.collection.length) { %>\n\t\t\t<button class=\"btn pull-right add-list\" data-action=\"add-list\"><%= _('Create new list').translate()%><\/button>\n\t\t\t<% } %>\t\t\t\n\t\t\t<% if(view.collection.length > 1) { %>\n\t\t\t<span class=\"actions-container\" style=\"display: none\">\n\t\t\t\t<%= _('Sort By').translate()%>\n\t\t\t\t<select class=\"sort-by\" data-action=\"sort-by\">\n\t\t\t\t\t<option value=\"modified-date\">Modified Date<\/option>\n\t\t\t\t\t<option value=\"list-name\">List name<\/option>\n\t\t\t\t\t<option value=\"amount-of-items\">Amount of Items<\/option>\n\t\t\t\t<\/select>\n\t\t\t<\/span>\n\t\t\t<% } else if(view.collection.length === 0){ %>\n\t\t\t<span><%= _('You have not product lists yet. You can create one now. ').translate()%><\/span>\n\t\t\t<% } %>\t\t\t\n\t\t<\/div>\n\t<\/div>\n<\/header>\n\n<% \n\/\/ if the customer as no lists then we show a Create New List form (rendered in view.render())\nif(!view.collection.length) { %>\n<br\/>\n<h4><%=_('Create a product list').translate()%><\/h4><br\/>\n<div data-type=\"new-product-list\"><\/div>\n<% } else { %>\n<div class=\"product-list-lists\">\n<% view.collection.each(function(model){ %>\n<%= productListListDetails(model) %>\n<% }); } %>\n<\/div>\n","payment_wizard_showtotal_module_tmpl":"<div class=\"payment-table-footer\">\n\t<div class=\"row-fluid payment-table-row-main lead payment-show-total-container\">\n\t\t<div class=\"span4 offset4\">\n\t\t\t<%= _('Payment Total').translate() %>\n\t\t<\/div>\n\t\t<div class=\"span4 text-right\">\n\t\t\t<b><%= view.wizard.model.get('confirmation') ? view.wizard.model.get('confirmation').payment_formatted : view.wizard.model.get('payment_formatted') %><\/b>\n\t\t<\/div>\n\t<\/div>\n<\/div>","customer_payment_details_tmpl":"<section>\n\t<header>\n\t\t<h3>\n\t\t\t<%= _('Payment <span class=\"strong PaymentNumber\">#$(0)<\/span>').translate(view.model.get('tranid')) %>\n\t\t\t<span class=\"strong pull-right PaymentAmount hidden-phone\"><%= view.model.get('payment_formatted') %><\/span>\n\t\t<\/h3>\n\t\t<a href=\"\/transactionhistory\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Transaction History').translate() %>\n\t\t<\/a>\n\t<\/header>\n\n\t<hr class=\"divider-small\">\n\t\n\t<%\n\t\tvar collapse_elements = view.options.application.getConfig('collapseElements')\n\t\t,\tstatus = view.model.get('status')\n\t\t,\turl = _.getDownloadPdfUrl({asset: 'customer-payment-details', id: view.model.get('internalid')});\n\t%>\n\n\t<div class=\"header-information margin-bottom-10\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span12\">\n\t\t\t\t<p class=\"pull-right info hidden-phone\">\n\t\t\t\t\t<%= _('Status: <span class=\"status\">$(0)<\/span>').translate(status) %>\n\t\t\t\t<\/p> \n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Date: $(0)').translate(view.model.get('trandate')) %>\n\t\t\t\t<\/p>\n\t\t\t\t<p class=\"info visible-phone\">\n\t\t\t\t\t<%= _('Status: <span class=\"quote-status status\">$(0)<\/span>').translate(status) %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"row-fluid\">\n\t\t\t<a href=\"<%= url %>\" target=\"_blank\" class=\"btn btn-expanded pull-right\"><%= _('Download as PDF').translate() %><\/a>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t<div class=\"well\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<%= _('Invoices').translate() %>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus <%= collapse_elements ? '' : 'icon-minus' %>\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-content=\"items-body\" <%= collapse_elements ? 'style=\"display: none;\"' : '' %>>\n\t\t\t<% if (view.model.get('invoices') && view.model.get('invoices').length) { %>\n\t\t\t\t<div class=\"row-fluid nav-tabs hide-phone\">\n\t\t\t\t\t<div class=\"span3 popover-content popover-heading\"><%= _('Number').translate() %><\/div>\n\t\t\t\t\t<div class=\"span5 popover-content popover-heading\"><%= _('Date').translate() %><\/div>\n\t\t\t\t\t<div class=\"span2 popover-content popover-heading\"><%= _('Disc').translate() %><\/div>\n\t\t\t\t\t<div class=\"span2 popover-content popover-heading responsive-align\"><%= _('Amount').translate() %><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<%\t_.each(_.filter(view.model.get('invoices'),function(obj){return obj.apply}), function (invoice, index) { %>\n\t\t\t\t\t<div class=\"row-fluid nav-tabs Invoice<%= invoice.refnum %>\">\n\t\t\t\t\t\t<div class=\"span3 text-left popover-content InvoiceNumber\">\n\t\t\t\t\t\t\t<span class=\"show-phone text-light\"><%= _('Number: ').translate() %><\/span>\n\t\t\t\t\t\t\t<a href=\"invoices\/<%= invoice.internalid %>\">\n\t\t\t\t\t\t\t\t<%= _('$(0)').translate(invoice.refnum) %>\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span5 popover-content\">\n\t\t\t\t\t\t\t<%= _('<span class=\"show-phone text-light\">Date: <\/span><span class=\"InvoiceDate\">$(0)<\/span>').translate(invoice.applydate) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span2 popover-content InvoceAmount\">\n\t\t\t\t\t\t\t<%= _('<span class=\"show-phone text-light\">Disc: <\/span>$(0)').translate(invoice.disc_formatted) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"span2 popover-content responsive-align InvoceAmount\">\n\t\t\t\t\t\t\t<%= _('<span class=\"show-phone text-light\">Amount: <\/span>$(0)').translate(invoice.amount_formatted) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }) %>\n\t\t\t\t<div class=\"control-group\"><\/div>\n\t\t\t\t<div class=\"row-fluid\">\n\t\t\t\t\t<div class=\"offset5 span4 text-right\">\n\t\t\t\t\t\t<span class=\"lead popover-content hide-phone\"><%= _('Payment Total').translate() %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class=\"span3 text-right\">\n\t\t\t\t\t\t<span class=\"lead strong popover-content PaymentTotal\"><%=  _('<span class=\"show-phone\">Payment Total: <\/span>$(0)').translate(view.model.get('payment_formatted')) %><\/span>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"row-fluid control-group\" data-type=\"accordion\">\n\t\t<div class=\"well-secundary\" data-action=\"items-expander\">\n\t\t\t<div class=\"well-header\">\n\t\t\t\t<%= _('Billing & Payment Method').translate() %>\n\t\t\t\t<a href=\"#\" class=\"pull-right\"><i class=\"icon-plus\"><\/i><\/a>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div data-content=\"items-body\" style=\"display: none;\">\n\t\t\t<div class=\"row-fluid\">\n\t\t\t\t<div class=\"span6 popover-content\">\n\t\t\t\t\t<% var paymentmethod = view.model.get('paymentmethods') && view.model.get('paymentmethods').findWhere({primary: true}) %>\n\t\t\t\t\t<% if (paymentmethod && paymentmethod.get('type')) { %>\n\t\t\t\t\t\t<div class=\"PaymentMethod\">\n\t\t\t\t\t\t\t<%= SC.macros.formatPaymentMethod(paymentmethod, view.options.application.getConfig('creditCardIcons'),true) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"span6 popover-content\">\n\t\t\t\t\t<% if (view.model.get('memo')) { %>\n\t\t\t\t\t\t<div>Memo:<\/div>\n\t\t\t\t\t\t<div class=\"PaymentMemo\"><%= view.model.get('memo') %><\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n<\/section>\n","product_list_control_new_pl_tmpl":"<button class=\"btn pull-left btn-expanded\" data-type=\"show-add-new-list-form\"><%= _('Create a new list').translate() %><\/button>\n<form action=\"#\" data-type=\"add-new-list-form\">\n\t<div class=\"control-group control-group-name\">\n\t\t<span class=\"controls\">\n\t\t\t<input class=\"add-new-list-input\" name=\"name\" type=\"text\" data-type=\"new-product-list-name\" placeholder=\"<%= _('Your new list name').translate() %>\" >\n\t\t<\/span>\n\t<\/div>\n\t\n\t<div class=\"add-new-list-buttons\">\n\t\t<button type=\"submit\" class=\"btn new-product-list-btn pull-right btn-expanded\"><%= view.parentView.mode === 'move' ? _('Create and move Item').translate() : _('Create and Add Item').translate() %><\/button>\n\t<\/div>\n<\/form>\n","receipt_details_tmpl":"<%\tvar elements = []\n\t,   items = view.model.get('lines')\n\t,   collapse_elements = view.application.getConfig('collapseElements')\n\t,\ttitle = _('Receipt').translate()\n\t,\tstatus = _('Status: <span class=\"payment-status order-status status\">$(0)<\/span>').translate(view.model.get('status') || _('Deposited').translate())\n\t,\turl = _.getDownloadPdfUrl({\n\t\t\tasset: 'receipt-details'\n\t\t,\ttrantype: view.model.get('trantype')\n\t\t,\tlabel: encodeURIComponent(view.model.get('type_name'))\n\t\t,\tid: view.model.get('internalid')\n\t});\n%>\n\n<section>\n\t<header>\n\t\t<h3>\n\t\t\t<%= _('Receipt <b>#$(0)<\/b>').translate(view.model.get('order_number')) %>\n\t\t\t<span class=\"pull-right hidden-phone strong\">\n\t\t\t\t<%= view.model.get('summary').total_formatted %>\n\t\t\t<\/span>\n\t\t<\/h3>\n\t\t<a href=\"\/receiptshistory\" class=\"back-btn\">\n\t\t\t<%= _('&lt; Back to Cash Sales &amp; Receipts').translate() %>\n\t\t<\/a>\n\t<\/header>\n\n\t<hr class=\"divider-small\">\n\n\t<!-- Navigation Links -->\n\t<div class=\"header-information margin-bottom-10\">\n\t\t<div class=\"row-fluid\">\n\t\t\t<div class=\"span12\">\n\t\t\t\t<p class=\"pull-right info hidden-phone\">\n\t\t\t\t\t<%= status %>\n\t\t\t\t<\/p>\n\t\t\t\t<p class=\"info\">\n\t\t\t\t\t<%= _('Date: $(0)').translate(view.model.get('date')) %>\n\t\t\t\t<\/p>\n\t\t\t\t<p class=\"info visible-phone\">\n\t\t\t\t\t<%= status %>\n\t\t\t\t<\/p>\n\t\t\t<\/div>\n\t\t<\/div>\n\n\t\t<div class=\"row-fluid\">\n\t\t\t<a href=\"<%= url %>\" target=\"_blank\" class=\"btn btn-expanded pull-right download-pdf\"><%= _('Download as PDF').translate() %><\/a>\n\t\t<\/div>\n\t<\/div>\n\n\t<!-- Fullfillment -->\n\t<table class=\"table order-details\">\n\t\t<!-- Fullfillment Title -->\n\t\t<tr>\n\t\t\t<td colspan=\"3\">\n\t\t\t\t<h3><%= _('Payment Information').translate() %><\/h3>\n\t\t\t<\/td>\n\t\t<\/tr>\n\t\t<!-- Fullfillment Lines -->\n\t\t<tr>\n\t\t\t<td colspan=\"3\">\n\t\t\t\t<table class=\"table order-lines\">\n\t\t\t\t\t<col class=\"order-items-col1\">\n\t\t\t\t\t<col class=\"order-items-col2\">\n\t\t\t\t\t<col class=\"order-items-col3\">\n\t\t\t\t\t<col class=\"order-items-col4\">\n\t\t\t\t\t<col class=\"order-items-col5\">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th class=\"text-light font-normal\"><%= _('Image').translate() %><\/th>\n\t\t\t\t\t\t<th class=\"text-light font-normal\"><%= _('Name').translate() %><\/th>\n\t\t\t\t\t\t<th class=\"text-light font-normal\"><%= _('Qty').translate() %><\/th>\n\t\t\t\t\t\t<th class=\"text-light font-normal\"><%= _('Price').translate() %><\/th>\n\t\t\t\t\t\t<th class=\"text-light font-normal\"><%= _('Amount').translate() %><\/th>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\t<%\n\t\t\t\t\t\t_.each(view.model.get('lines').models, function (line, index)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar\titem_details = {\n\t\t\t\t\t\t\t\t\titem: line.get('item')\n\t\t\t\t\t\t\t\t,\tid: line.id\n\t\t\t\t\t\t\t\t,\toptions: line.get('options')\n\t\t\t\t\t\t\t\t,\tquantity: line.get('quantity')\n\t\t\t\t\t\t\t\t,\tprice: line.get('rate_formatted')\n\t\t\t\t\t\t\t\t,\tamount: line.get('amount_formatted')\n\t\t\t\t\t\t\t\t,\treorder: line.get('item').get('_isPurchasable')\n\t\t\t\t\t\t\t\t,\tapplication: view.options.application\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t,\tshipgroup_subtotal = shipgroup_subtotal + item_details.amount\n\t\t\t\t\t%>\n\t\t\t\t\t\t<%= itemDetails(item_details) %>\n\t\t\t\t\t<% }) %>\n\t\t\t\t<\/table>\n\t\t\t<\/td>\n\t\t<\/tr>\n\t<\/table>\n\t<!-- Shipping Groups Ends -->\n\t<!-- Payment Information -->\n\t<table class=\"table order-details\">\n\t\t<col class=\"order-details-col1\">\n\t\t<col class=\"order-details-col2\">\n\t\t<col class=\"order-details-col3\">\n\t\t<!-- Payment Information Title -->\n\t\t<tr>\n\t\t\t<td colspan=\"3\">\n\t\t\t\t<h3><%= _('Payment Information').translate() %><\/h3>\n\t\t\t<\/td>\n\t\t<\/tr>\n\t\t<!-- Payment Information Title Ends -->\n\t\t<tr>\n\t\t\t<td>\n\t\t\t\t<p><b><%= _('Billing To').translate() %><\/b><\/p>\n\t\t\t\t<% var billaddress = view.model.get('addresses').get(view.model.get('billaddress')); %>\n\t\t\t\t<p><%= ( ( billaddress && billaddress.getFormattedAddress() ) || _('N\/A').translate()).replace(\/\\n\/g, '<br>') %><\/p>\n\t\t\t<\/td>\n\t\t\t<td>\n\t\t\t\t<p><b><%= _('Payment Method').translate() %><\/b><\/p>\n\t\t\t\t<p>\n\t\t\t\t<% var paymentmethod = view.model.get('paymentmethods') && view.model.get('paymentmethods').findWhere({primary: true}); %>\n\t\t\t\t<% if (paymentmethod) { %>\n\t\t\t\t\t<%= SC.macros.formatPaymentMethod(paymentmethod, view.application.getConfig('creditCardIcons')) %>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<%= _('N\/A').translate() %>\n\t\t\t\t<% } %>\n\t\t\t\t<\/p>\n\t\t\t<\/td>\n\t\t\t<td>\n\t\t\t\t<p><b><%= _('$(0) Summary').translate( title ) %><\/b><\/p>\n\t\t\t\t<p>\n\t\t\t\t\t<table class=\"table table-condensed order-sumary\">\n\t\t\t\t\t\t<col class=\"order-sumary-names\">\n\t\t\t\t\t\t<col class=\"order-sumary-values\">\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-name\"><%= _('$(0) Subtotal').translate( title ) %><\/td>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-value\"><%= view.model.get('summary').subtotal_formatted  %><\/td>\n\t\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t\t<% if ( parseFloat( view.model.get('summary').discounttotal ) ) { %>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-name\"><%= _('$(0) Discount').translate( title ) %><\/td>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-value\"><%= view.model.get('summary').discounttotal_formatted  %><\/td>\n\t\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if ( parseFloat( view.model.get('summary').shippingcost ) ) { %>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-name\"><%= _('Shipping Total').translate() %><\/td>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-value\"><%= view.model.get('summary').shippingcost_formatted %><\/td>\n\t\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if ( parseFloat( view.model.get('summary').handlingcost ) ) { %>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-name\"><%= _('Handling Total').translate() %><\/td>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-value\"><%= view.model.get('summary').handlingcost_formatted %><\/td>\n\t\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<% if ( view.model.get('promocode') ) { %>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-name\"><%= _('Promo Code').translate() %><\/td>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-value\"><%= view.model.get('promocode').code %><\/td>\n\t\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-name\"><%= _('Tax Total').translate() %><\/td>\n\t\t\t\t\t\t\t\t<td class=\"order-sumary-value\"><%= view.model.get('summary').taxtotal_formatted %><\/td>\n\t\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th class=\"order-sumary-name\"><%= _('$(0) Total').translate( title ) %><\/th>\n\t\t\t\t\t\t\t\t<th class=\"order-sumary-value\"><%= view.model.get('summary').total_formatted %><\/th>\n\t\t\t\t\t\t\t<\/tr>\n\t\t\t\t\t\t<\/tbody>\n\t\t\t\t\t<\/table>\n\t\t\t\t<\/p>\n\t\t\t<\/td>\n\t\t<\/tr>\n\t<\/table>\n<\/section>\n","order_wizard_showpayments_module_tmpl":"<div class=\"row-fluid\">\n\t<div class=\"span6 wizard-showpayments-billing-address\">\n\t\t<h4 class=\"section-header\">\n\t\t\t<%=_('Billing Address').translate()%>\n\t\t<\/h4>\n\t\t<%\n\t\t\tvar billing_address = view.model.get('billaddress') ?\n\t\t\t\t\tview.profile.get('addresses').get(view.model.get('billaddress')) :\n\t\t\t\t\tnull;\n\t\t%>\n\t\t<% if (billing_address) { %>\n\t\t\t<%= address(billing_address, {\n\t\t\t\thideActions: true\n\t\t\t,\thideDefaults: true\n\t\t\t,\tmanage: 'billaddress'\n\t\t\t}) %>\n\t\t<% } else { %>\n\t\t\t<a data-action=\"edit-module\" href=\"<%- view.options.edit_url_billing %>?force=true\">\n\t\t\t\t<%= _('Please select a valid billing address').translate() %>\n\t\t\t<\/a>\n\t\t<% } %>\n\t\t<% if (billing_address && view.options.edit_url_address) { %>\n\t\t\t<a data-action=\"edit-module\" href=\"<%- view.options.edit_url_address %>?force=true\">\n\t\t\t\t<%= _('Edit').translate() %>\n\t\t\t<\/a>\n\t\t<% } %>\n\t<\/div>\n\t<%\n\t\tvar giftcertificates = view.getGiftCertificates()\n\t\t,\tpaymentmethods = view.getPaymentmethods();\n\t%>\n\t<div class=\"span6 wizard-showpayments-billing-payment-method\">\n\t\t<% if (giftcertificates.length || paymentmethods.length || !view.wizard.hidePayment()) {%>\n\t\t\t<h4 class=\"section-header\">\n\t\t\t\t<%= _('Payment Type').translate() %>\n\t\t\t<\/h4>\n\t\t\t<div class=\"payment-methods-summary\">\n\t\t\t\t<% _.each(paymentmethods, function (paymentmethod) { %>\n\t\t\t\t\t<%= SC.macros.formatPaymentMethod(paymentmethod, view.application.getConfig('creditCardIcons')) %>\n\t\t\t\t<% }); %>\n\t\t\t\t<% if (giftcertificates.length) { %>\n\t\t\t\t\t<br>\n\t\t\t\t\t<b><%= _('Gift Certificates').translate() %><\/b><br>\n\t\t\t\t\t<% _.each(giftcertificates, function (paymentmethod) { %>\n\t\t\t\t\t\t<%= SC.macros.formatPaymentMethod(paymentmethod) %>\n\t\t\t\t\t\t<br>\n\t\t\t\t\t<% }); %>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (view.profile.get('isGuest') === 'T') { %>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h5><%- view.profile.get('email') %><\/h5>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<% if (view.options.edit_url_billing) { %>\n\t\t\t\t<a data-action=\"edit-module\" href=\"<%- view.options.edit_url_billing %>?force=true\">\n\t\t\t\t\t<%= _('Edit').translate() %>\n\t\t\t\t<\/a>\n\t\t\t<% } %>\n\t\t<% } %>\n\t<\/div>\n<\/div>","iframe_tmpl":"<iframe src=\"<%- view.src %>\" class=\"modalIFrame\"><\/iframe>\n<script type=\"text\/javascript\">\n\t\/\/TODO: Search for an alternative to this fix of issue 271237\n\tif(navigator.userAgent.match(\/iPhone\/i)){\n\t\tjQuery('.modalIFrame').attr('scrolling','no');\n\t}\n<\/script>","order_wizard_paymentmethod_creditcard_module_tmpl":"<% var view_credit_card = view.creditcard %>\n\n<% if (view.getTitle()) { %>\n\t<h3 class=\"section-header\">\n\t\t<%= view.getTitle() %>\n\t<\/h3>\n<% } %>\n\n<% if (view_credit_card && !view_credit_card.isNew()) { %>\n<div class=\"credit-card-selected\">\n\t<%= creditcard(view_credit_card, {\n\t\tshowSecurityCodeForm: view.requireccsecuritycode\n\t,\tsecurityNumberError: view.isSecurityNumberInvalid && view.securityNumberErrorMessage\n\t,\ticons: view.wizard.application.getConfig('creditCardIcons')\n\t,\tccsecuritycode: view.ccsecuritycode\n\t}) %>\n\t<div class=\"actions\">\n\t\t<a class=\"btn btn-link\" href=\"\/creditcards\/<%= view_credit_card.get('internalid') %>\" data-toggle=\"show-in-modal\">\n\t\t\t<%= _('Edit Card').translate() %>\n\t\t<\/a>\n\t\t| \n\t\t<a href=\"#\" class=\"btn btn-link\" data-action=\"change-creditcard\">\n\t\t\t<%= _('Change Card').translate() %>\n\t\t<\/a>\n\t<\/div>\n<\/div>\n<% } %>\n\n<% if (view.creditcards.length >= 1 && !view_credit_card) { %>\n\t<div id=\"creditcard-module-list-placeholder\" class=\"creditcard-module-list-placeholder\">\n\t\t<p>\n\t\t\t<a class=\"btn btn-link add-new-credit-card\" href=\"\/creditcards\/new\" data-toggle=\"show-in-modal\">\n\t\t\t\t<%= _('Add New Credit Card').translate() %>\n\t\t\t<\/a>\n\t\t<\/p>\n\t\t<%\n\t\t\tvar creditcardWrap = function (creditcard) {\n\t\t\t\treturn SC.macros.creditcard(creditcard, {\n\t\t\t\t\tshowSelect: true\n\t\t\t\t,\tshowActions: true\n\t\t\t\t,\tshowDefaults: view.showDefaults\n\t\t\t\t,\tselectMessage: view.selectMessage\n\t\t\t\t,\ticons: view.wizard.application.getConfig('creditCardIcons')\n\t\t\t\t});\n\t\t\t} \n\t\t%>\n\t\t<%= displayInRows(view.creditcards.models, creditcardWrap, view.itemsPerRow || 2) %>\n\t<\/div>\n<% } else if (view.creditcards.length === 0) { %>\n\t<div id=\"creditcard-module-form-placeholder\">\n\t\t<form method=\"POST\">\n\t\t\t<% var date = new Date(); %>\n\t\t\t<%= creditcardForm(view_credit_card, {\n\t\t\t\tapplication: view.wizard.application\n\t\t\t,\tmonths: _.range(1, 13)\n\t\t\t,\tyears: _.range(date.getFullYear(), date.getFullYear() + 25)\n\t\t\t,   currentMonth: date.getMonth() + 1\n\t\t\t,\tshowDefaults: view.showDefaults\n\t\t\t,\tshowSecurityCodeForm: view.requireccsecuritycode\n\t\t\t}) %>\n\t\t<\/form>\n\t<\/div>\n<% } %>","payment_wizard_edit_amount_layout_tmpl":"<form id=\"editAmountToPayForm\" class=\"edit-amount-to-pay\" data-action=\"edit-amount-form\">\n<div>\n\t<div class=\"row-fluid\">\n\t\t<span class=\"span8\"><%= view.original_amount_label %><\/span>\n\t\t<span class=\"span4 text-right\"><%= view.model.get(view.original_amount_attribute + '_formatted') %><\/span>\n\t<\/div>\n\t\n\t<% if (view.amount_due_label) { %>\n\t\t<div class=\"row-fluid\">\n\t\t\t<span class=\"span8\"><%= view.amount_due_label %><\/span>\n\t\t\t<span class=\"span4 text-right\"><%= view.model.get(view.amount_due_attribute + '_formatted') %><\/span>\n\t\t<\/div>\n\t<% } %>\n\t\n\t<hr\/>\n\t\n\t<div class=\"row-fluid control-group control-group-name\">\n\t\t<span class=\"span8\"><%= view.input_label %><\/span>\n\t\t<span class=\"span4 text-right controls\">\n\t\t\t<% var value = view.model.get('discountapplies') && view.model.isPayFull() ? view.model.get('due') : view.model.get('amount') %>\n\t\t\t$<input name=\"amount\" autofocus type=\"text\" class=\"input-small text-right amountToPayInput\" value=\"<%= value %>\" \/>\n\t\t<\/span>\n\t<\/div>\n\n\t<% if (view.model.get('discountapplies')){ %>\n\t\t<div class=\"discountSection<%= view.model.isPayFull() ? '' : ' hide' %>\">\n\t\t\t<div class=\"row-fluid control-group control-group-name\">\n\t\t\t\t<span class=\"span8\"><%= _('Applicable discount $(0)').translate(view.model.get('discount_formatted')) %><\/span>\n\t\t\t\t<span class=\"span4 text-right controls\">- <%= view.model.get('discamt_formatted') %><\/span>\n\t\t\t<\/div>\n\t\t\t<hr \/>\n\t\t\t<div class=\"row-fluid control-group control-group-name\">\n\t\t\t\t<span class=\"span8\"><%= _('Your payment:').translate() %><\/span>\n\t\t\t\t<span class=\"span4 text-right controls payment-due-with-discount\" ><%= view.model.get('duewithdiscount_formatted') %><\/span>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"discountWarning text-right<%= view.model.isPayFull()  ? ' hide' : '' %>\">\n\t\t\t<p><%= _('(!) Discount is only available for full payments.').translate() %><\/p>\n\t\t<\/div>\n\t<% } %>\n\t\n\t<div class=\"text-right\">\n\t\t<input type=\"submit\" value=\"<%= _('Save').translate() %>\" class=\"btn btn-primary btn-large btn-continue AmountToPaySaveButton\" data-action=\"save-amount\" \/>\n\t<\/div>\n<\/div>\n<\/form>"};